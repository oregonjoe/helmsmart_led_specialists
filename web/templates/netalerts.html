<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	
	
	<title>netAlerts - HelmSmart Data Alerts</title>
	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
		<link href="{{ url_for('static', filename='css/timepicker.less') }}" rel="stylesheet" type="text/css" />
		<link href="{{ url_for('static', filename='css/pick-a-color-1.1.8.min.css') }}" rel="stylesheet" type="text/css" />	
		
		
	<script type="text/javascript" src="{{ url_for('static', filename='js/modernizr-2.6.2.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	
		<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-timepicker.js') }}"></script>
	
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.unobtrusive-ajax.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.unobtrusive.js') }}"></script>
	 <script type="text/javascript" src="{{ url_for('static', filename='js/PGNSelectFunctions.js') }}" ></script>
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-ui-timepicker-addon.js') }}"></script> -->
       <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
       <script type="text/javascript" src="{{ url_for('static', filename='js/jscolor.js') }} " ></script>
	   
	<!--   <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-datetimepicker.js') }} " ></script> -->
	   	<link href="{{ url_for('static', filename='css/bootstrap-slider.min.css') }}" rel="stylesheet" type="text/css" />
		<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-slider.min.js') }}"></script>   
	   
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />  
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/fileuploadstyles.css') }}"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/persona-buttons.css') }}"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/helmsmart-buttons.css') }}"/> 
	

	   <!-- <script src='https://cdn.firebase.com/v0/firebase.js'></script> -->
	   
	   <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
	   
	   
	<style>
		.nav-tabs > li.active > a,
		.nav-tabs > li.active > a:hover,
		.nav-tabs > li.active > a:focus {
			color: #fff;
			background-color: #428bca; 
		}

		.tab-content {
			margin-top: 15px;
		}
	</style>


<style type="text/css">
	.map_container{
		 position: relative;
		 width: 100%;
		 /*padding-bottom: 56.25%;*/ /* Ratio 16:9 ( 100%/16*9 = 56.25% ) */
	}
	.map_container .map_canvas{
		height:120px;
		width:180px;
	}

	.map_container .map_edit_canvas{
		width:100%;
		height:280px;
		margin-left:10px;
		border:1px solid gray;
	}

	.ajaxBtn {
		width:44px;
	}
</style>

<style type="text/css">
.dimmerColor0_0{background-color: #000800;} /* Green */
.dimmerColor0_1{background-color: #002400;} /* Green */
.dimmerColor0_2{background-color: #004800;} /* Green */
.dimmerColor0_3{background-color: #006C00;} /* Green */
.dimmerColor0_4{background-color: #009200;} /* Green */
.dimmerColor0_5{background-color: #00B600;} /* Green */
.dimmerColor0_6{background-color: #00DA00;} /* Green */

.dimmerColor1_0{background-color: #080000;} /* Red */
.dimmerColor1_1{background-color: #240000;} /* Red */
.dimmerColor1_2{background-color: #480000;} /* Red */
.dimmerColor1_3{background-color: #6C0000;} /* Red */
.dimmerColor1_4{background-color: #920000;} /* Red */
.dimmerColor1_5{background-color: #B60000;} /* Red */
.dimmerColor1_6{background-color: #DA0000;} /* Red */

.dimmerColor2_0{background-color: #080800;} /* Yellow */
.dimmerColor2_1{background-color: #242400;} /* Yellow */
.dimmerColor2_2{background-color: #484800;} /* Yellow */
.dimmerColor2_3{background-color: #6C6C00;} /* Yellow */
.dimmerColor2_4{background-color: #929200;} /* Yellow */
.dimmerColor2_5{background-color: #B6B600;} /* Yellow */
.dimmerColor2_6{background-color: #DADA00;} /* Yellow */


.dimmerColor3_0{background-color: #000008;} /* BLUE */
.dimmerColor3_1{background-color: #000024;} /* BLUE */
.dimmerColor3_2{background-color: #000048;} /* BLUE */
.dimmerColor3_3{background-color: #00006C;} /* BLUE */
.dimmerColor3_4{background-color: #000092;} /* BLUE */
.dimmerColor3_5{background-color: #0000B6;} /* BLUE */
.dimmerColor3_6{background-color: #0000DA;} /* BLUE */

.dimmerColor4_0{background-color: #080008;} /* CYAN */
.dimmerColor4_1{background-color: #240024;} /* CYAN */
.dimmerColor4_2{background-color: #480048;} /* CYAN */
.dimmerColor4_3{background-color: #6C006C;} /* CYAN */
.dimmerColor4_4{background-color: #920092;} /* CYAN */
.dimmerColor4_5{background-color: #B600B6;} /* CYAN */
.dimmerColor4_6{background-color: #DA00DA;} /* CYAN */

.dimmerColor5_0{background-color: #000808;} /* MEGENTA */
.dimmerColor5_1{background-color: #002424;} /* MEGENTA */
.dimmerColor5_2{background-color: #004848;} /* MEGENTA */
.dimmerColor5_3{background-color: #006C6C;} /* MEGENTA */
.dimmerColor5_4{background-color: #009292;} /* MEGENTA */
.dimmerColor5_5{background-color: #00B6B6;} /* MEGENTA */
.dimmerColor5_6{background-color: #00DADA;} /* MEGENTA */

.dimmerColor6_0{background-color: #080808;} /* White */
.dimmerColor6_1{background-color: #242424;} /* White */
.dimmerColor6_2{background-color: #484848;} /* White */
.dimmerColor6_3{background-color: #6C6C6C;} /* White */
.dimmerColor6_4{background-color: #929292;} /* White */
.dimmerColor6_5{background-color: #B6B6B6;} /* White */
.dimmerColor6_6{background-color: #DADADA;} /* White */

		
.dimmerColor7_0{background-color: #206020;} /* Green */
.dimmerColor7_1{background-color: #408040;} /* Green */
.dimmerColor7_2{background-color: #60A060;} /* Green */
.dimmerColor7_3{background-color: #80C080;} /* Green */
.dimmerColor7_4{background-color: #80F080;} /* Green */
.dimmerColor7_5{background-color: #A0F0A0;} /* Green */
.dimmerColor7_6{background-color: #C0F0C0;} /* Green */

.dimmerColor8_0{background-color: #602020;} /* Red */
.dimmerColor8_1{background-color: #804040;} /* Red */
.dimmerColor8_2{background-color: #A06060;} /* Red */
.dimmerColor8_3{background-color: #C08080;} /* Red */
.dimmerColor8_4{background-color: #F08080;} /* Red */
.dimmerColor8_5{background-color: #F0A0A0;} /* Red */
.dimmerColor8_6{background-color: #F0C0C0;} /* Red */

.dimmerColor9_0{background-color: #606020;} /* Yellow */
.dimmerColor9_1{background-color: #808040;} /* Yellow */
.dimmerColor9_2{background-color: #A0A060;} /* Yellow */
.dimmerColor9_3{background-color: #C0C080;} /* Yellow */
.dimmerColor9_4{background-color: #F0F080;} /* Yellow */
.dimmerColor9_5{background-color: #F0F0A0;} /* Yellow */
.dimmerColor9_6{background-color: #F0F0C0;} /* Yellow */


.dimmerColor10_0{background-color: #202060;} /* BLUE */
.dimmerColor10_1{background-color: #404080;} /* BLUE */
.dimmerColor10_2{background-color: #6060A0;} /* BLUE */
.dimmerColor10_3{background-color: #8080C0;} /* BLUE */
.dimmerColor10_4{background-color: #8080F0;} /* BLUE */
.dimmerColor10_5{background-color: #A0A0F0;} /* BLUE */
.dimmerColor10_6{background-color: #C0C0F0;} /* BLUE */

.dimmerColor11_0{background-color: #602060;} /* CYAN */
.dimmerColor11_1{background-color: #804080;} /* CYAN */
.dimmerColor11_2{background-color: #A060A0;} /* CYAN */
.dimmerColor11_3{background-color: #C080C0;} /* CYAN */
.dimmerColor11_4{background-color: #F080F0;} /* CYAN */
.dimmerColor11_5{background-color: #F0A0F0;} /* CYAN */
.dimmerColor11_6{background-color: #F0C0F0;} /* CYAN */

.dimmerColor12_0{background-color: #204040;} /* MEGENTA */
.dimmerColor12_1{background-color: #408080;} /* MEGENTA */
.dimmerColor12_2{background-color: #60A0A0;} /* MEGENTA */
.dimmerColor12_3{background-color: #80C0C0;} /* MEGENTA */
.dimmerColor12_4{background-color: #80F0F0;} /* MEGENTA */
.dimmerColor12_5{background-color: #A0F0F0;} /* MEGENTA */
.dimmerColor12_6{background-color: #C0F0F0;} /* MEGENTA */

.dimmerColor13_0{background-color: #181818;} /* White */
.dimmerColor13_1{background-color: #343434;} /* White */
.dimmerColor13_2{background-color: #585858;} /* White */
.dimmerColor13_3{background-color: #7C7C7C;} /* White */
.dimmerColor13_4{background-color: #A2A2A2;} /* White */
.dimmerColor13_5{background-color: #C6C6C6;} /* White */
.dimmerColor13_6{background-color: #EAEAEA;} /* White */		
		
		
</style>
<!-- <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script> -->
<script type="text/javascript"      src="http://maps.googleapis.com/maps/api/js?key=AIzaSyCE0JHB4u3xqbBndHV4RFTa6oRfZrJzP8Y&sensor=false">    </script>



		



<script type="text/javascript" src="{{ url_for('static', filename='js/support.js') }}" ></script>

<style>
	.form-group {
		margin-bottom: 5px;
	}

	.control-label {
		padding-right: 3px;
	}

	.timeAgo {
		color: gray;
	}

	.valueFormat {
		color: black;
	}

	#tabGeoFence .form-control-static,
	#tabGeoFence .control-label {
		padding-top: 0px;
		padding-bottom: 0px;
	}

	hr {
		margin-top: 2px;
		margin-bottom: 6px;
	}

	input[type=checkbox] {
		margin-left: 0px !important;
	}
</style>

<script>
	$(function () {
		$(document).ajaxComplete(function (event, xhr, settings) {
			if (xhr.getResponseHeader('ReloadWholePage')) {
				window.location.reload();	//Reload the whole datapane
			}
		});
		
		$('.nav-tabs a[href="#tabBasicSettings"]').tab('show');
		//RegisterDevice();
		//GetAlertEvents();
		/*
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabEvents')
			alert("events tab");
			GetAlertEvents();
				
		});
		*/
	});
	/*
	//DoOnChange is used in the Edit template for EventValue
	function DoOnChange(t) {
		if (t.value == 0)
			$('#' + t.id).nextAll('span:first').hide()
		else
			$('#' + t.id).nextAll('span:first').show()
	}

	
	$(function () {
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabEvents')
			alert("events tab");
			GetAlertEvents();
				
		});
	});
	
	
	$(document).ready(function () {
$('.nav nav-tabs').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
 })
 

    $('.tabs').bind('change', function (e) {
        // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello");
        // Load data etc
    });
	
$('.nav-tabs').bind('change', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello");
        // Load data etc
    });
 
 
}); 
  */
  
  	/*
	$(document).ready(function () {
$('#tab a').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
 })
}); 
  */
  
  
 
  
</script>


	
	





	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="{{ url_for('static', filename='js/modernizr-2.6.2.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.unobtrusive-ajax.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.unobtrusive.js') }}"></script>
	<style>
		.nav-tabs > li.active > a,
		.nav-tabs > li.active > a:hover,
		.nav-tabs > li.active > a:focus {
			color: #fff;
			background-color: #428bca;
		}

		.tab-content {
			margin-top: 15px;
		}
	</style>
	
<script type="text/javascript">
	var DialPGNNumber = new Array();
	var myEventID = new Array();
	var myEventTag = new Array();
	var myEventUnits = new Array();
	var myEventMax = new Array();
	var myEventMin = new Array();
	var myEventAlarmMode  = new Array();
	var myEventAlarmModeType  = new Array();
	var myEventInterval = new Array();
	var myEventRemoteMode = new Array();
	var myEventSource = new Array();
	var myEventName = new Array();
	var myEventAlertActionValue = new Array();
	var myEventAlertDefaultValue = new Array();
	var myEventAlertActionPGN = new Array();
	var myEventAlertLocation = new Array();	
	var myEventAlertTimezone = new Array();	
	var gColorPickerValue = 0;
	var gDefaultColorPickerValue = 0;
	
	var 	myEventEnabled  = new Array();
	var 	myEventAlertDuration  = new Array();
	var 	myEventAlertOffset  = new Array();
	
	var gLatitude=0.00;
	var gLongitude=0.00;
	
	var gAlertLatitude=0.00;
	var gAlertLongitude=0.00;
	
	var gAlertRadius = 1000;
	
	var gepochtime = new Array();
	var gn2ktime = new Array();
    var glat  = new Array();
    var glng  = new Array();
    var gspeed  = new Array();
	var gdistance  = new Array();
	
	
	var timezoneOffset = 0;
	var gAlertTimeZoneOffset = 0;
	
	var index = 0;
	var gUserID="a91140300971bfb9244989a9bffde53c";
	//var gDeviceID="527805749392";
	var gDeviceID="";
	var gDeviceKey="";
	//var gDeviceName="001EC0B415C2:SSENETG2_SeaDream";
	var gDeviceName="";
	//var gBLWSKey="0b4eb181bac44020803de7a35be6fe62";
	var gBLWSKey="";
	gEMail = "";
	gSMSNumber="";
	
	var pagetype=2;
	
	
  var AlertID=0;
  var device;
  var firebase;
    var rootRef;;
  var map;
  var alarmmap;
  //var myLatlng;
  //var myOldLatlng;
  var gmarker;
    var galarmmarker;
  var geoRadius;
  
  
    var newpoly = new Array();
  var myPolyDataValues = {};
  var myPolyDataLabels = {};
	var maps = new Array();
  
  
  var path;
  var markers = new Array();
  var marker;
  var polyindex=0;
  var poly;
 // var myinfoWindow = new google.maps.InfoWindow;
   var polyOptions = {
   strokeColor: '#40FFFF',
   strokeOpacity: 1.0,
   strokeWeight: 3
   }

	var gDimmerValue=0;
	var gDimmerDefaultValue=255;
	

   var myLatlng;
   var myOldLatlng;
   var myOldLatlng = myLatlng;


  var gradientArray;
  var myPins = new Array();
  
     var myPinColors = ['3E147B', '3E147B','3E147B','3E147B','3E147B','3E147B', '3E147B','3E147B','3E147B','3E147B',
     '41137B', '47137B','4F127B','58107B','630F7B','6D0E7B', '780C7B','840A7B','90097B','9C087B',
     'A7067B', 'B3047B','BE047B','C7027B','D1017B','D9007B', 'DF007A','E20078','E20076','E20075',
     'E20072', 'E20070','E2006D','E2006B','E20068','E20064', 'E20061','E2005E','E2005A','E20057',
     'E20053', 'E2004F','E2004C','E20049','E20045','E20042', 'E2003F','E1003B','E00238','E00436',
     'DF0733', 'DF0B31','DF0E2E','DF122C','E0182A','E11F28', 'E22726','E42F25','E63922','E84320',
     'EB4F1F', 'EE5A1D','F1661C','F3721A','F37D19','F38A19', 'F39618','F3A216','F3AD16','F3B815',
     'F3C315', 'F3CC15','F3D515','F3DE15','F3E415','F3E915', 'F3EE15','EFEF15','E7EF16','DEEF17',
     'D3EF18', 'C8ED19','BAE91A','ADE31C','9EDD1D','8FD71F', '7ED021','6FC924','5FC127','51BA29',
     '42B32C', '34AC30','27A633','1BA137','109D3C','089A41', '009847','00984C','009852','009859',
     '009961', '009C69','009E72','00A07A','00A384','00A68D', '00AA97','00ADA1','00B1A9','00B4B3',
     '00B8BC', '00BCC5','00BECD','00C2D5','01C5DC','02C7E3', '04CAE9','04CBED','04CCF0','04CCF0',
     '04CCF0', '04CCF0','04CCF0','04CCF0','04CCF0','04CCF0', '04CCF0','04CCF0','04CCF0','04CCF0'];
	
	
var dimmerColorDDMenuText = [
									  "White OFF","White 5%","White 10%","White 25%","White 50%","White 75%","White 100%",
									  "Green OFF","Green 5%","Green 10%","Green 25%","Green 50%","Green 75%","Green 100%",
									  "Red OFF","Red 5%","Red 10%","Red 25%","Red 50%","Red 75%","Red 100%",
									  "Yellow OFF","Yellow 5%","Yellow 10%","Yellow 25%","Yellow 50%","Yellow 75%","Yellow 100%",
									  "Blue OFF","Blue 5%","Blue 10%","Blue 25%","Blue 50%","Blue 75%","Blue 100%",
									  "Cyan OFF","Cyan 5%","Cyan 10%","Cyan 25%","Cyan 50%","Cyan 75%","Cyan 100%",
									  "Megenta OFF","Megenta 5%","Megenta 10%","Megenta 25%","Megenta 50%","Megenta 75%","Megenta 100%",
									  "Ghost OFF","Ghost 5%","Ghost 10%","Ghost 25%","Ghost 50%","Ghost 75%","Ghost 100%",									  
									  "Lime OFF","Lime 5%","Lime 10%","Lime 25%","Lime 50%","Lime 75%","Lime 100%",
									  "Pink OFF","Pink 5%","Pink 10%","Pink 25%","Pink 50%","Pink 75%","Pink 100%",
									  "Lemon OFF","Lemon 5%","Lemon 10%","Lemon 25%","Lemon 50%","Lemon 75%","Lemon 100%",
									  "Azure OFF","Azure 5%","Azure 10%","Azure 25%","Azure 50%","Azure 75%","Azure 100%",
									  "Honeydew OFF","Honeydew 5%","Honeydew 10%","Honeydew 25%","Honeydew 50%","Honeydew 75%","Honeydew 100%",
									  "Rose OFF","Rose 5%","Rose 10%","Rose 25%","Rose 50%","Rose 75%","Rose 100%",									  
									
									  "All ON","All ON","All ON","Disabled","Disabled","Disabled","Disabled",
									  ];

/*									  
var rgbDimmerColors = [  
						'000800','002400','004800','006C00','009200','00B600','00DA00', // 7 green
						'080000','240000','480000','6C0000','920000','B60000','DA0000', // 14 red
						'080800','242400','484800','6C6C00','929200','B6B600','DADA00', // 21 yellow
						'000008','000024','000048','00006C','000092','0000B6','0000DA',	// 28 blue
						'000808','002424','004848','006C6C','009292','00B6B6','00DADA',	// 35 cyan						
						'080008','240024','480048','6C006C','920092','B600B6','DA00DA', // 42 megents
						'080808','242424','484848','6C6C6C','929292','B6B6B6','DADADA', // 49 ghost
						'206020','408040','60A060','80C080','80F080','A0F0A0','C0F0C0', // 56 lt green
						'602020','804040','A06060','C08080','F08080','F0A0A0','F0C0C0', // 63 lt red
						'606020','808040','A0A060','C0C080','F0F080','F0F0A0','F0F0C0', // 70 lt yellow
						'202060','404080','6060A0','8080C0','8080F0','A0A0F0','C0C0F0', // 77 lt blue
						'204040','408080','60A0A0','80C0C0','80F0F0','A0F0F0','C0F0F0', // 84 lt cyan					
						'602060','804080','A060A0','C080C0','F080F0','F0A0F0','F0C0F0', // 91 lt megents
						'282828','444444','686868','8C8C8C','B2B2B2','D6D6D6','FAFAFA', // 98 white	
						'FAFAFA','FAFAFA','FAFAFA','FFFFFF','FFFFFF','FFFFFF','FFFFFF',	
						];
*/

	
var rgbDimmerColors = [  

						'282828','444444','686868','8C8C8C','B2B2B2','D6D6D6','FAFAFA',	
						'000800','002400','004800','006C00','009200','00B600','00DA00',
						'080000','240000','480000','6C0000','920000','B60000','DA0000',
						'080800','242400','484800','6C6C00','929200','B6B600','DADA00', 
						'000008','000024','000048','00006C','000092','0000B6','0000DA',	
						'000808','002424','004848','006C6C','009292','00B6B6','00DADA',							
						'080008','240024','480048','6C006C','920092','B600B6','DA00DA',
						'080808','242424','484848','6C6C6C','929292','B6B6B6','DADADA',
						'206020','408040','60A060','80C080','80F080','A0F0A0','C0F0C0',
						'602020','804040','A06060','C08080','F08080','F0A0A0','F0C0C0',
						'606020','808040','A0A060','C0C080','F0F080','F0F0A0','F0F0C0',
						'202060','404080','6060A0','8080C0','8080F0','A0A0F0','C0C0F0',
						'204040','408080','60A0A0','80C0C0','80F0F0','A0F0F0','C0F0F0',					
						'602060','804080','A060A0','C080C0','F080F0','F0A0F0','F0C0F0',
						'FAFAFA','FAFAFA','FAFAFA','FFFFFF','FFFFFF','FFFFFF','FFFFFF',	
						];
	 

// 022823	 
var rgbAlertColorIndex = [  
							0,14,28,42,56,70,84,
							1,15,29,43,57,71,85,
							2,16,30,44,58,72,86,
							3,17,31,45,59,73,87,
							4,18,32,46,60,74,88,
							5,19,33,47,61,75,89,
							6,20,34,48,62,76,90,
							7,21,35,49,63,77,91,
							8,22,36,50,64,78,92,
							9,23,37,51,65,79,93,
							10,24,38,52,66,80,94,
							11,25,39,53,67,81,95,
							12,26,40,54,68,82,96,
							13,27,41,55,69,83,97,

						];	
						
	  
// 030223	
/* 
var rgbAlertColorIndex = [  
							
							1,15,29,43,57,71,85,
							2,16,30,44,58,72,86,
							3,17,31,45,59,73,87,
							4,18,32,46,60,74,88,
							5,19,33,47,61,75,89,
							6,20,34,48,62,76,90,
							7,21,35,49,63,77,91,
							8,22,36,50,64,78,92,
							9,23,37,51,65,79,93,
							10,24,38,52,66,80,94,
							11,25,39,53,67,81,95,
							12,26,40,54,68,82,96,
							13,27,41,55,69,83,97,
							0,14,28,42,56,70,84,

						];	 
*/						
						
	/*					
var rgbDimmerColors = [  
						'000800','002400','004800','006C00','009200','00B600','00DA00',
						'080000','240000','480000','6C0000','920000','B60000','DA0000',
						'080800','242400','484800','6C6C00','929200','B6B600','DADA00', 
						'000008','000024','000048','00006C','000092','0000B6','0000DA',						
						'080008','240024','480048','6C006C','920092','B600B6','DA00DA',
						'000808','002424','004848','006C6C','009292','00B6B6','00DADA',					
						'080808','242424','484848','6C6C6C','929292','B6B6B6','DADADA',
						'206020','408040','60A060','80C080','80F080','A0F0A0','C0F0C0',
						'602020','804040','A06060','C08080','F08080','F0A0A0','F0C0C0',
						'606020','808040','A0A060','C0C080','F0F080','F0F0A0','F0F0C0',
						'202060','404080','6060A0','8080C0','8080F0','A0A0F0','C0C0F0',
						'204040','408080','60A0A0','80C0C0','80F0F0','A0F0F0','C0F0F0',					
						'602060','804080','A060A0','C080C0','F080F0','F0A0F0','F0C0F0',
						'282828','444444','686868','8C8C8C','B2B2B2','D6D6D6','FAFAFA',	
						'FAFAFA','FAFAFA','FAFAFA','FFFFFF','FFFFFF','FFFFFF','FFFFFF',	
						];						
	*/					
						
	/*					
var reversergbAlertColorLookup = [  
							0, 7,14,21,28,35,42,49,56,63,70,77,84,91,
							1, 8,15,22,29,36,43,50,57,64,71,78,85,92,
							2, 9,16,23,30,37,44,51,58,65,72,79,86,93,
							3,10,17,24,31,38,45,52,59,66,73,80,87,94,
							4,11,18,25,32,39,46,53,60,67,74,81,88,95,
							5,12,19,26,33,40,47,54,61,68,75,82,89,96,
							6,13,20,27,34,41,48,55,62,69,76,83,90,97,
						    98,99,100,101,101,101,101,101,101,101,101,101,101,101,
						];							
	*/					
				

var reversergbAlertColorLookup = [  
							0,14,28,42,56,70,84,
							1,15,29,43,57,71,85,
							2,16,30,44,58,72,86,
							3,17,31,45,59,73,87,
							4,18,32,46,60,74,88,
							5,19,33,47,61,75,89,
							6,20,34,48,62,76,90,
							7,21,35,49,63,77,91,
							8,22,36,50,64,78,92,
							9,23,37,51,65,79,93,
							10,24,38,52,66,80,94,
							11,25,39,53,67,81,95,
							12,26,40,54,68,82,96,
							13,27,41,55,69,83,97,
						];					
 
 /*
var xxSliderAlertColorLookup = [  
							0,14,28,42,56,70,84,
							1,15,29,43,57,71,85,
							2,16,30,44,58,72,86,
							3,17,31,45,59,73,87,
							4,18,32,46,60,74,88,
							5,19,33,47,61,75,89,
							6,20,34,48,62,76,90,
							7,21,35,49,63,77,91,
							8,22,36,50,64,78,92,
							9,23,37,51,65,79,93,
							10,24,38,52,66,80,94,
							11,25,39,53,67,81,95,
							12,26,40,54,68,82,96,
							13,27,41,55,69,83,97,
							98,99,100,101,101,101,101,
						];												
 
 
 
 var SliderAlertColorLookup = [  
							0,14,28,42,56,70,84,1,15,29,43,57,71,85,
							
							
							1, 7,14,21,28,35,42,49,56,63,70,77,84,91,
							2, 8,15,22,29,36,43,50,57,64,71,78,85,92,
							3, 9,16,23,30,37,44,51,58,65,72,79,86,93,
							4,10,17,24,31,38,45,52,59,66,73,80,87,94,
							5,11,18,25,32,39,46,53,60,67,74,81,88,95,
							6,12,19,26,33,40,47,54,61,68,75,82,89,96,
							
							
							98,99,100,101,101,101,101,
						];	
 
  var SliderAlertColorLookup = [  
							0,14,28,42,56,70,84,1,15,29,43,57,71,85,
							
							

							1, 15,29,43,57,71,85,92,
							2, 16,30,44,58,72,86,93,
							3,17,31,45,59,73,87,94,
							4,18,32,46,60,74,88,95,
							5,19,26,33,40,47,54,61,68,75,82,89,96,
							
							
							98,99,100,101,101,101,101,
						];	
 
 */
 
 						
var SliderAlertColorLookup = [  
							0, 7,14,21,28,35,42,49,56,63,70,77,84,91,
							1, 8,15,22,29,36,43,50,57,64,71,78,85,92,
							2, 9,16,23,30,37,44,51,58,65,72,79,86,93,
							3,10,17,24,31,38,45,52,59,66,73,80,87,94,
							4,11,18,25,32,39,46,53,60,67,74,81,88,95,
							5,12,19,26,33,40,47,54,61,68,75,82,89,96,
							6,13,20,27,34,41,48,55,62,69,76,83,90,97,
						    98,99,100,101,101,101,101,101,101,101,101,101,101,101,
						];							
		
 
 
 
	/* 
var dimmerColorDDMenuText = [
							"Green 0%","Red 0%","Yellow 0%","Blue 0%","Cyan 0%","Megenta 0%","Ghost 0%","Lime 0%","Pink 0%","Lemon 0%","Azure 0%","Honeydew 0%","Rose 0%", "White 0%",
							"Green 5%","Red 5%","Yellow 5%","Blue 5%","Cyan 5%","Megenta 5%","Ghost 5%","Lime 5%","Pink 5%","Lemon 5%","Azure 5%","Honeydew 5%","Rose 5%", "White 5%",
							"Green 10%","Red 10%","Yellow 10%","Blue 10%","Cyan 10%","Megenta 10%","Ghost 10%","Lime 10%","Pink 10%","Lemon 10%","Azure 10%","Honeydew 10%","Rose 10%", "White 10%",
							"Green 25%","Red 25%","Yellow 25%","Blue 25%","Cyan 25%","Megenta 25%","Ghost 25%","Lime 25%","Pink 25%","Lemon 25%","Azure 25%","Honeydew 25%","Rose 25%", "White 25%",
							"Green 50%","Red 50%","Yellow 50%","Blue 50%","Cyan 50%","Megenta 50%","Ghost 50%","Lime 50%","Pink 50%","Lemon 50%","Azure 50%","Honeydew 50%","Rose 50%", "White 50%",
							"Green 75%","Red 75%","Yellow 75%","Blue 75%","Cyan 75%","Megenta 75%","Ghost 75%","Lime 75%","Pink 75%","Lemon 75%","Azure 75%","Honeydew 75%","Rose 75%", "White 75%",
							"Green 100%","Red 100%","Yellow 100%","Blue 100%","Cyan 100%","Megenta 100%","Ghost 100%","Lime 100%","Pink 100%","Lemon 100%","Azure 100%","Honeydew 100%","Rose 100%", "White 100%",
							"White 100%","White 100%","White 100%","Disabled","Disabled","Disabled","Disabled","Disabled","Disabled","Disabled","Disabled","Disabled","Disabled", "Disabled",
							];

// RGB	 
var rgbDimmerColors = [
						'000800','080000','080800','000008','000808','080008','080808','206020','602020','606020','202060','204040','602060','282828',
						'002400','240000','242400','000024','002424','240024','242424','408040','804040','808040','404080','408080','804080','444444',
						'004800','480000','484800','000048','004848','480048','484848','60A060','A06060','A0A060','6060A0','60A0A0','A060A0','686868',
						'006C00','6C0000','6C6C00','00006C','006C6C','6C006C','6C6C6C','80C080','C08080','C0C080','8080C0','80C0C0','C080C0','8C8C8C',
						'009200','920000','929200','000092','009292','920092','929292','80F080','F08080','F0F080','8080F0','80F0F0','F080F0','B2B2B2',
						'00B600','B60000','B6B600','0000B6','00B6B6','B600B6','B6B6B6','A0F0A0','F0A0A0','F0F0A0','A0A0F0','A0F0F0','F0A0F0','D6D6D6',
						'00DA00','DA0000','DADA00','0000DA','00DADA','DA00DA','DADADA','C0F0C0','F0C0C0','F0F0C0','C0C0F0','C0F0F0','F0C0F0','FAFAFA',
						'FAFAFA','FAFAFA','FAFAFA','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF','FFFFFF',
						];
	 
	 
/*
	 
var rgbAlertColorIndex = [  
							0,14,28,42,56,70,84,
							1,15,29,43,57,71,85,
							2,16,30,44,58,72,86,
							3,17,31,45,59,73,87,
							4,18,32,46,60,74,88,
							5,19,33,47,61,75,89,
							6,20,34,48,62,76,90,
							7,21,35,49,63,77,91,
							8,22,36,50,64,78,92,
							9,23,37,51,65,79,93,
							10,24,38,52,66,80,94,
							11,25,39,53,67,81,95,
							12,26,40,54,68,82,96,
							13,27,41,55,69,83,97,

						];	 
						
					*/
	 
    zpad.zeros = new Array(5).join('0');
    spad.spaces = new Array(7).join(' ');
	
	
	$(document).ready(function () {
	
	var myText;
	document.getElementById("PGNTypeSource").length = 0;
	document.getElementById("GeoAlarmSource").length = 0;
	
	
		
	document.getElementById("PGNTypeSource").options[index] = new Option( "ANY", ".*");
	document.getElementById("GeoAlarmSource").options[index++] = new Option( "ANY", ".*");
		
	document.getElementById("EventsID").length = 0;	
	document.getElementById("EventsID").options[index] = new Option( "** Add New Event **", "0");
	
	document.getElementById("ReportsID").length = 0;	
	document.getElementById("ReportsID").options[index] = new Option( "** No Events **", "None");
	
			//document.getElementById("alertstarttime").hide;
		//$('#alertstarttime').datetimepicker('hide');
	
		//document.getElementById("alertendtime").hide;
		//$('#alertendtime').datetimepicker('hide');	
		
	document.getElementById("alertstarttime_group").style.display = 'none';
	document.getElementById("alertendtime_group").style.display = 'none';	
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';			
			document.getElementById("locationcity_group").style.display = 'none';
			document.getElementById("alerttimezone_group").style.display = 'none';
			
			
	
	document.getElementById("alertcolor_group").style.display = 'none';
	document.getElementById("alertdimmer_group").style.display = 'none';
	document.getElementById("alertdimmerdefault_group").style.display = 'none';
	
	document.getElementById("alertflash_group").style.display = 'none';	
	document.getElementById("alertduty_group").style.display = 'none';

	document.getElementById("alertaction_switch").style.display = 'none';
	document.getElementById("alertaction_dimmer").style.display = 'none';

	document.getElementById("alerthigh_group").style.display = 'block';
	document.getElementById("alertlow_group").style.display = 'block';
	

	document.getElementById("alertflash_group").style.display = 'none';	
	document.getElementById("alertduty_group").style.display = 'none';			

	/*
		
	fragment="";
		
		for(i=0; i<14; i++)
		{	
			fragment = fragment + '<li id=' + i + ' ><span>'
			
			for(j=0; j<7; j++)
			{
			fragment = fragment + '<a id="dimmerColor"  class="dimmerColor' + i +'_' + j + '" href="#"  onclick="dimmerColorButtonClick(this.id)"; >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>'
			
			}
			
			fragment = fragment + '</span></li>';
			
		}	
			
	document.getElementById("dimmerColorDDM").innerHTML = fragment; 
		*/	
			
	/*
	var dimmercolorselectHTML ="";
	
	dimmercolorselectHTML = dimmercolorselectHTML + '<select class="form-control" style="height:30px;" id="LEDcolor"  onchange="setDimmerButtonColor(this);" >'
				
	for(i=0; i<14*7; i++)
	{			  
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option class="dimmerColor' + i + '"   value=' + i + '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#' + myDimmerColors[i] + ';   value=' + i + '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#00B600;   value=' + i + '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#00B600; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#00B600;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		
		dimmercolorselectHTML = dimmercolorselectHTML + '<option style="height:30px; background-color:#' + rgbDimmerColors[i] + ';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
	}
		
	dimmercolorselectHTML = dimmercolorselectHTML + ' </select>'
	
	
	dimmercolorselectHTML = dimmercolorselectHTML + '<input type="text" class="form-control" style="height:26px;" id="dimmerValue" placeholder="">'
	
	
	document.getElementById("dimmercolor_select").innerHTML = dimmercolorselectHTML; 	
		
	*/	
		
		
		
	var dimmercolorselectHTML ="";
	
	var optionsHTML = [];
	
	//dimmercolorselectHTML = dimmercolorselectHTML + '<select class="form-control" style="height:30px;" id="LEDcolor"  onchange="setDimmerButtonColor(this);" >'
				
	for(i=0; i<14*7; i++)
	{			  
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option class="dimmerColor' + i + '"   value=' + i + '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#' + myDimmerColors[i] + ';   value=' + i + '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#00B600;   value=' + i + '>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#00B600; ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="background-color:#00B600;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		
		//dimmercolorselectHTML = dimmercolorselectHTML + '<option style="height:30px; background-color:#' + myDimmerColors[i] + ';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		dimmercolorselectHTML = '<option style="height:30px; background-color:#' + rgbDimmerColors[i] + ';">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</option>'
		optionsHTML.push(dimmercolorselectHTML);
	}
		
		
	dimmercolorselectHTML = '<option style="height:30px; background-color:#' + rgbDimmerColors[98] + ';">&nbsp;ALL ON&nbsp;</option>'
	optionsHTML.push(dimmercolorselectHTML);	
		
	dimmercolorselectHTML = '<option style="height:30px; background-color:#' + rgbDimmerColors[99] + ';">&nbsp;ALL ON&nbsp;</option>'
	optionsHTML.push(dimmercolorselectHTML);	
		
	dimmercolorselectHTML = '<option style="height:30px; background-color:#' + rgbDimmerColors[100] + ';">&nbsp;ALL ON&nbsp;</option>'
	optionsHTML.push(dimmercolorselectHTML);


	dimmercolorselectHTML = '<option style="height:30px; background-color:#' + rgbDimmerColors[101] + ';">DISABLED</option>'
	optionsHTML.push(dimmercolorselectHTML);	
		
	//dimmercolorselectHTML = dimmercolorselectHTML + ' </select>'
	
	
	//dimmercolorselectHTML = dimmercolorselectHTML + '<input type="text" class="form-control" style="height:26px;" id="dimmerValue" placeholder="">'
	
	
	//document.getElementById("dimmercolor_select").innerHTML = dimmercolorselectHTML; 	
	
	var mydimmerselect = document.getElementById("LEDcolorDD");
	
	//mydimmerselect.innerHTML = optionsHTML.join('\n');
	document.getElementById("LEDcolorDD").innerHTML = optionsHTML.join('\n');
	document.getElementById("LEDDefaultcolorDD").innerHTML = optionsHTML.join('\n');
	//document.getElementById("dimmercolor_select").innerHTML = optionsHTML.join('\n');
		
	
		
		
		
	for(var i=0; i< 255; i++)
	{
		myText = ("00" + i.toString(16)).substr(-2);
		document.getElementById("PGNTypeSource").options[index] = new Option(myText.toUpperCase(), myText.toUpperCase());
		document.getElementById("GeoAlarmSource").options[index++] = new Option(myText.toUpperCase(), myText.toUpperCase());
		
	}
	
	  setAllMap(null);

		markers = [];
	
	
	   //InitalizeFirebase();
	
	  var config = {
    apiKey: "AIzaSyC7lm1ubR9m9i7KRomA3l3NHBOf_wsOeGE",
    authDomain: "helmsmart-device-message.firebaseapp.com",
    databaseURL: "https://helmsmart-device-message.firebaseio.com",
    storageBucket: "helmsmart-device-message.appspot.com",
    messagingSenderId: "824876491410"
  };
  
  firebase.initializeApp(config);
	
	
	
    gUserID = "0";
	/*
	{% if admin_userid != "" %}
    gUserID = "{{admin_userid}}";
	//gUserID = "{{session['userid']}}";

	//gUserID = "{{session['userid']}}";
    {% else %}
    //gUserID = "0";
	gUserID = "{{session['userid']}}";
    {% endif %}
	*/
	

    {% if session['userid'] %}
    gUserID = "{{session['userid']}}";
    {% else %}
    gUserID = "0";
    {% endif %}  	
	


    if (gUserID == null)
    {
    gUserID = "0";
    }
    else
    {
    getDeviceList(gUserID);
    //getDeviceParamList(myuserid);
    }
	
/*
$('.nav-tabs').bind('change', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello change");
        // Load data etc
    });
*/	
	$('.nav-tabs').bind('click', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
	//	if (e.target.hash == '#tabEvents')
			//GetAlertEvents();
			//alert("events tab");
			if (e.target.hash == '#tabGeoFence')
			setTimeout(initializeMaps, 10);	//Workaround for Bootstrap tabs and google maps center bug.
        //alert("hello click");
        // Load data etc
    });
 
/*
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabEvents')
			alert("events tab");
			//GetAlertEvents();
				
		});
*/
	
	
}); 

    /* ******************  padding functions ************************************************ */

    function zpad(num, len) {
    var str = String(num),
    diff = len - str.length;
    if(diff <= 0) return str;
    if(diff > zpad.zeros.length)
        zpad.zeros = new Array(diff + 1).join('0');
    return zpad.zeros.substr(0, diff) + str;
}

function spad(num, len) {
    var str = String(num),
        diff = len - str.length;
    if(diff <= 0) return str;
      if(diff > spad.spaces.length)
      spad.spaces= new Array(diff + 1).join(' ');
      return spad.spaces.substr(0, diff) + str;
      }
	  
function pad(number, length) {

        var str = '' + number;
        while (str.length < length) {
            str = '0' + str;
        }

        return str;

    }	  
	  
Date.isLeapYear = function (year) { 
    return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)); 
};

Date.getDaysInMonth = function (year, month) {
    return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
};

Date.prototype.isLeapYear = function () { 
    return Date.isLeapYear(this.getFullYear()); 
};

Date.prototype.getDaysInMonth = function () { 
    return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
};

Date.prototype.addMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() + value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};	  
	  
Date.prototype.subMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() - value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};	


Date.prototype.yyyymmdd = function() {         
                                
        var yyyy = this.getFullYear().toString();                                    
        var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based         
        var dd  = this.getDate().toString();             
                            
        return yyyy + '-' + (mm[1]?mm:"0"+mm[0]) + '-' + (dd[1]?dd:"0"+dd[0]);
   };
   
 Date.prototype.yyyymmddhhmm = function() {         
                                
        var yyyy = this.getFullYear().toString();                                    
        var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based         
        var dd  = this.getDate().toString();    
        var hh  = this.getHours().toString(); 
        var Min  = this.getMinutes().toString(); 		
                            
        return yyyy + '-' + (mm[1]?mm:"0"+mm[0]) + '-' + (dd[1]?dd:"0"+dd[0]) + ' ' + hh + ':' + Min;
   };
   
   Date.prototype.yyyymmddhhmmss = function() {         
                                
        var yyyy = this.getFullYear().toString();
        var MM = pad(this.getMonth() + 1,2);
        var dd = pad(this.getDate(), 2);
        var hh = pad(this.getHours(), 2);
        var mm = pad(this.getMinutes(), 2)
        var ss = pad(this.getSeconds(), 2)

        return yyyy + '-' + MM + '-' + dd + ' ' +  hh + ':' + mm + ':' + ss;
   };   
	   
   Date.prototype.hhmmss = function() {         
                                

        var hh = pad(this.getHours(), 2);
        var mm = pad(this.getMinutes(), 2)
        var ss = pad(this.getSeconds(), 2)

        return   hh + ':' + mm + ':' + ss;
   };  

function rgbToHex(r,g,b) {
    return "#"+("00000"+(r<<16|g<<8|b).toString(16)).slice(-6);
}

function padToHex(value) {
    return ("00000"+(value).toString(16)).slice(-6);
}

   
function ConvertValueUnits(value, type)  
 {

  //overlayScale = DialAlarm[type] * 0.01;
  
   switch (parseInt(type)) {
            
            case 0: //="0">Fahrenheit</option>
            		return ((value * 1.8) - 459);
            break;
            
            case 1: //="1">Celsius</option>
                    return ((value * 1.0) - 273) ;
            break;

            case 2: //e="2">Kelvin</option>
            		return value ;
            break;

          //  case 3: //="3">- - -</option> 
      
      
            case 4: //="4">Knots</option>
                return (value * 1.94384449);
            break;

            case 5: //="5">MPH</option>
                return (value * 2.23694) ;
            break;
            
            case 6: //e="6">KPH</option>
                return (value * 1.0) ;
            break;
      
      
      // case 7: //="7">- - -</option>
            case 8: //="8">PSI</option>
                    return (value * 0.145037738007) ;
            break;
            

            case 9: //e="9">KPASCAL</option>
                    return value * overlayScale;
            break;
   
            
            case 10: //="10">INHG</option>
                     return (value * 0.295229) ;
            break;

          //  case 11: //="11">- - -</option>
          //  case 12: //="12">TRUE</option>
         //   case 13: //="13">MAGNETIC</option>
         //   case 14: //="14">- - -</option>
         //   case 15: //="15">- - -</option>
         //   case 16: //="16">DEGREES</option>
         //   case 17: //="17">Radians</option>
            case 18: //="18">Gallons/hs</option>
            	return (value * 0.264172052);
            break;

            case 19: //="19">Liters/hr</option>
            	return (value * 0.1) ;
            break;

         //   case 20: //="20">Liters</option>
         //   case 21: //="21">Gallons</option>
         //   case 22: //="22">CubicMeter</option>
         //   case 23: //="23">- - -</option>
        //    case 24: //="24">RPM</option>
        //    case 25: //="25">RPS</option>   
        //    case 26: //="26">%</option>
            case 27: //="27">Volts</option>
               return (value *1.00) ;
      //   case 28: //="28">Amps</option> 
         //   case 26: //="29">- - -</option>
      
            case 30: //="30">Meters</option>
              return (value * 1.0) ;
            break;
            
  			case 32: //="32">Feet</option>
              return (value * 3.28084) ;
            break;
            
			case 33: //="33">meters</option>
              return (value * 1.0) ;
            break;
			
			case 45: //=inches
              return (value * 39.3) * overlayScale;
            break;
            
			case 44: //=millimeters
              return (value * 1000.0) * overlayScale;
            break;			
						
			
			
            case 34: //="34">mile</option>
              return (value * 0.000621371) ;
            break;
            
            case 35: //="35">nautical mile</option>
              return (value * 0.000539957) ;
            break;
            
            case 36: //="36">Fathoms</option>
              return (value * 0.546806649) ;
            break;    
			
			case 37: //="37">HH:MM</option>
				myHours = Math.floor(value / (60*60));
				myMins = Math.floor((value % (60*60)) / 60);
				value = parseFloat(myHours + (myMins * 0.01));
			
              return (value ) ;
            break;
			
            case 39: //="39">Hours = sec/60*60</option>
              return (value * 0.000277777) ;
            break; 

			case 43: //="27">Volts</option>
               return (value *0.10) ;
			   
      //  case 33: //="33">- - -</option>
        //    case 34: //="34">Indicator</option>
        //    case 35: //="35">Switch</option>
         //   case 36: //="36">- - -</option>         
         //   case 37: //="37">Undefined</option>

      default:
        return value;
      break;

      }

      }

function InitalizeFirebase()
{
	//var AccountDataFolder = "001EC0B415C2"
	var AccountDataFolder = gDeviceID;
	
    var table = document.getElementById("AlertData");

    var rowCount = table.rows.length;

    for(x=rowCount-1; x>0; x--)
    table.deleteRow(x);


    if(rootRef != null)
    rootRef.off();

    //FireBaseURL = "https://seasmart.firebaseio.com/events/" + AccountDataFolder + "/Alert/";
//	FireBaseURL = "https://seasmart.firebaseio.com/events/" + gDeviceKey + "/Alert/";
	
	FireBaseURL = "events/" + gDeviceKey + "/Alert/";
	
	// device = new Firebase(FireBaseURL);
  //	device.on('value', function(snapshot) 
	rootRef = firebase.database().ref(FireBaseURL);
	
	
    rootRef.on('value', function(snapshot) {
	
    ShowFirebaseData(snapshot.val());
  }); 

}

function ShowFirebaseData(mydata)
{

  try{
   var myvalues = mydata.pushsmart;
    if(myvalues != null)
    {



    // check if we got an valid object
    if(myvalues.subject == null )
    return;

		UpdateAlertValues( myvalues)
          
  
   }
   
      }
   catch(err)
   {}
   
   
 }

function UpdateAlertValues(myNewAlertValues)
{

var currentState;
var AlarmHigh;
var AlarmLow;
var myseries1;
var myseries2;


		//if( myNewAlertValues[DialIndex] == null || myNewAlertValues.length == 0)
		//{

		//	return;
		//}
		//else
		
		   	
           //myNewAlertValues[DialIndex].alarmlow;
           //document.forms['AlertData']['AlertText'].value += spad(DialIndex, 6)  + "|  " + myAlertTime + "|  "  +  spad(myAlertSubject,16) + "|  "  +  spad(myNewAlertValues[DialIndex].title,16) + "\r\n";
    // Get System Time

	if(myNewAlertValues.series_1.title == "/Position")
	{
		myseries1 = myNewAlertValues.series_1;
		myseries2 = myNewAlertValues.series_2;
		
		if( isNaN(myseries1.value)  || isNaN(myseries2.value) )
		{
			var pinurl = "http://maps.google.com/mapfiles/kml/shapes/info_circle.png"
			//var pinurl = "http://maps.google.com/mapfiles/kml/paddle/ylw-blank.png"
			
			myPin = new google.maps.MarkerImage(pinurl);
			 myLatlng = new google.maps.LatLng(gLatitude, gLongitude);
			//gmarker = new google.maps.Marker({    position: myLatlng,   map: map,  title:"SeaSmart", icon:myPin});
			//gmarker.setMap(map);
			if(  gmarker != null)
			{
				gmarker.setIcon(myPin);
				//gmarker.setMap(map);
				
			}	
			else{
			//gmarker.setIcon(pinurl);
			//gmarker.setMap(map);
			
				gmarker = new google.maps.Marker({    position: myLatlng,   map: map,  title:"SeaSmart", icon:myPin});
				gmarker.setMap(map);
			}
		
		}
		else
		{
		
			if( !isNaN(myseries1.value) )
				gLatitude= myseries1.value;
		
			if( !isNaN(myseries2.value) )
				gLongitude= myseries2.value;
			
			 myLatlng = new google.maps.LatLng(gLatitude, gLongitude);
			 
				newpoly[polyindex] = new google.maps.Polyline(polyOptions);
		newpoly[polyindex].set('myIndex', polyindex); 
		
		path = newpoly[polyindex].getPath();

         // Because path is an MVCArray, we can simply append a new coordinate
        // and it will automatically appear
             if(myOldLatlng != null)
               polyLineCount = path.push(myOldLatlng);
             
              polyLineCount = path.push(myLatlng);
              newpoly[polyindex++].setMap(map); 
			
			
			if(  gmarker != null)
			{
				gmarker.setMap(null);   
				gmarker=null; 
			}	
			
			gmarker = new google.maps.Marker({    position: myLatlng,   map: map,  title:"SeaSmart"});
			gmarker.setMap(map);
            //  marker.setPosition(myLatlng);
             //            markers[i].setMap(map);         
             myOldLatlng = myLatlng;
		}
	}
	else
	{
	
		if(myNewAlertValues.series_1.title == "/Position/lat")
		{
				if( !isNaN(myseries1.value) )
					gLatitude= myNewAlertValues.series_1.value
		}
		if(myNewAlertValues.series_1.title == "/Position/lng")
		{
				if( !isNaN(myseries1.value) )
					gLongitude= myNewAlertValues.series_1.value
		}
	}
	{
		myseries1 = myNewAlertValues.series_1;
           
		AlarmHigh = myseries1.alarmhigh;
		AlarmLow = myseries1.alarmlow;

		currentState = myseries1.value;
           
       var table = document.getElementById("AlertData");
 
       var rowCount = table.rows.length;
            
        if(rowCount >= 50)
            table.deleteRow(rowCount-1);
           
            var row = table.insertRow(1);
			
			row.style.verticalAlign="top"; 
			
           if( myseries1.alarmstatus == "active" )
			{
					row.style.color = "#C70C45"; 
			}
			/*
           if( !isNaN(AlarmHigh) )
				  {
						if( currentState >= AlarmHigh )
	              row.style.color = "#C70C45"; 
                //row.style.backgroundColor = "yellow"; 
				  }

				  if( !isNaN(AlarmLow) )
				  {
						if( currentState < AlarmLow )
                row.style.color = "#C70C45"; 
          }
*/

//timezoneOffset
//var date1 = "08-12-2014 10:38 PM"; //MM-DD-YYYY HH:MM
//var new date = moment(date1, "MM-DD-YYYY hh:mm A").add(4, 'hours').format("MM-DD-YYYY hh:mm A"));

	var myStartTime = myNewAlertValues.timestamp;
	  var parts = myStartTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
	  
	  if( parts != null )
	  {
	  //return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	 // var utcTime = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]).getTime() / 1000;;
	  parts[2] -= 1;// adjust months
	  var utcTime = new Date(Date.UTC.apply(this, parts.slice(1))).getTime() / 1000;;
	
		//	var utcTime = new Date(myNewAlertValues.timestamp  + " GMT").getTime() / 1000;
			
			if(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value == "-0")
			{
				
				utcTime = utcTime + new Date().getTimezoneOffset();
				var mydate = new Date(utcTime * 1000);
 

               var cell0 = row.insertCell(0);
          
			    cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
				cell0.style.textAlign = 'left';
			}
			else
			{
				utcTime = utcTime + timezoneOffset;
				var mydate = new Date(utcTime * 1000);
 

              var cell0 = row.insertCell(0);
				cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			   cell0.style.textAlign = 'left';
			}
					
			//var cell0 = row.insertCell(0);
			//cell0.innerHTML =myNewAlertValues.timestamp;
			  
              var cell1 = row.insertCell(1);
              cell1.innerHTML = myNewAlertValues.interval;
			  cell1.style.textAlign = 'left';

              var cell2 = row.insertCell(2);
              cell2.innerHTML = myNewAlertValues.subject;
			  cell2.style.textAlign = 'left';


              var cell3 = row.insertCell(3);
              //cell3.innerHTML = myseries1.alarmmode;
			  cell3.innerHTML = myNewAlertValues.alertmode;
			  
			  var cell4 = row.insertCell(4);
              cell4.innerHTML = myNewAlertValues.alerttype;

              var cell5 = row.insertCell(5);
			  if(myseries1.value == "missing")
				cell5.innerHTML = "missing";
			  else if (myseries1.value == "error")
				cell5.innerHTML = "error";
			  else if (myNewAlertValues.series_1.title == "/Position")
			  {
					//cell4.innerHTML = "<P>" + spad(parseFloat(myseries1.value).toFixed(2),10)  + "/" + spad(parseFloat(myseries2.value).toFixed(2),10) + "</P>"
					//cell4.innerHTML +="<P> Distance = " + spad(parseFloat(myseries1.distance).toFixed(2),10) + " meters </P>";
					//cell4.innerHTML =  spad(parseFloat(myseries1.value).toFixed(2),10)  + "/" + spad(parseFloat(myseries2.value).toFixed(2),10) + ":" + parseInt(myseries1.distance);
					//cell4.innerHTML += "<P> Distance = " + parseInt(myseries1.distance) + " meters </P>";
					//if(myseries1.alarmlow != "off")
					//	cell4.innerHTML = "Distance = " + parseInt(myseries1.distance) + " meters ";
					//else if(myseries1.alarmhigh != "off")
					//	cell4.innerHTML = "Distance = " + parseInt(myseries1.distance) + " meters ";
					if(myseries1.distance == "missing" || myseries1.distance == "error")
						cell5.innerHTML = myseries1.distance;
					else
						if( !isNaN(myseries1.distance) )
							cell5.innerHTML = parseInt(myseries1.distance) + " meters ";
						else
							cell5.innerHTML = "error";
		
				}
			  else
			  {
					if( !isNaN(myseries1.value) )
					{
						if(myNewAlertValues.alerttype == "count")
							cell5.innerHTML = parseInt(myseries1.value) ;
						else
						{
							if((parseFloat(myseries1.value) % 1) != 0)
							{
								cell5.innerHTML = spad(parseFloat(myseries1.value).toFixed(2),10) + " " + document.getElementById("EventUnits").options[parseInt(myseries1.units)].text;
							}
							else
							{
								cell5.innerHTML = spad(parseInt(myseries1.value), 8) + " " + document.getElementById("EventUnits").options[parseInt(myseries1.units)].text;
							}
							
						}	
					}
					else
					{
						if(myseries1.value == "missing")
							cell5.innerHTML = "missing";
							
						else
						{
						     var timestampparts = myseries1.value.match(/(\d{2}):(\d{2}):(\d{2})/);
							 if(timestampparts != null)
								cell5.innerHTML = myseries1.value;
							 else
								cell5.innerHTML = "error";
						}
					}
			  }
			  cell5.style.textAlign = 'left';
			 //EventUnits
			  
              var cell6 = row.insertCell(6);
			  
			   try{
					var city = myNewAlertValues.locationcity
					cell6.innerHTML = city;
					cell6.style.textAlign = 'left';	
				}
				catch(err)
				{
					cell6.innerHTML = "local";
					cell6.style.textAlign = 'left';				
				}

			  

			  
              var cell7 = row.insertCell(7);
              //cell5.innerHTML = myseries1.alarmlow;
			  // if timmer event then alertlow is a datetime string
			  //					<option value="sunriseexpires">Sun Rise->Expire Time</option>
			//		<option value="sunsetexpires">Sun Set->Expire Time</option>
			//		<option value="startsunrise">Start Time -> Sun Rise</option>
			//		<option value="startsunset">Start Time -> Sun Set</option>
			//					var tmLoc = new Date();
			//myEndEpoch =  myEndEpoch + (tmLoc.getTimezoneOffset() * 60);
					
					

			   
			  //if(myseries1.alarmlow != "off")
			  if( !isNaN(myseries1.alarmlow) )
			  {
			  	if (myNewAlertValues.series_1.title == "/Position")
					cell7.innerHTML = parseInt(myseries1.alarmlow);
				else if(myNewAlertValues.alerttype == 'timmer' || myNewAlertValues.alerttype == 'timmerday'  || myNewAlertValues.alerttype == 'startsunrise'  || myNewAlertValues.alerttype == 'startsunset' )
				  {
						//var utcTime = new Date(parseInt(myseries1.alarmlow))
						var utcTime = parseInt(myseries1.alarmlow);
						//utcTime = utcTime - ((new Date().getTimezoneOffset()) * 60);
					if(myNewAlertValues.alerttype == 'startsunrise'  || myNewAlertValues.alerttype == 'startsunset' )
					{
						var startdate = new Date(utcTime * 1000);
						//cell7.innerHTML = pad(startdate.getUTCHours(),2) + ":" + pad(startdate.getUTCMinutes(),2) + ":" + pad(startdate.getUTCSeconds(),2);
						cell7.innerHTML = "ST:" + pad(startdate.getUTCHours(),2) + ":" + pad(startdate.getUTCMinutes(),2);
						cell7.style.textAlign = 'left';				
					}
					else if( myNewAlertValues.alerttype == 'timmerday' )
					{
						var startdate = new Date(utcTime * 1000);
						//cell6.innerHTML = pad(startdate.getHours(),2) + ":" + pad(startdate.getMinutes(),2) + ":" + pad(startdate.getSeconds(),2);
						cell7.innerHTML = "ST:" + pad(startdate.getUTCHours(),2) + ":" + pad(startdate.getUTCMinutes(),2) ;
						cell7.style.textAlign = 'left';				
						
					}	
					else
					{
						var startdate = new Date(utcTime * 1000);
						//cell6.innerHTML = pad(startdate.getHours(),2) + ":" + pad(startdate.getMinutes(),2) + ":" + pad(startdate.getSeconds(),2);
						cell7.innerHTML = pad(startdate.getUTCMonth()+1,2) + "/" + pad(startdate.getUTCDate(),2) + "_" + pad(startdate.getUTCHours(),2) + ":" + pad(startdate.getUTCMinutes(),2) ;
						cell7.style.textAlign = 'left';				
						
					}	
						//cell6.innerHTML = startdate.toString().replace(/GMT.*/g, "");

				  }
				else
					cell7.innerHTML = spad(parseFloat(myseries1.alarmlow).toFixed(2),10)
			  }
			  else
			  {
			  	if( myNewAlertValues.alerttype == 'sunriseexpires' )
				{
					var b = myNewAlertValues.alert_sunrise.split(/\D/);
					cell7.innerHTML = "SR:"+b[3]+":"+b[4];
					//cell7.innerHTML = "sunrise";
				}
				else if( myNewAlertValues.alerttype == 'sunsetexpires'  )
				{
					var b = myNewAlertValues.alert_sunset.split(/\D/);
					//cell7.innerHTML = "sunset";
					cell7.innerHTML = "SS:"+b[3]+":"+b[4];
				}
				else if( myNewAlertValues.alerttype == 'sunriseset'  )
				{
					var b = myNewAlertValues.alert_sunrise.split(/\D/);
					//cell7.innerHTML = "sunrise";
					cell7.innerHTML = "SR:"+b[3]+":"+b[4];
				}
				else if( myNewAlertValues.alerttype == 'sunsetrise'  )
				{
					var b = myNewAlertValues.alert_sunset.split(/\D/);
					//cell7.innerHTML = "sunset";
					cell7.innerHTML = "SS:"+b[3]+":"+b[4];
				}
				else if(myseries1.alarmlow == "missing" || myseries1.alarmlow == "error")
					cell7.innerHTML = "---";
				else
					cell7.innerHTML = myseries1.alarmlow;
			  }
				
              cell7.style.textAlign = 'right';
              
              var cell8 = row.insertCell(8);
              //cell6.innerHTML = myseries1.alarmhigh;
			  //if(myseries1.alarmhigh != "off")
			   
			  if(!isNaN(myseries1.alarmhigh))
			  {
				if (myNewAlertValues.series_1.title == "/Position")
					cell8.innerHTML = parseInt(myseries1.alarmhigh);
				else if(myNewAlertValues.alerttype == 'timmer' || myNewAlertValues.alerttype == 'timmerday'  || myNewAlertValues.alerttype == 'sunriseexpires'  || myNewAlertValues.alerttype == 'sunsetexpires')
				  {
						//var utcTime = new Date(parseInt(myseries1.alarmhigh))
						var utcTime = parseInt(myseries1.alarmhigh)
						//utcTime = utcTime - ((new Date().getTimezoneOffset()) * 60);
						if( myNewAlertValues.alerttype == 'sunriseexpires'  || myNewAlertValues.alerttype == 'sunsetexpires')
						{
							var enddate = new Date(utcTime * 1000);
							//cell8.innerHTML =  pad(enddate.getUTCHours(),2) + ":" + pad(enddate.getUTCMinutes(),2) + ":" + pad(enddate.getUTCSeconds(),2);
							cell8.innerHTML = "EX:" + pad(enddate.getUTCHours(),2) + ":" + pad(enddate.getUTCMinutes(),2) ;
							cell8.style.textAlign = 'left';
						}
						else if( myNewAlertValues.alerttype == 'timmerday' )
						{
							var enddate = new Date(utcTime * 1000);
							//cell6.innerHTML = pad(startdate.getHours(),2) + ":" + pad(startdate.getMinutes(),2) + ":" + pad(startdate.getSeconds(),2);
							cell8.innerHTML = "EX:" + pad(enddate.getUTCHours(),2) + ":" + pad(enddate.getUTCMinutes(),2) ;
							cell8.style.textAlign = 'left';				
							
						}	
						else
						{
							var enddate = new Date(utcTime * 1000);
							//cell6.innerHTML = pad(startdate.getHours(),2) + ":" + pad(startdate.getMinutes(),2) + ":" + pad(startdate.getSeconds(),2);
							cell8.innerHTML = pad(enddate.getUTCMonth()+1,2) + "/" + pad(enddate.getUTCDate(),2) + "_" + pad(enddate.getUTCHours(),2) + ":" + pad(enddate.getUTCMinutes(),2) ;
							cell8.style.textAlign = 'left';				
							
					}
						//cell7.innerHTML = enddate.toString().replace(/GMT.*/g, "");
						
				  }
				else
					cell8.innerHTML = spad(parseFloat(myseries1.alarmhigh).toFixed(2),10)
				}
			  else
			  {
			  	if( myNewAlertValues.alerttype == 'startsunrise' )
				{
					var b = myNewAlertValues.alert_sunrise.split(/\D/);
					//cell8.innerHTML = "sunrise";
					cell8.innerHTML = "SR:"+b[3]+":"+b[4];
				}
				else if( myNewAlertValues.alerttype == 'startsunset'  )
				{
					var b = myNewAlertValues.alert_sunset.split(/\D/);
					//cell8.innerHTML = "sunset";
					cell8.innerHTML = "SS:"+b[3]+":"+b[4];
				}
				else if( myNewAlertValues.alerttype == 'sunriseset'  )
				{
					var b = myNewAlertValues.alert_sunset.split(/\D/);
					//cell8.innerHTML = "sunset";
					cell8.innerHTML = "SS:"+b[3]+":"+b[4];
				}
				else if( myNewAlertValues.alerttype == 'sunsetrise'  )
				{
					var b = myNewAlertValues.alert_sunrise.split(/\D/);
					//cell8.innerHTML = "sunrise";
					cell8.innerHTML = "SR:"+b[3]+":"+b[4];
				}
				else if(myseries1.alarmhigh == "missing" || myseries1.alarmhigh == "error")
					cell8.innerHTML = "---";
				else
					cell8.innerHTML = myseries1.alarmhigh;
				}
				
              cell8.style.textAlign = 'right';
			  
			  var cell9 = row.insertCell(9);
              cell9.innerHTML = myseries1.alarmstatus;
			  cell9.style.textAlign = 'left';
			  
			  var cell10 = row.insertCell(10);
              cell10.innerHTML = myNewAlertValues.alertaction_value;
			  cell10.style.textAlign = 'left';
			  
			  if( myNewAlertValues.alertmode == 'alarmrgbdimmer' )
			  {
			         var dimmercolor = parseInt(myNewAlertValues.alertaction_value);
					 
					 //var selectedColor = '#' + rgbDimmerColors[dimmercolor];
					 
					 var selectedColor = '#' + rgbDimmerColors[SliderAlertColorLookup[dimmercolor]];



					//document.getElementById('LEDcolorDD').style.backgroundColor = selectedColor;
					// setDimmerButtonColor(dimmercolor);
					 
					cell10.style.backgroundColor  = selectedColor;
					
					//dimmercolor = parseInt(myNewAlertValues.alertdefault_value);
					//setDefaultDimmerButtonColor(dimmercolor)
					
		
					/*
					var REDcolor = (dimmercolor >> 5) & 0x07;

					REDcolor = Math.round(  REDcolor * 36.42857);  // 255/7	

		
					var GREENcolor = (dimmercolor >> 2) & 0x07;
					GREENcolor = Math.round( GREENcolor * 36.42857);   // 255/7	
		
					var BLUEcolor = (dimmercolor & 0x000003);
					BLUEcolor = Math.round( BLUEcolor * 85);  // 255/3
		
					
					var rgbstring = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
					
					
					 
					 
					 
					  var yiq = ((REDcolor*299)+(GREENcolor*587)+(BLUEcolor*114))/1000;
					  
					 if(yiq > 128)
						cell10.style.color = "#000000";	
					else
						cell10.style.color = "#FFFFFF"; 
						
				 */
			  }
			  /*
			  if (myNewAlertValues.series_1.title == "/Position")
			  {
				row = table.insertRow(1);
				var cell8 = row.insertCell(4);
					//cell4.innerHTML = "<P>" + spad(parseFloat(myseries1.value).toFixed(2),10)  + "/" + spad(parseFloat(myseries2.value).toFixed(2),10) + "</P>"
					//cell4.innerHTML +="<P> Distance = " + spad(parseFloat(myseries1.distance).toFixed(2),10) + " meters </P>";
					
					cell8.innerHTML ="Distance = " + parseInt(myseries1.distance) + " meters ";
		
				}
			  */

              }// date parts not null
			  }
		
}
function getContrastYIQ(hexcolor){
    var r = parseInt(hexcolor.substr(0,2),16);
    var g = parseInt(hexcolor.substr(2,2),16);
    var b = parseInt(hexcolor.substr(4,2),16);
    var yiq = ((r*299)+(g*587)+(b*114))/1000;
    return (yiq >= 128) ? 'black' : 'white';
}
function updateDimmerColor(color)
{

//[(Red / 32) << 5] + [(Green / 32) << 2] + (Blue / 64)
/*
        var dimmercolor = parseInt(color, 16);
		
		var REDcolor = (dimmercolor & 0xFF0000) >> 16;
		//REDcolor = REDcolor * 0.390625;  // 100/256	
		REDcolor = Math.round(REDcolor * 0.996);  // 255/256	

		
		var GREENcolor = (dimmercolor & 0x00FF00) >> 8;
		GREENcolor = Math.round(GREENcolor * 0.996);  // 255/256		
		
		var BLUEcolor = (dimmercolor & 0x0000FF);
		BLUEcolor = Math.round(BLUEcolor * 0.996);  // 255/256	
		

		
		//if(PageLayout == 1)
		//	var RGBcolor = ((REDcolor / 32) << 5) + ((GREENcolor / 32) << 2) + (BLUEcolor / 64);		
		//else
			//var RGBcolor = 255;
		//	
		var DimmerBackGroundColor = (REDcolor << 16) + (GREENcolor << 8) + (BLUEcolor);
		var DimmerBackGroundColorHEX = padToHex(DimmerBackGroundColor);
		//document.getElementById("LEDcolor").style.backgroundColor  = '#' + DimmerBackGroundColor.toString(16);
		var rgbstring = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
		*/
		/*
		document.getElementById("LEDcolor").style.backgroundColor  = rgbstring;
		//document.getElementById("LEDcolor").value = DimmerBackGroundColor.toString(16);
		document.getElementById("LEDcolor").value = DimmerBackGroundColorHEX;
		PageForeGroundColor = '#' + DimmerBackGroundColorHEX;
		
		var yiq = ((REDcolor*299)+(GREENcolor*587)+(BLUEcolor*114))/1000;
					  
					 if(yiq > 128)
						document.getElementById("LEDcolor").style.color = "#000000";	
					else
						document.getElementById("LEDcolor").style.color = "#FFFFFF"; 
		
		*/
		
}

function setDimmerButtonColor(sel)
{

//document.getElementById(LEDcolor).backgroundColor = 'red';
var selectedColor = '#' + rgbDimmerColors[sel];



	document.getElementById('LEDcolorDD').style.backgroundColor = selectedColor;
	document.getElementById('dimmerColorText').value = dimmerColorDDMenuText[sel];

	
	var reversecolor = reversergbAlertColorLookup[sel];
	
	document.getElementById('LEDdimmervalue').value = reversecolor;

//document.getElementById('LEDcolor').style.backgroundColor = 'green'

//document.getElementById('LEDcolor').style.backgroundColor = '#C7027B'
	dimmer.slider('setValue', Math.floor(reversecolor), true);
	document.querySelector('#LEDdimmervalue').innerHTML = "&nbsp;&nbsp;" + reversecolor;	




}

function setDimmerButtonColorbySlider(sel)
{

	var reversecolor = SliderAlertColorLookup[sel];
	var selectedColor = '#' + rgbDimmerColors[reversecolor];



	document.getElementById('LEDcolorDD').style.backgroundColor = selectedColor;
	document.getElementById('dimmerColorText').value = dimmerColorDDMenuText[reversecolor];
	document.getElementById("LEDcolorDD").selectedIndex=reversecolor;
	

	
	//document.getElementById('LEDdimmervalue').value = reversecolor;

	//dimmer.slider('setValue', Math.floor(reversecolor), true);
	//document.querySelector('#LEDdimmervalue').innerHTML = "&nbsp;&nbsp;" + reversecolor;	




}

function setDefaultDimmerButtonColor(sel)
{

	//document.getElementById(LEDcolor).backgroundColor = 'red';
	var selectedColor = '#' + rgbDimmerColors[sel];



	document.getElementById('LEDDefaultcolorDD').style.backgroundColor = selectedColor;
	document.getElementById('dimmerDefaultColorText').value = dimmerColorDDMenuText[sel];
	
	
	var reversecolor = reversergbAlertColorLookup[sel];
	
	document.getElementById('LEDdimmerDefaultvalue').value = reversecolor;

	dimmerDefault.slider('setValue', Math.floor(reversecolor), true);
	document.querySelector('#LEDdimmerDefaultvalue').innerHTML = "&nbsp;&nbsp;" + reversecolor;	





}
function setDefaultDimmerButtonColorbySlider(sel)
{

var reversecolor = SliderAlertColorLookup[sel];

	//document.getElementById(LEDcolor).backgroundColor = 'red';
	var selectedColor = '#' + rgbDimmerColors[reversecolor];



	document.getElementById('LEDDefaultcolorDD').style.backgroundColor = selectedColor;
	document.getElementById('dimmerDefaultColorText').value = dimmerColorDDMenuText[reversecolor];
	document.getElementById("LEDcolorDD").selectedIndex=reversecolor;	
	
	
	
	//document.getElementById('LEDdimmerDefaultvalue').value = reversecolor;

	//dimmerDefault.slider('setValue', Math.floor(reversecolor), true);
	//document.querySelector('#LEDdimmerDefaultvalue').innerHTML = "&nbsp;&nbsp;" + reversecolor;	





}
function setDimmerFlash(sel)
{
		var flash = sel.selectedIndex;
	//	if(gDimmerValues[4] != 255)
	//	{
	//		gDimmerValues[3] = (gDimmerValues[3] & 0xF0) | (flash & 0x0F);
	//		outputDimmerValues(3);
	//		outputDimmerValues(4);
	//	}
}

function setDimmerFlash(sel)
{
		var flash = sel.selectedIndex;
	//	if(gDimmerValues[4] != 255)
	//	{
	//		gDimmerValues[3] = (gDimmerValues[3] & 0xF0) | (flash & 0x0F);
	//		outputDimmerValues(3);
	//		outputDimmerValues(4);
	//	}
}


function setDimmerDuty(sel)
{
		var duty = sel.selectedIndex;
	//	if(gDimmerValues[4] != 255)
	//	{
	//		gDimmerValues[3] = (gDimmerValues[3] & 0x0F) | ((duty << 4) & 0xF0);
	//		outputDimmerValues(3);
	//		outputDimmerValues(4);
	//	}
}

function ChangedDeviceTypeID(sel)
{
gDeviceKey = document.getElementById("DeviceTypeID").options[sel.selectedIndex].value;
					document.getElementById("DeviceKey").value = gDeviceKey;
					
					
						GetAlertEvents();		
					
}



function ChangedEmail()
{
	//gEMail = document.getElementById("EmailAddress").value;
}

function ChangedSMSNumber()
{
	//gSMSNumber = document.getElementById("SMSNumber").value;
}

function ChangedDeviceKey()
{
	gDeviceKey = document.getElementById("DeviceKey").value;

}


function ChangedTimeZone(sel)
{
 timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[sel.selectedIndex].value) * 60;

}
function ChangedAlertTimeZone(sel)
{
 gAlertTimeZoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[sel.selectedIndex].value) * 60;

}


function ChangedEventTriggerType(sel)
{

var dt = new Date;
var secs = dt.getUTCSeconds() + (60 * dt.getUTCMinutes()) + (60 * 60 * dt.getUTCHours());

	var EventID =  document.getElementById("EventsID").selectedIndex; 

	/*
	document.getElementById("alertstarttime").hide;
	$('#alertstarttime').datetimepicker('hide');
	
		document.getElementById("alertendtime").hide;
	$('#alertendtime').datetimepicker('hide');
	
	*/
		
	myEventAlarmModeType[EventID] = document.getElementById("EventTriggerType").options[sel.selectedIndex].value
		  
	if(document.getElementById("EventTriggerType").selectedIndex == 4)
	{
			document.getElementById("EventMin").value  = 'missing';
			document.getElementById("EventMax").value = 'missing';	
			document.getElementById("EventMin").disabled  = true;
			document.getElementById("EventMax").disabled  = true;
			
			document.getElementById("alerthigh_group").style.display = 'block';
			document.getElementById("alertlow_group").style.display = 'block';
			
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
			document.getElementById("alerttimezone_group").style.display = 'none';

			document.getElementById("locationcity_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';
	 }
	 else if(document.getElementById("EventTriggerType").selectedIndex == 5)
	{
			document.getElementById("EventMin").value  = 'error';
			document.getElementById("EventMax").value = 'error';
			document.getElementById("EventMin").disabled  = true;
			document.getElementById("EventMax").disabled  = true;	
			
			document.getElementById("alerthigh_group").style.display = 'block';
			document.getElementById("alertlow_group").style.display = 'block';

			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';

			
	 }
	 else if(document.getElementById("EventTriggerType").selectedIndex == 6) // timmer once
	{
			document.getElementById("EventMin").value  = 0;
			document.getElementById("EventMax").value = 86400;
		//document.getElementById("alertstarttime").show;
		//$('#alertstarttime').datetimepicker('show');
		
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
		document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';
			
			document.getElementById("alertstarttime_group").style.display = 'block';
			document.getElementById("alertendtime_group").style.display = 'block';		
	 }
	  else if(document.getElementById("EventTriggerType").selectedIndex == 7) // timmer daily
	{
			document.getElementById("EventMin").value  = 0;
			document.getElementById("EventMax").value = 86400;
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			
			//document.getElementById("alerthigh_group").style.display = 'block';
			//document.getElementById("alertlow_group").style.display = 'block';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			
			document.getElementById("alertstarttime_group").style.display = 'block';
			document.getElementById("alertendtime_group").style.display = 'block';
			
		
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';
			
			
	 }
	 
	else if(document.getElementById("EventTriggerType").selectedIndex == 8) // sun rise -> set
	{
			document.getElementById("EventMin").value  = 'Seattle';
			document.getElementById("EventMax").value = 'Seattle';
			
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'block';
			document.getElementById("alertoffset_group").style.display = 'block';
		
	 } 
	 	else if(document.getElementById("EventTriggerType").selectedIndex == 9) // sun set -> rise
	{
			document.getElementById("EventMin").value  = 'Seattle';
			document.getElementById("EventMax").value = 'Seattle';
			
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'block';
			document.getElementById("alertoffset_group").style.display = 'block';
	 } 
	 else if(document.getElementById("EventTriggerType").selectedIndex == 10) // sun rise -> expire time
	{
			document.getElementById("EventMin").value  = 'Seattle';
			document.getElementById("EventMax").value = 86400;
			
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'block';
			
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
	 } 
	 
	 else if(document.getElementById("EventTriggerType").selectedIndex == 11) // sun set -> expire time
	{
			document.getElementById("EventMin").value  = 'Seattle';
			document.getElementById("EventMax").value = 86400;
			
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			
			document.getElementById("alertendtime_group").style.display = 'block';
			
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
	 } 
	 	 else if(document.getElementById("EventTriggerType").selectedIndex == 12) // start time to sun rise 
	{
			document.getElementById("EventMin").value  = 86400;
			document.getElementById("EventMax").value = 'Seattle';
			
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'block';
				document.getElementById("alerttimezone_group").style.display = 'none';
			
			document.getElementById("alertendtime_group").style.display = 'none';
			
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
	 } 
	 
	 else if(document.getElementById("EventTriggerType").selectedIndex == 13) // start time to sun set
	{
			document.getElementById("EventMin").value  = 86400;
			document.getElementById("EventMax").value = 'Seattle';
			
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'block';
				document.getElementById("alerttimezone_group").style.display = 'none';
			
			document.getElementById("alertendtime_group").style.display = 'none';
			
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
	 } 
	 
	 else{

			
			if(!isNaN(myEventMin[EventID]) ){
				document.getElementById("EventMin").value  = parseInt(myEventMin[EventID]);
				document.getElementById("EventMin").disabled  = false;}
			else{
				document.getElementById("EventMin").value  = 'off';
				document.getElementById("EventMin").disabled  = false;}
			
			if(!isNaN(myEventMax[EventID]) ){
				document.getElementById("EventMax").value = parseInt(myEventMax[EventID]);
				document.getElementById("EventMax").disabled  = false;	}			
			else{
				document.getElementById("EventMax").value = 'off';
				document.getElementById("EventMax").disabled  = false;	}	
				
			document.getElementById("alerthigh_group").style.display = 'block';
			document.getElementById("alertlow_group").style.display = 'block';

			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
			
			document.getElementById("locationcity_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';	
	document.getElementById("alerttimezone_group").style.display = 'none';
			
	}	 


}
function ChangedLocationCity(sel)
{

	var myCity = document.getElementById("LocationCity").options[sel.selectedIndex].value
	
	if(myCity != "latlng")
	{
		if(document.getElementById("EventTriggerType").selectedIndex == 8 || document.getElementById("EventTriggerType").selectedIndex == 9) // start time to sun set
		{
			document.getElementById("EventMax").value = myCity;
			document.getElementById("EventMin").value = myCity;
		}
		else if(document.getElementById("EventTriggerType").selectedIndex == 10 || document.getElementById("EventTriggerType").selectedIndex == 11) // start time to sun set
		{
			//document.getElementById("EventMax").value = myCity;
			document.getElementById("EventMin").value = myCity;
		}
		else if(document.getElementById("EventTriggerType").selectedIndex == 12 || document.getElementById("EventTriggerType").selectedIndex == 13) // start time to sun set
		{
			document.getElementById("EventMax").value = myCity;
			//document.getElementById("EventMin").value = myCity;
		}
		
		
	}
	else
	{
		document.getElementById("EventMax").value = 'enter lat';
		document.getElementById("EventMin").value = 'enter lng';
	
	}

}


function ChangedEventTrigger(sel)
{

	var EventID =  document.getElementById("EventsID").selectedIndex; 


		
	myEventAlarmMode[EventID] = document.getElementById("EventTrigger").options[sel.selectedIndex].value
		  
	if(document.getElementById("EventTrigger").selectedIndex == 0)
	{
			document.getElementById("EventMin").value  = 'off';
			document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
				document.getElementById("alertdimmerdefault_group").style.display = 'none';
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'none';	
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 5)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
				document.getElementById("alertdimmerdefault_group").style.display = 'none';
			document.getElementById("alertaction_switch").style.display = 'block';
			document.getElementById("alertaction_dimmer").style.display = 'none';
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 6)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';
			document.getElementById("alertaction_switch").style.display = 'block';
			document.getElementById("alertaction_dimmer").style.display = 'none';
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 
	 else if(document.getElementById("EventTrigger").selectedIndex == 7)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'block';
			document.getElementById("alertdimmerdefault_group").style.display = 'block';
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';	

			//set default value to /M2M/LED Dimmer/Value 0 Zone 0
			document.getElementById("ActionDimmer").selectedIndex=0;
			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 8)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'block';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';			
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';	
			
			//set default value to /M2M/RGB Dimmer/Value 3 Zone 0
			document.getElementById("ActionDimmer").selectedIndex=0;
		

			
			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 9)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';	
			document.getElementById("alertflash_group").style.display = 'block';	
			document.getElementById("alertduty_group").style.display = 'block';		

			//set default value to /M2M/RGB Dimmer/Value 4 Zone 0
			document.getElementById("ActionDimmer").selectedIndex=0;
			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 10)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';	
			document.getElementById("alertflash_group").style.display = 'block';	
			document.getElementById("alertduty_group").style.display = 'block';		

			//set default value to /M2M/RGB Dimmer/Value 4 Zone 0
			document.getElementById("ActionDimmer").selectedIndex=0;
			
	 }
	  else if(document.getElementById("EventTrigger").selectedIndex == 11)
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'block';
			document.getElementById("alertdimmerdefault_group").style.display = 'block';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';	

			//set default value to /M2M/LED Dimmer/Value 0 Zone 0
			document.getElementById("ActionDimmer").selectedIndex=0;
			
	 }
	 else{
		document.getElementById("alertcolor_group").style.display = 'none';
		document.getElementById("alertflash_group").style.display = 'none';	
		document.getElementById("alertduty_group").style.display = 'none';
	 
			if(!isNaN(myEventMin[EventID]) )
				document.getElementById("EventMin").value  = parseInt(myEventMin[EventID]);
			else
				document.getElementById("EventMin").value  = 'off';
			
			if(!isNaN(myEventMax[EventID]) )
				document.getElementById("EventMax").value = parseInt(myEventMax[EventID]);	
			else
				document.getElementById("EventMax").value = 'off';	
	}	 

		//document.getElementById("EventTriggerType").selectedIndex = 0;	
}


function ChangedEventRemoteMode(sel)
{

}
function ChangedEventInterval(sel)
{

}
function ChangedEventDuration(sel)
{

}
function ChangedEventOffset(sel)
{

}
function ChangedAlertMode(sel)
{

}
function ChangedPGNSource(sel)
{
	ConstructPGNTypeID(gDeviceID,0);
}

function ChangedActionSwitch(sel)
{
}

function ChangedActionDimmer(sel)
{
}
function ChangedPGNTypeID(sel)
{
	ConstructPGNTypeID(gDeviceID,0);
	
	document.getElementById("EventsID").selectedIndex=document.getElementById("EventsID").length-1;

	document.getElementById("EventName").value = document.getElementById("PGNTypeID").options[document.getElementById("PGNTypeID").selectedIndex].text; 
}

function ChangedAlertEndDate()
{
 var myEndTime = document.getElementById("alertendtime").value;
	  // var myStartTime = document.getElementById("GeoReportStartDate").value;
	  
	  if(myEndTime == "")
	  {
			//var tmLoc = new Date();
			//var EndEpoch =  Math.floor((tmLoc.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);

			//var StartEpoch = Math.floor(EndEpoch - 60*60*24*2);
			var myEndEpoch = 0;
			document.getElementById("EventMax").value = Math.floor(myEndEpoch/1000);
	  }
	  else
	  {
	  
	  
	  var parts = myEndTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
	 //  var parts = myEndTime.match(/(\d{2}):(\d{2}):(\d{2})/);
	  //return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	
			
		if(document.getElementById("EventTriggerType").selectedIndex == 6  ) // timmer events
		{
			var timezoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;
			
			var myEndEpoch = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));
			//var myEndEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
			var myEndEpochsec = myEndEpoch.getTime();
			
			//myEndEpochsec = myEndEpochsec - (timezoneOffset * 1000);
			
			document.getElementById("EventMax").value = Math.floor(myEndEpochsec/1000);
		
		}	
		else if( document.getElementById("EventTriggerType").selectedIndex ==7 ) // timmer events
		{
			var timezoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;

			var currenttime = new Date();
			//var currentparts = currenttime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
			
			
			//var myEndEpoch = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));
			//var myEndEpoch = new Date(Date.UTC(+currentparts[1], currentparts[2]-1, +currentparts[3], +parts[4], +parts[5]));
			var myEndEpoch = new Date(Date.UTC(currenttime.getFullYear(), currenttime.getMonth(), currenttime.getDate(), +parts[4], +parts[5]));
			//var myEndEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
			var myEndEpochsec = myEndEpoch.getTime();
			
			//myEndEpochsec = myEndEpochsec - (timezoneOffset * 1000);
			
			document.getElementById("EventMax").value = Math.floor(myEndEpochsec/1000);
		
		}			
		else if(document.getElementById("EventTriggerType").selectedIndex >= 10) // sun rise to expire time
		{
				
			var myEndEpoch = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));
			myEndEpoch = myEndEpoch.getTime();
			
			document.getElementById("EventMax").value = Math.floor(myEndEpoch/1000);
			
		}
		else
		{
			  var myEndEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  	//  var myEndEpoch = (parseInt(parts[1])*60*60) +  (parseInt(parts[2]) * 60) + parseInt(parts[3]);
		  myEndEpoch = myEndEpoch.getTime();
		  
		
			var tmLoc = new Date();
			myEndEpoch =  myEndEpoch + (tmLoc.getTimezoneOffset() * 60);
			
			document.getElementById("EventMax").value = Math.floor(myEndEpoch/1000);
		
		}
		// take care of 24 hour rollover
	//	if (myEndEpoch >= 86400)
	//		myEndEpoch = myEndEpoch - 86400;
	//		
	 // 
	  }
	  
	  	
				
}

function ChangedAlertStartDate()
{
   	  var myStartTime = document.getElementById("alertstarttime").value;
	  // var myStartTime = document.getElementById("GeoReportStartDate").value;
	  
	  if(myStartTime == "")
	  {
			//var tmLoc = new Date();
			//var EndEpoch =  Math.floor((tmLoc.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);

			//var StartEpoch = Math.floor(EndEpoch - 60*60*24*2);
			var StartEpoch = 0;
			document.getElementById("EventMin").value  = Math.floor(myStartEpoch/1000);
	  }
	  else
	  {
	  
	  
		var parts = myStartTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
		// var parts = myStartTime.match(/(\d{2}):(\d{2}):(\d{2})/);
		//return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);

	

			
			
		if(document.getElementById("EventTriggerType").selectedIndex == 6  ) // timmer events
		{

		
			var timezoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;
			
			var myStartEpoch = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));
			//var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
			var myStartEpochsec = myStartEpoch.getTime();
			//myStartEpochsec = myStartEpochsec - (timezoneOffset * 1000);
			
			document.getElementById("EventMin").value  = Math.floor(myStartEpochsec/1000);
		}	
		
		else if( document.getElementById("EventTriggerType").selectedIndex ==7 ) // timmer events
		{

		
			var timezoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;
			
			var currenttime = new Date();
			//var currentparts = currenttime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
			
			//var myStartEpoch = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));			
			//var myStartEpoch = new Date(Date.UTC(+currentparts[1], currentparts[2]-1, +currentparts[3], +parts[4], +parts[5]));
			var myStartEpoch = new Date(Date.UTC(currenttime.getFullYear(), currenttime.getMonth(), currenttime.getDate(), +parts[4], +parts[5]));
			//var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
			var myStartEpochsec = myStartEpoch.getTime();
			//myStartEpochsec = myStartEpochsec - (timezoneOffset * 1000);
			
			document.getElementById("EventMin").value  = Math.floor(myStartEpochsec/1000);
		}	
		else if(document.getElementById("EventTriggerType").selectedIndex >= 10) // sun rise to expire time
		{
				
			myStartEpoch = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));
			myStartEpoch = myStartEpoch.getTime();
			
			document.getElementById("EventMin").value  = Math.floor(myStartEpoch/1000);
		}
		else
		{
				var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
				//  var myStartEpoch = (parseInt(parts[1])*60*60) +  (parseInt(parts[2]) * 60) + parseInt(parts[3]);
				myStartEpoch = myStartEpoch.getTime();
		
				var tmLoc = new Date();
				var tzoffset = tmLoc.getTimezoneOffset();
				myStartEpoch =  myStartEpoch + (tmLoc.getTimezoneOffset() * 60);
				
				document.getElementById("EventMin").value  = Math.floor(myStartEpoch/1000);
		
		}
		// take care of 24 hour rollover
	//	if (myStartEpoch >= 86400)
	//		myStartEpoch = myStartEpoch - 86400;
	//		
	//  
	  }
	  
	  			
			
	  
	  
}
function ChangedGeoReportStartDate()
{
GetSeriesAttributes();
}

function ChangedGeoReportRange(sel)
{

}

function ChangedGeoReportRollup(sel)
{

GetSeriesAttributes();


}

function ChangedGeoReportInterval(sel)
{

}

function ChangedGeoReportMarker(sel)
{

}


function ChangedReportsID(sel)
{

}

function ChangedReportRollup(sel)
{




}

function ChangedReportInterval(sel)
{

}


function updateEventList(sel)
{
//var myDialID = 0 ;

	
	//	DialUnits[myDialID] = sel.options[sel.selectedIndex].value;
		
		SetEventsOptions(sel.selectedIndex);
		
		
		document.getElementById("EventName").value = document.getElementById("EventsID").options[sel.selectedIndex].text; 
		
		
}


function SetEventsOptions(myindex){


	var myEvent;
	var myEindex = parseInt(myindex);
		 
	 //document.getElementById("EventsID").selectedIndex = 0;
	if(myEventSource[myEindex] == ".*" || myEventSource[myEindex] == "")
		 document.getElementById("PGNTypeSource").selectedIndex = 0;
	else
		document.getElementById("PGNTypeSource").selectedIndex = parseInt(myEventSource[myEindex],16) + 1;
	 

	 
	 document.getElementById("EventUnits").selectedIndex = parseInt(myEventUnits[myEindex]);
	 
		//	document.getElementById("EventMin").disabled  = false;
		//	document.getElementById("EventMax").disabled  = false;
	 document.getElementById("EventMin").value  = myEventMin[myEindex];
	 document.getElementById("EventMax").value = myEventMax[myEindex];	
/*
	if(myEventMin[myEindex] == "missing")
	{
		document.getElementById("EventTriggerType").selectedIndex = 4;
		document.getElementById("EventMin").disabled  = true;
		document.getElementById("EventMax").disabled  = true;
	}
	else if(myEventMin[myEindex] == "error")
	{
		document.getElementById("EventTriggerType").selectedIndex = 5;
		document.getElementById("EventMin").disabled  = true;
		document.getElementById("EventMax").disabled  = true;
	}
	else
	{
		document.getElementById("EventTriggerType").selectedIndex = 0;
		document.getElementById("EventMin").disabled  = false;
		document.getElementById("EventMax").disabled  = false;
	}	
	*/
	
	 //	 document.getElementById("EventInterval").selectedIndex = parseInt(myEventInterval[myEindex]);
	 
	 document.getElementById("EventEnabled").selectedIndex = 0;
	 for(i=0; i< document.getElementById("EventEnabled").options.length; i++)
	 {
	    myEvent = document.getElementById("EventEnabled").options[i].text;
		
		 try{
		  if(myEvent.trim() == myEventEnabled[myEindex].trim())
		    	document.getElementById("EventEnabled").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	}  
	
	
	 
	 	document.getElementById("EventInterval").selectedIndex = 0;
	 for(i=0; i< document.getElementById("EventInterval").options.length; i++)
	 {
	    myEvent = document.getElementById("EventInterval").options[i].text;
		
		 try{
		  if(myEvent.trim() == myEventInterval[myEindex].trim())
		    	document.getElementById("EventInterval").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	}  
	 
	 
	 
	 	 document.getElementById("EventOffset").selectedIndex = 17;
	 for(i=0; i< document.getElementById("EventOffset").options.length; i++)
	 {
	    myEvent = document.getElementById("EventOffset").options[i].text;
		
		 try{
		  if(myEvent.trim() == myEventAlertOffset[myEindex].trim())
		    	document.getElementById("EventOffset").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	}  
	
	
		 	 document.getElementById("EventRemoteMode").selectedIndex = 0;
	 for(i=0; i< document.getElementById("EventRemoteMode").options.length; i++)
	 {
	    myEvent = document.getElementById("EventRemoteMode").options[i].value;
		
		 try{
		  if(myEvent.trim() == myEventRemoteMode[myEindex].trim())
		    	document.getElementById("EventRemoteMode").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	}  
	
	
	 	 document.getElementById("EventDuration").selectedIndex = 0;
	 for(i=0; i< document.getElementById("EventDuration").options.length; i++)
	 {
	    myEvent = document.getElementById("EventDuration").options[i].text;
		
		 try{
		  if(myEvent.trim() == myEventAlertDuration[myEindex].trim())
		    	document.getElementById("EventDuration").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	}  
	
			document.getElementById("AlertTimeZoneId").selectedIndex = 34;
		 for(i=0; i< document.getElementById("AlertTimeZoneId").options.length; i++)
		 {
			myEvent = document.getElementById("AlertTimeZoneId").options[i].text;
			
			 try{
			  if(myEvent.trim() ==  myEventAlertTimezone[myEindex].trim())
					document.getElementById("AlertTimeZoneId").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
		
		gAlertTimeZoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;
	
		document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventAlertLocation[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	 
	 document.getElementById("PGNTypeID").selectedIndex = 0;
	 for(i=0; i< document.getElementById("PGNTypeID").options.length; i++)
	 {
	    myEvent = document.getElementById("PGNTypeID").options[i].value;
		
		 try{
		
			if(myEventTag.length != 0 &&  myEindex < myEventTag.length)
			{
			  if(myEvent.trim() == myEventTag[myEindex].trim())
					document.getElementById("PGNTypeID").selectedIndex = i;
			}
			else
				document.getElementById("PGNTypeID").selectedIndex = 0;
			
		}
		catch(err)
		{
		
		}		
			
	}   
	
	
	
	
		 document.getElementById("ActionDimmer").selectedIndex = 0;
	 for(i=0; i< document.getElementById("ActionDimmer").options.length; i++)
	 {
	    myEvent = document.getElementById("ActionDimmer").options[i].value;
		
		 try{
		
				if(myEventTag.length != 0 &&  myEindex < myEventTag.length)
				{
				  if(myEvent.trim() == myEventAlertActionPGN[myEindex].trim())
						document.getElementById("ActionDimmer").selectedIndex = i;
				}
				else
					document.getElementById("ActionDimmer").selectedIndex = 0;
			
			}
		catch(err)
		{
		
		}
			
	}   
	
	
	
	
	
	document.getElementById("EventTrigger").selectedIndex = 0;
	 for(i=0; i< document.getElementById("EventTrigger").options.length; i++)
	 {
	    myEvent = document.getElementById("EventTrigger").options[i].value;
		
		 try{
		  if(myEvent.trim() == myEventAlarmMode[myEindex].trim())
		    	document.getElementById("EventTrigger").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	}  
	

	


	if(document.getElementById("EventTrigger").selectedIndex == 0)
	{
		 document.getElementById("EventMin").value  = 'off';
		document.getElementById("EventMax").value = 'off';	
	 }
	 
	 
	 document.getElementById("EventTriggerType").selectedIndex = 0;
	 for(i=0; i< document.getElementById("EventTriggerType").options.length; i++)
	 {
	    myEvent = document.getElementById("EventTriggerType").options[i].value;
		
		 try{
		  if(myEvent.trim() == myEventAlarmModeType[myEindex].trim())
		    	document.getElementById("EventTriggerType").selectedIndex = i;
		}
		catch(err)
		{
		
		}
		
	} 
	 
	 		document.getElementById("alertstarttime_group").style.display = 'none';
		document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';			
			document.getElementById("locationcity_group").style.display = 'none';
	 
	if(document.getElementById("EventTriggerType").selectedIndex == 4)
	{
		document.getElementById("EventMin").value  = 'missing';
		document.getElementById("EventMax").value = 'missing';
		document.getElementById("EventMin").disabled  = true;
		document.getElementById("EventMax").disabled  = true;	

		document.getElementById("alerthigh_group").style.display = 'block';
		document.getElementById("alertlow_group").style.display = 'block';
		document.getElementById("alertstarttime_group").style.display = 'none';
		document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';			
			document.getElementById("locationcity_group").style.display = 'none';


			
	 }
	 
	if(document.getElementById("EventTriggerType").selectedIndex == 5)
	{
		document.getElementById("EventMin").value  = 'error';
		document.getElementById("EventMax").value = 'error';	
		document.getElementById("EventMin").disabled  = true;
		document.getElementById("EventMax").disabled  = true;
		
		document.getElementById("alerthigh_group").style.display = 'block';
		document.getElementById("alertlow_group").style.display = 'block';
		document.getElementById("alertstarttime_group").style.display = 'none';
		document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';			
			document.getElementById("locationcity_group").style.display = 'none';


			
			
	 } 
	 
	  if(document.getElementById("EventTriggerType").selectedIndex == 7)
	{
			//document.getElementById("alertstarttime").show;
		//$('#alertstarttime').datetimepicker('show');
	
		//document.getElementById("alertendtime").show;
		//$('#alertendtime').datetimepicker('show');	
		
			// document.getElementById("EventMin").value  = 'error';
		//document.getElementById("EventMax").value = 'error';	
		document.getElementById("EventMin").disabled  = false;
		document.getElementById("EventMax").disabled  = false;
		//document.getElementById("EventMin").style.display = 'none';
		//document.getElementById("EventMax").style.display = 'none';
		
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
		
		//ChangedAlertEndDate();
		//ChangedAlertStartDate();
		
		document.getElementById("alertstarttime_group").style.display = 'block';
		document.getElementById("alertendtime_group").style.display = 'block';
			document.getElementById("alerttimezone_group").style.display = 'none';
		document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';			
			document.getElementById("locationcity_group").style.display = 'block';
			
			document.getElementById("AlertTimeZoneId").selectedIndex = 34;
		 for(i=0; i< document.getElementById("AlertTimeZoneId").options.length; i++)
		 {
			myEvent = document.getElementById("AlertTimeZoneId").options[i].text;
			
			 try{
			  if(myEvent.trim() ==  myEventAlertTimezone[myEindex].trim())
					document.getElementById("AlertTimeZoneId").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 

		gAlertTimeZoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;
		
		var ds = new Date();
		var de = new Date();
		ds.setHours(0, 0, 0);
		de.setHours(23, 59, 59);
		
		//$('#alertstarttime').datetimepicker('setStartDate', '2012-01-01');
		$('#alertstarttime').datetimepicker('setStartDate', ds);
		$('#alertendtime').datetimepicker('setEndDate', de);
				//format:'hh:ii:ss',
		//startDate:ds,
		//endDate:de,
		
		document.getElementById("EventMin").value  = myEventMin[myEindex];
		document.getElementById("EventMax").value = myEventMax[myEindex];	
		
		var ds = new Date();
		var de = new Date();
		//ds.setUTCHours(0, 0, 0);
		//de.setUTCHours(23, 59, 59);
		try 
		{
			var mystart = parseInt(myEventMin[myEindex]);
			
			
			if(mystart != NaN)
			{
			
			
					//mystart = mystart - ((new Date().getTimezoneOffset()) * 60);
				
				var myhour = Math.floor((mystart % (24*60*60))/(60*60));
				var mymin = Math.floor((mystart % (60*60))/ 60);
				var mysec = Math.floor((mystart % (60)));
				
				ds.setHours(myhour, mymin, mysec);
				
				document.getElementById("alertstarttime").value =  pad(myhour, 2) + ':' +  pad(mymin, 2) + ':' + pad(mysec, 2);
			}
			else
				document.getElementById("alertstarttime").value =  '00:00:00';
		}
		
		catch (err)
		{
			ds.setHours(0, 0, 0);
			//$('#alertstarttime').datetimepicker('show');
			document.getElementById("alertstarttime").value =  '00:00:00';
		}
		
		try 
		{
			var myend = parseInt(myEventMax[myEindex]);
			
			
			if(myend != NaN)
			{
			
				
					//myend = myend - ((new Date().getTimezoneOffset()) * 60);
					
				var myhour = Math.floor((myend % (24*60*60))/(60*60));
				var mymin = Math.floor((myend % (60*60))/ 60);
				var mysec = Math.floor((myend % (60)));
				de.setHours(myhour, mymin, mysec);
				
				document.getElementById("alertendtime").value =  pad(myhour, 2) + ':' +  pad(mymin, 2) + ':' + pad(mysec, 2);
			}
			else
				document.getElementById("alertendtime").value =  '23:59:59';
		}
		catch (err)
		{
			de.setHours(23, 59, 59);
			//$('#alertstarttime').datetimepicker('show');
			document.getElementById("alertendtime").value =  '23:59:59';
		}
		
	 } 
	 
	if(document.getElementById("EventTriggerType").selectedIndex == 6)
	{
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'block';
			document.getElementById("alertendtime_group").style.display = 'block';
	document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'none';			
			document.getElementById("locationcity_group").style.display = 'block';
			
		//document.getElementById("EventMin").style.display = 'none';
		//document.getElementById("EventMax").style.display = 'none';
		document.getElementById("AlertTimeZoneId").selectedIndex = 34;
		 for(i=0; i< document.getElementById("AlertTimeZoneId").options.length; i++)
		 {
			myEvent = document.getElementById("AlertTimeZoneId").options[i].text;
			
			 try{
			  if(myEvent.trim() ==  myEventAlertTimezone[myEindex].trim())
					document.getElementById("AlertTimeZoneId").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
		
		gAlertTimeZoneOffset = parseInt(document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].value) * 60;
			
			document.getElementById("EventMin").value  = myEventMin[myEindex];
			var startdate = new Date();
		
			var utcTime = parseInt(myEventMin[myEindex]);
					
			if(!isNaN(utcTime))
			{
					
				//utcTime = utcTime + new Date().getTimezoneOffset();
				startdate = new Date(utcTime * 1000).toISOString().replace("T"," ").replace("Z","").replace(".000","");;;
						
			}
			document.getElementById("alertstarttime").value = startdate;
					
			// var parts = startdate.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);

			
			//var utcstartdate = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));		
		
			var enddate = new Date();
		
			document.getElementById("EventMax").value = myEventMax[myEindex];	
			
	
			var utcTime = parseInt(myEventMax[myEindex]);
			if(!isNaN(utcTime))
			{		
					//utcTime = utcTime + new Date().getTimezoneOffset();
					 enddate = new Date(utcTime * 1000).toISOString().replace("T"," ").replace("Z","").replace(".000","");;;
					
			}
			document.getElementById("alertendtime").value = enddate;

			
						// var parts = enddate.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
			//var localenddate = new Date(utcTime * 1000);
			//var utc_timestamp = Date.UTC(localenddate.getUTCFullYear(),localenddate.getUTCMonth(), localenddate.getUTCDate() , localenddate.getUTCHours(), localenddate.getUTCMinutes(), localenddate.getUTCSeconds(), localenddate.getUTCMilliseconds());
			//var utcenddate = new Date(Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]));			
	

	
	
	}
	
	if(document.getElementById("EventTriggerType").selectedIndex == 8)
	{
	
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'block';
			document.getElementById("alertoffset_group").style.display = 'block';
			
			
	
		 document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventMin[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	
	}
	
	if(document.getElementById("EventTriggerType").selectedIndex == 9)
	{
	
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'block';
			document.getElementById("alertoffset_group").style.display = 'block';
	
		document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventMin[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	
	}
	if(document.getElementById("EventTriggerType").selectedIndex == 10) // sun rise to expire time
	{
	
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'block';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
			
			
			document.getElementById("EventMax").value = myEventMax[myEindex];	
			
	
			//var utcTime = parseInt(myEventMax[myEindex]);
					
					//utcTime = utcTime + new Date().getTimezoneOffset();
					//var enddate = new Date(utcTime * 1000);
	
			//document.getElementById("alertendtime").value = enddate;
			
		
		var ds = new Date();
		var de = new Date();
		ds.setHours(0, 0, 0);
		de.setHours(23, 59, 59);
		
		//$('#alertstarttime').datetimepicker('setStartDate', '2012-01-01');
		//$('#alertstarttime').datetimepicker('setStartDate', ds);
		$('#alertendtime').datetimepicker('setEndDate', de);
				//format:'hh:ii:ss',
		//startDate:ds,
		//endDate:de,
		

		var ds = new Date();
		var de = new Date();

		
		try 
		{
			var myend = parseInt(myEventMax[myEindex]);
			
			
			if(myend != NaN)
			{
			
				//myend = myend - ((new Date().getTimezoneOffset()) * 60);
				var myhour = Math.floor((myend % (24*60*60))/(60*60));
				var mymin = Math.floor((myend % (60*60))/ 60);
				var mysec = Math.floor((myend % (60)));
				de.setHours(myhour, mymin, mysec);
				
				document.getElementById("alertendtime").value =  pad(myhour, 2) + ':' +  pad(mymin, 2) + ':' + pad(mysec, 2);
			}
			else
				document.getElementById("alertendtime").value =  '23:59:59';
		}
		catch (err)
		{
			de.setHours(23, 59, 59);
			//$('#alertstarttime').datetimepicker('show');
			document.getElementById("alertendtime").value =  '23:59:59';
		}

		
	
		document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventMin[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	
	}
	if(document.getElementById("EventTriggerType").selectedIndex == 11) // sunset to expire time
	{
	
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'none';
			document.getElementById("alertendtime_group").style.display = 'block';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
			
						document.getElementById("EventMax").value = myEventMax[myEindex];	
			
	
			//var utcTime = parseInt(myEventMax[myEindex]);
					
					//utcTime = utcTime + new Date().getTimezoneOffset();
					//var enddate = new Date(utcTime * 1000);
	
			//document.getElementById("alertendtime").value = enddate;
			
		var ds = new Date();
		var de = new Date();
		ds.setHours(0, 0, 0);
		de.setHours(23, 59, 59);
		
		//$('#alertstarttime').datetimepicker('setStartDate', '2012-01-01');
		//$('#alertstarttime').datetimepicker('setStartDate', ds);
		$('#alertendtime').datetimepicker('setEndDate', de);
				//format:'hh:ii:ss',
	
		
		var ds = new Date();
		var de = new Date();
	
		
		try 
		{
			var myend = parseInt(myEventMax[myEindex]);
			
			
			if(myend != NaN)
			{
			
				//myend = myend - ((new Date().getTimezoneOffset()) * 60);
				var myhour = Math.floor((myend % (24*60*60))/(60*60));
				var mymin = Math.floor((myend % (60*60))/ 60);
				var mysec = Math.floor((myend % (60)));
				de.setHours(myhour, mymin, mysec);
				
				document.getElementById("alertendtime").value =  pad(myhour, 2) + ':' +  pad(mymin, 2) + ':' + pad(mysec, 2);
			}
			else
				document.getElementById("alertendtime").value =  '23:59:59';
		}
		catch (err)
		{
			de.setHours(23, 59, 59);
			//$('#alertstarttime').datetimepicker('show');
			document.getElementById("alertendtime").value =  '23:59:59';
		}	
			
	
		document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventMin[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	
	}
		if(document.getElementById("EventTriggerType").selectedIndex == 12) // start time to sun rise
	{
	
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'block';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
			
			document.getElementById("EventMin").value = myEventMin[myEindex];	
			
	
			//var utcTime = parseInt(myEventMin[myEindex]);
					
			//		utcTime = utcTime + new Date().getTimezoneOffset();
			//		var startdate = new Date(utcTime * 1000);
	
			///document.getElementById("alertstarttime").value = startdate;
			
		var ds = new Date();
		var de = new Date();
		ds.setHours(0, 0, 0);
		de.setHours(23, 59, 59);
		
		//$('#alertstarttime').datetimepicker('setStartDate', '2012-01-01');
		$('#alertstarttime').datetimepicker('setStartDate', ds);
		//$('#alertendtime').datetimepicker('setEndDate', de);
				//format:'hh:ii:ss',
		//startDate:ds,
		//endDate:de,
	
		
		var ds = new Date();
		var de = new Date();
		//ds.setUTCHours(0, 0, 0);
		//de.setUTCHours(23, 59, 59);
		try 
		{
			var mystart = parseInt(myEventMin[myEindex]);
			
			
			if(mystart != NaN)
			{
				//mystart = mystart - ((new Date().getTimezoneOffset()) * 60);
				var myhour = Math.floor((mystart % (24*60*60))/(60*60));
				var mymin = Math.floor((mystart % (60*60))/ 60);
				var mysec = Math.floor((mystart % (60)));
				
				ds.setHours(myhour, mymin, mysec);
				
				document.getElementById("alertstarttime").value =  pad(myhour, 2) + ':' +  pad(mymin, 2) + ':' + pad(mysec, 2);
			}
			else
				document.getElementById("alertstarttime").value =  '00:00:00';
		}
		
		catch (err)
		{
			ds.setHours(0, 0, 0);
			//$('#alertstarttime').datetimepicker('show');
			document.getElementById("alertstarttime").value =  '00:00:00';
		}
		
	
	
		document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventMax[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	
	}
	if(document.getElementById("EventTriggerType").selectedIndex == 13) // start time to sun set
	{
	
	
			document.getElementById("alerthigh_group").style.display = 'none';
			document.getElementById("alertlow_group").style.display = 'none';
			document.getElementById("alertstarttime_group").style.display = 'block';
			document.getElementById("alertendtime_group").style.display = 'none';
				document.getElementById("alerttimezone_group").style.display = 'none';
			document.getElementById("locationcity_group").style.display = 'block';
			document.getElementById("alertduration_group").style.display = 'none';
			document.getElementById("alertoffset_group").style.display = 'block';
			
			document.getElementById("EventMin").value = myEventMin[myEindex];	
			
	
			//var utcTime = parseInt(myEventMin[myEindex]);
					
			//		utcTime = utcTime + new Date().getTimezoneOffset();
			//		var startdate = new Date(utcTime * 1000);
	
			//document.getElementById("alertstarttime").value = startdate;
			
		var ds = new Date();
		var de = new Date();
		ds.setHours(0, 0, 0);
		de.setHours(23, 59, 59);
		
		//$('#alertstarttime').datetimepicker('setStartDate', '2012-01-01');
		$('#alertstarttime').datetimepicker('setStartDate', ds);
		//$('#alertendtime').datetimepicker('setEndDate', de);
				//format:'hh:ii:ss',
		//startDate:ds,
		//endDate:de,
	
		
		var ds = new Date();
		var de = new Date();
		//ds.setUTCHours(0, 0, 0);
		//de.setUTCHours(23, 59, 59);
		try 
		{
			var mystart = parseInt(myEventMin[myEindex]);
			
			
			if(mystart != NaN)
			{
				//mystart = mystart - ((new Date().getTimezoneOffset()) * 60);
				var myhour = Math.floor((mystart % (24*60*60))/(60*60));
				var mymin = Math.floor((mystart % (60*60))/ 60);
				var mysec = Math.floor((mystart % (60)));
				
				ds.setHours(myhour, mymin, mysec);
				
				document.getElementById("alertstarttime").value =  pad(myhour, 2) + ':' +  pad(mymin, 2) + ':' + pad(mysec, 2);
			}
			else
				document.getElementById("alertstarttime").value =  '00:00:00';
		}
		
		catch (err)
		{
			ds.setHours(0, 0, 0);
			//$('#alertstarttime').datetimepicker('show');
			document.getElementById("alertstarttime").value =  '00:00:00';
		}
		
		document.getElementById("LocationCity").selectedIndex = 0;
		 for(i=0; i< document.getElementById("LocationCity").options.length; i++)
		 {
			myEvent = document.getElementById("LocationCity").options[i].value;
			
			 try{
			  if(myEvent.trim() ==  myEventMax[myEindex].trim())
					document.getElementById("LocationCity").selectedIndex = i;
			}
			catch(err)
			{
			
			}
			
		} 
	
	
	}
	 
	 else
	 {
	 
	 				//document.getElementById("alertstarttime").hide;
		//$('#alertstarttime').datetimepicker('hide');
	
		//document.getElementById("alertendtime").hide;
		//$('#alertendtime').datetimepicker('hide');	
	 
	 }
	
	
	
	if(document.getElementById("EventTrigger").selectedIndex == 0)
	{
			document.getElementById("EventMin").value  = 'off';
			document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';	
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'none';	
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 
	 else if(document.getElementById("EventTrigger").selectedIndex == 5) // Switch ON
	{
		
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'block';
			document.getElementById("alertaction_dimmer").style.display = 'none';	
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 6) // Switch OFF
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'block';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'block';
			document.getElementById("alertaction_dimmer").style.display = 'none';	
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 7) // LED Dimmer
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'block';
			document.getElementById("alertdimmerdefault_group").style.display = 'block';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 else if(document.getElementById("EventTrigger").selectedIndex == 8) // RGB Dimmer
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'block';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';	
			document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';			
	 }
	 	 else if(document.getElementById("EventTrigger").selectedIndex == 9) // Blink Dimmer
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';	
			document.getElementById("alertflash_group").style.display = 'block';	
			document.getElementById("alertduty_group").style.display = 'block';			
	 }
	  else if(document.getElementById("EventTrigger").selectedIndex == 10) // Blink Dimmer On then OFF
	{
			//document.getElementById("EventMin").value  = 'off';
			//document.getElementById("EventMax").value = 'off';
			document.getElementById("alertcolor_group").style.display = 'none';
			document.getElementById("alertdimmer_group").style.display = 'none';
			document.getElementById("alertdimmerdefault_group").style.display = 'none';			
			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'block';	
			document.getElementById("alertflash_group").style.display = 'block';	
			document.getElementById("alertduty_group").style.display = 'block';			
	 }
	 else{
		document.getElementById("alertcolor_group").style.display = 'none';
	 document.getElementById("alertdimmer_group").style.display = 'none';
	 			document.getElementById("alertaction_switch").style.display = 'none';
			document.getElementById("alertaction_dimmer").style.display = 'none';	
						document.getElementById("alertflash_group").style.display = 'none';	
			document.getElementById("alertduty_group").style.display = 'none';
	 /*
			if(!isNaN(myEventMin[myEindex]) )
				document.getElementById("EventMin").value  = parseInt(myEventMin[myEindex]);
			else
				document.getElementById("EventMin").value  = 'off';
			
			if(!isNaN(myEventMax[myEindex]) )
				document.getElementById("EventMax").value = parseInt(myEventMax[myEindex]);	
			else
				document.getElementById("EventMax").value = 'off';	
				*/
	}	 
	
	
	// get dimmer value
	gDimmerValue = myEventAlertActionValue[myEindex];
	// set dimmer value slider
	dimmer.slider('setValue', Math.floor(gDimmerValue), true);
				
	document.getElementById('LEDdimmervalue').value = gDimmerValue;
	document.querySelector('#LEDdimmervalue').innerHTML = "&nbsp;&nbsp;" + gDimmerValue;	
					
	// set dimmer color dropdown and label				
	document.getElementById("LEDcolorDD").selectedIndex = SliderAlertColorLookup[gDimmerValue];
	document.getElementById('dimmerColorText').value = dimmerColorDDMenuText[SliderAlertColorLookup[gDimmerValue]];
					
	// get default dimmer value - used with timmer event to command OFF STATE 0x65 - 0xFF means to ignore 				
	gDimmerDefaultValue = myEventAlertDefaultValue[myEindex];
	
	// clipvalue since it can be == 0xFF
	if(gDimmerDefaultValue > 100)
		gDimmerDefaultValue = 101;
	
	dimmerDefault.slider('setValue', Math.floor(gDimmerDefaultValue), true);
	document.querySelector('#LEDdimmerDefaultvalue').innerHTML = "&nbsp;&nbsp;" + gDimmerDefaultValue;	
	
	
	// set defau;t color dropdown
	document.getElementById("LEDDefaultcolorDD").selectedIndex = SliderAlertColorLookup[gDimmerDefaultValue];
	// set default color drop down tex label				
	document.getElementById('dimmerDefaultColorText').value = dimmerColorDDMenuText[SliderAlertColorLookup[gDimmerDefaultValue]];
					
					
	document.getElementById("EventName").value = myEventName[myEindex]; 					
					/*
					var REDcolor = (gColorPickerValue >> 5) & 0x07;

					REDcolor = Math.round(  REDcolor * 36.42857);  // 255/7	

		
					var GREENcolor = (gColorPickerValue >> 2) & 0x07;
					GREENcolor = Math.round( GREENcolor * 36.42857);   // 255/7	
		
					var BLUEcolor = (gColorPickerValue & 0x000003);
					BLUEcolor = Math.round( BLUEcolor * 85);  // 255/3
					*/
					//var DimmerBackGroundColor = (REDcolor << 16) + (GREENcolor << 8) + (BLUEcolor);
					//var rgbstring = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
					//var DimmerBackGroundColorHEX = padToHex(DimmerBackGroundColor);
					
					/*
					
					document.getElementById("LEDcolor").style.backgroundColor  = rgbstring;
					document.getElementById("LEDcolor").value = DimmerBackGroundColorHEX;
	

		
					var yiq = ((REDcolor*299)+(GREENcolor*587)+(BLUEcolor*114))/1000;
					  
					 if(yiq > 128)
						document.getElementById("LEDcolor").style.color = "#000000";	
					else
						document.getElementById("LEDcolor").style.color = "#FFFFFF"; 
					*/
	
			
	
}




function handleGetAlertIDs(response)
 {
    var index=0;
    var myText;
	var myAlertID=0;
    var myMessage;
	var myDeviceID;
	var myGPSValue;

    $.unblockUI();
	
	myEventTag.length = 0;
	myEventUnits.length = 0;
	myEventMax.length = 0;
	myEventMin.length = 0;
	myEventAlarmMode.length = 0;
	myEventInterval.length = 0;
	myEventSource.length = 0;
	myEventID.length = 0;
	myEventID.length = 0;
	myEventAlarmModeType.length = 0;
	myEventAlertActionValue.length = 0;
	myEventAlertDefaultValue.length = 0;
	myEventAlertActionPGN.length = 0;
		
	myEventEnabled.length = 0;
	myEventAlertDuration.length = 0;
	myEventAlertOffset.length = 0;
	myEventRemoteMode.length = 0;
	
	myEventAlertLocation.length = 0;
	myEventAlertTimezone.length = 0;

	var table = document.getElementById("ReportData");
 
    var rowCount = table.rows.length;
	   	
	while(table.rows.length > 1) {
		table.deleteRow(1);
	}
	
    document.getElementById("EventsID").options.length = 0;
    document.getElementById("ReportsID").options.length = 0;

    response.records.forEach(function(row){
	
	try
	{
		myMessage = JSON.parse(row[1]);
		myText = myMessage.posttype;
	}
	catch(err)
	{
		myText = "ParseError";
		myAlertID = row[0];
	}
	
	
	
    if( myText == "EmailAlertPost")
    {
        myText = myMessage.subject;
		myAlertID = row[0];
		/*
		if(myMessage.email != null)
			gEMail = myMessage.email;
		else
			gEMail = "";
			
		document.getElementById("EmailAddress").value = gEMail;
		
		if(myMessage.smsnumber != null)
			gSMSNumber = myMessage.smsnumber;
		else
			gSMSNumber = "";
			
		document.getElementById("SMSNumber").value = gSMSNumber;
		*/
		myDeviceID = myMessage.deviceid;
		if(myDeviceID == gDeviceKey)
		{
			
			
			if(myMessage.subject != null)
			{
				myText = myMessage.subject;
			}
	
			else
			{
				myText = "unknown";
			}
			
			myEventName.push(myText);
			myEventID.push(myMessage.AlertId);
			myEventInterval.push(myMessage.Interval);
			
			
	
			try
			{
				myEventEnabled.push(myMessage.alertenabled);
			}
			catch(err)
			{
				myEventEnabled.push("enabled");
			}
			
			try
			{
				myEventAlertDuration.push(myMessage.alertduration);
			}
			catch(err)
			{
				myEventAlertDuration.push("default");
			}
			
			try
			{
				myEventAlertOffset.push(myMessage.alertoffset);
			}
			catch(err)
			{
				myEventAlertOffset.push("default");
			}
			
			try
			{
				myEventRemoteMode.push(myMessage.remotemode);
			}
			catch(err)
			{
				myEventRemoteMode.push("singleevent");
			}
			
			
			try{
				myEventAlarmModeType.push(myMessage.alerttype);
			}
			catch(err)
			{
				myEventAlarmModeType.push("Mean");
			}

			try{
				myEventAlertTimezone.push(myMessage.alerttimezone);
			}
			catch(err)
			{
				myEventAlertTimezone.push("(LOCAL) Local Time");
			}
			
			try{
				myEventAlertLocation.push(myMessage.locationcity);
			}
			catch(err)
			{
				myEventAlertLocation.push("Brookings");
			}
			
			
			
			
			myGPSValue = "0";

			var myReportTag = "";	
			 
			var mySeries = myMessage.series_1;
			//if(mySeries3 != null || mySeries3 != undefined)
			try{
				if( mySeries != null && typeof(mySeries) != "undefined")
				{
				 
				  myReportTag = myMessage.EventTypeId;
				  if(myReportTag == "/Position")
				  {
						if(mySeries.lat != null && typeof(mySeries.lat) != "undefined")
							gAlertLatitude = mySeries.lat;
						if(mySeries.lng != null && typeof(mySeries.lng) != "undefined")
							gAlertLongitude = mySeries.lng;
							
						if(mySeries.alarmhigh != null && typeof(mySeries.alarmhigh) != "undefined"){
							if( mySeries.alarmhigh != "off" && parseInt(mySeries.alarmhigh) > 0 ){
								gAlertRadius = parseInt(mySeries.alarmhigh)
								document.getElementById("GeoReportRange").selectedIndex = 0;
								}
							}
						else if(mySeries.alarmlow != null && typeof(mySeries.alarmlow) != "undefined"){
							if( mySeries.alarmlow != "off" && parseInt(mySeries.alarmlow) > 0 ){
								gAlertRadius = parseInt(mySeries.alarmlow)
								document.getElementById("GeoReportRange").selectedIndex = 1;
								}
							}
				  
				  }
				  
			if(myMessage.alertaction_value != null)
			{
				
				try{
				
					gDimmerValue = parseInt(myMessage.alertaction_value);
					
					//setDimmerButtonColor(gDimmerValue);
					
					setDimmerButtonColorbySlider(gDimmerValue);
					
					document.getElementById('LEDdimmervalue').value = gDimmerValue;
					dimmer.slider('setValue', Math.floor(gDimmerValue), true);
					document.querySelector('#LEDdimmervalue').innerHTML = "&nbsp;&nbsp;" + gDimmerValue;
					
					
					myEventAlertActionValue.push(gDimmerValue);
					
					
					
					
					
					
					
				}
				catch(err){}
				
				
				
			}
			
				  
			if(myMessage.alertdefault_value != null)
			{
				
				try{
				
					gDimmerDefaultValue = parseInt(myMessage.alertdefault_value);
					
					//setDefaultDimmerButtonColor(gDimmerDefaultValue);
					
					setDefaultDimmerButtonColorbySlider(gDimmerDefaultValue);
					
					document.getElementById('LEDdimmerDefaultvalue').value = gDimmerDefaultValue;
					dimmerDefault.slider('setValue', Math.floor(gDimmerDefaultValue), true);
					document.querySelector('#LEDdimmerDefaultvalue').innerHTML = "&nbsp;&nbsp;" + gDimmerDefaultValue;	
					
					myEventAlertDefaultValue.push(gDimmerDefaultValue);
					
					
					
					
					
					
					
				}
				catch(err){}
				
				
				
			}
			
		
				
				
			if(myMessage.alertaction_pgn != null)
			{
				
				try{
				
				
					myEventAlertActionPGN.push(myMessage.alertaction_pgn);
					
					
				}
				catch(err){}
				
				
				
			}
				  
				  
				  myEventTag.push(myMessage.EventTypeId);
				  myEventUnits.push(mySeries.units);
				  myEventMin.push( mySeries.alarmlow);
				  myEventMax.push(mySeries.alarmhigh);
				  myEventAlarmMode.push(mySeries.alarmmode); 
				  
				  
				  try{
					myEventKey  = mySeries.key.replace(/\"/g, "");
					myPGNArray = myEventKey.split("."); 
					myValue = myPGNArray[2];
					myTextArray = myValue.split(":");
					myValue = myTextArray[1]; 
					myEventSource.push(myValue);
					}
					catch(err)
					{
						myEventSource.push(".*");
					}
			
				}
				else
				{
					myReportTag ="/Position";
					myEventTag.push("/Position");
					myEventUnits.push(mySeries.units);
					myEventMin.push( mySeries.alarmlow);
					myEventMax.push(mySeries.alarmhigh);
					myEventAlarmMode.push(mySeries.alarmmode);
					
					
				  
				  
					myEventSource.push(myGPSValue);
				}
			}
			catch(err)
			{
			}
		
				document.getElementById("EventsID").options[index] = new Option(myText, myAlertID);
				document.getElementById("ReportsID").options[index++] = new Option(myText, myReportTag);
			//boardlogins[index++]=myMessage.blwskey;
			}
		   
		}


    });
	
	 //  document.getElementById("EventsID").options[index++] = new Option("-----------", 0);

	document.getElementById("EventsID").options[index] = new Option( "** Add New Event **", "0");
	
	
	// Initialize all the parameters
	SetEventsOptions(0);

	/*
    if(document.getElementById("EventsID").options.length != 0)
    {
        document.getElementById("EventsID").selectedIndex = 0;
        AlertID = document.getElementById("EventsID").options[0].value;
        document.getElementById("BLWSKey").value = boardlogins[0];
        document.getElementById("PrefName").value = document.getElementById("AlertID").options[0].text;
    }
    else
      AlertID = 0;
*/
     
   //   GetEventTypes();  
   InitalizeFirebase();
   // get active series and enable them in the Event drop down list
   GetSeriesAttributes();
 
}

function handleGetReport(response)
{
 var index=0;
 var myValue;
  var myValueMin;
   var myValueMax;
    var myValueMean;
	
	
   	$.unblockUI();
   	
       var table = document.getElementById("ReportData");
 
       var rowCount = table.rows.length;
	   
	 //  for(i=0; i<rowCount-1; i++)
	//		table.deleteRow(i);
			
	while(table.rows.length > 1) {
	

		table.deleteRow(1);
	}
			
			
	var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	var myUnits = myEventUnits[myEventIndex];
	var myMin = myEventMin[myEventIndex];
	var myMax = myEventMax[myEventIndex];
	var myAlarmMode = myEventAlarmMode[myEventIndex];

			
   index = 0;
   	 response.results.forEach(function(mydata){
	 
	 var row = table.insertRow(1);
	 
				var utcTime = new Date(mydata.epoch*1000);
			
			if(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value == "-0")
			{
				//ldate = 
				//utcTime = utcTime + new Date().getTimezoneOffset();
				//var mydate = new Date(utcTime * 1000);
				var mydate = utcTime;
				
			  row.style.color = "#053B72";
              var cell0 = row.insertCell(0);
          //   cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			    cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
			}
			else
			{
				utcTime = utcTime + timezoneOffset;
				//var mydate = new Date(utcTime * 1000);
				var mydate = utcTime;

              var cell0 = row.insertCell(0);
				cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			   // cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
			}
			
			  var cell1 = row.insertCell(1);
              cell1.innerHTML = mydata.source;
			  cell1.style.textAlign = 'left';
				
	
              var cell2 = row.insertCell(2);
			  myValueMean = mydata.mean
			  myValueMean = ConvertValueUnits(myValueMean, myUnits)
              cell2.innerHTML = spad(parseFloat(myValueMean).toFixed(4),10);
			  cell2.style.textAlign = 'left';
			  
			  var cell3 = row.insertCell(3);
			  myValueMin = mydata.min
			  myValueMin = ConvertValueUnits(myValueMin, myUnits)
              cell3.innerHTML = spad(parseFloat(myValueMin).toFixed(4),10);
			  cell3.style.textAlign = 'left';
			  
			  var cell4 = row.insertCell(4);
			  myValueMax = mydata.max
			  myValueMax = ConvertValueUnits(myValueMax, myUnits)
              cell4.innerHTML = spad(parseFloat(myValueMax).toFixed(4),10);
			  cell4.style.textAlign = 'left';
			  
			  var cell5 = row.insertCell(5);
			  myValue = mydata.delta;
			  myValue = ConvertValueUnits(myValue, myUnits)
              cell5.innerHTML = spad(parseFloat(myValue).toFixed(4),10);
			  cell5.style.textAlign = 'left';
			  
			  var cell6 = row.insertCell(6);
              cell6.innerHTML = mydata.count;
			  cell6.style.textAlign = 'left';
			  
			  var cell7 = row.insertCell(7);
              //cell6.innerHTML = mydata.count;
			  cell7.style.textAlign = 'left';
			  row.style.color = "#053B72";
			  
			  if(myAlarmMode == "disabled")
			  {
					cell7.innerHTML = "Disabled";
			  }
			  else if(myAlarmMode == "alarm" || myAlarmMode == "alarmemail" || myAlarmMode == "alarmsms")
			  {
			  
					cell7.innerHTML = "Alarm Inactive";
					row.style.color = "#053B72";
					
					if(myMin != 'off')
					{
						if(myValueMin < myMin)
						{
						 cell7.innerHTML = "Alarm Active";
						 row.style.color = "#C70C45"; 
						 }
					}
					
					if(myMax != 'off')
					{
						if(myValueMax > myMax)
						{
						 cell7.innerHTML = "Alarm Active";
						 row.style.color = "#C70C45"; 
						 }
					}
					
			  }
			  else if (parseInt(mydata.count) == 0)
			  {
				cell7.innerHTML = "Missing";
				row.style.color = "#C70C45"; 
				}
	
			  		  /*
			  	<option value="disabled">Disabled</option>
					<option value="status">Status</option>
					<option value="warning">Warning</option>
					<option value="alarm">Alarm</option>
					<option value="error">Error</option>           
					<option value="missing">Missing</option>
			  */
			  
			  
			  
			  
			  
	
		  	});
}

// Sets the map on all markers in the array.
function setAllMap(map) {
  for (var i = 0; i < markers.length; i++) {
    markers[i].setMap(map);
  }
}

// Removes the markers from the map, but keeps them in the array.
function clearMarkers() {
  setAllMap(null);
}

// Shows any markers currently in the array.
function showMarkers() {
  setAllMap(map);
}

function handleGetGeoReport(response)
{
 var index=0;
 var myValue;
  var myValueMin;
   var myValueMax;
    var myValueMean;
   var mytime;
    var myNGTDate = new Date(0);
    var myJSONdata;	
	var myinfoWindow = new google.maps.InfoWindow;
	
	var numOfpoints=0;
	
	var oldtime=0;
	var newtime=0;
	var contentString="";
	var labelString=""
	var myIcon;
	
	gn2ktime.length = 0;
	glat.length = 0;
	glng.length = 0;
	
	
   	$.unblockUI();
	
	index = document.getElementById("GeoReportMarker").selectedIndex;
	//var myMarker = parseInt(document.getElementById("GeoReportMarker").options[index].value);
	var myMarker = document.getElementById("GeoReportMarker").selectedIndex;
	//myMarker = myMarker * 60;
		
	index=0;
	

	//newpoly[i].set('myIndex', i);
	try{
		for(i=0; i < newpoly.length; i++)
		newpoly[i].setMap(null); 	
	}catch(err)
	{
	}
	
	newpoly = [];	
	 // path = newpoly[i].getPath();
	
   		  mytimeZoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;
 // alert(response);
   //  console.log(response);
   response.results.forEach(function(myJSONdata){
   
            
		   //   myPolyDataValues[index][16] =  parseFloat(row[3])
		    if((myJSONdata.lat != null) && (myJSONdata.lng != null))
            {
            //mytime = ((parseInt(row[1]) * 86400) + parseInt(row[2]))  +  1262304000;
            mytime = parseInt(myJSONdata.epoch);


            mytime = mytime + (mytimeZoneOffset * 60);
			gepochtime[index] = mytime;
	
            mytime = mytime * 1000;
			
		

            myNGTDate.setTime(mytime );

            //gn2ktime[index] = myNGTDate.toUTCString();
			gn2ktime[index] = myNGTDate.toString().replace(/GMT.*/g, "");
    

	
            glat[index] = parseFloat(myJSONdata.lat).toFixed(10);
            glng[index] = parseFloat(myJSONdata.lng).toFixed(10);
			gLatitude=glat[index];
			gLongitude=glng[index];
            gspeed[index] = parseFloat(myJSONdata.speed).toFixed(2);
			gdistance[index++] = parseFloat(myJSONdata.distance).toFixed(4);
            //mycog[index] = parseFloat(myJSONdata.value4).toFixed(2);
           

        }


    });
	
	
	numOfpoints = index-1;
	
	

	
	
   myLatlng = new google.maps.LatLng(glat[0], glng[0]);
   myOldLatlng = myLatlng;
   
   setAllMap(null);

   for (var i = 0; i < markers.length; i++ ) {
    markers[i].setMap(null);
  }
  markers.length = 0;

   
		markers = [];
		
		  setAllMap(null);
/*
   map.setCenter(myLatlng);
   
   			circleParms.map = map;
			circleParms.center = myLatlng;
			circleParms.radius = parseInt(document.getElementById("GeoReportRange").options[document.getElementById("GeoReportRange").selectedIndex].value) ;
			circleParms.draggable = false;
			circleParms.editable = false;

			var circle = new google.maps.Circle(circleParms);
			map.fitBounds(circle.getBounds());
   
	*/
	var TotalDistance=0.0
		
	
	for(i=0; i < glat.length; i++)
    {

	
		newtime=gepochtime[i];

        myLatlng = new google.maps.LatLng(glat[i], glng[i]);
		
		TotalDistance = TotalDistance + parseFloat(gdistance[i]);
		
		contentString = '<font size="1">' + 
								 '<p>time: ' + gn2ktime[i] + '</p>' +
                                 '<p>speed: ' + gspeed[i] + '</p>'+
                                 '<p>Segment distance: ' +  gdistance[i] + '</p>'+
								 '<p>Total distance: ' +  TotalDistance + '</p>'+
                               '</font>';
							   
		labelString = gn2ktime[i] + "\n" + "speed: " + parseFloat(gspeed[i]).toFixed(2) + "\n" + "segment distance: " + parseFloat(gdistance[i]).toFixed(2) + "\n" + "total distance: " + parseFloat(TotalDistance).toFixed(2);
							   
		// var myinfoWindow = new google.maps.InfoWindow;	
		//myinfoWindow.setContent(contentString);
			
			
	//	var pinImage = new google.maps.MarkerImage("http://www.googlemapsmarkers.com/v1/009900/");

		//if(((myMarker != 0) && (oldtime + myMarker <= newtime))	|| i==0)
		if(myMarker != 0)
		{
		
			myIcon = Math.floor(i * (128/numOfpoints))
			if(myMarker == 2)
				myIcon = Math.floor(gspeed[i] * 4)
		
			 marker = new google.maps.Marker({
				position: myLatlng,
				labelContent:contentString,
				//labelContent: gn2ktime[i] + "/r/n" + "speed: " + gspeed[i] + "/r/n" + "distance: " + gdistance[i],
				title: labelString,
				//title: "point: " + i + " " + gn2ktime[i],
				icon: myPins[myIcon],
				map: map
			  });
			  
			//   google.maps.event.addListener(marker, 'click', function() { myinfoWindow.open(map,marker); });
				oldtime= newtime;	   
			  markers.push(marker);
			  marker.setPosition(myLatlng);
		}
		

		
		
		newpoly[i] = new google.maps.Polyline(polyOptions);
		newpoly[i].set('myIndex', i); 
		
	  path = newpoly[i].getPath();

         // Because path is an MVCArray, we can simply append a new coordinate
        // and it will automatically appear
             if(myOldLatlng != null)
               polyLineCount = path.push(myOldLatlng);
             
              polyLineCount = path.push(myLatlng);
              newpoly[i].setMap(map); 
                                 
             // marker.setPosition(myLatlng);
                                  
             myOldLatlng = myLatlng;
			 
			 polyindex = i;
	}
	
		for (var i = 0; i < markers.length; i++) {
		markers[i].setMap(map);
	  }

	map.setCenter(myLatlng);
	
	
}

function handleGetSeriesAttributes(response)
 {
 var index=0;
 var i;
 
   	$.unblockUI();
    

     var myserieskey 
     var myPGNEvent;
     var index
     index = 0;
     

 
     
    if(response.status == "error")
   {
    //  document.getElementById("SearchStatus").innerHTML = "No data from search";
      return;
      
     }
            

		
	var PGNTypeIDLength = 	document.getElementById("PGNTypeID").length;
	
	for(var i=0; i< PGNTypeIDLength; i++)
	{
		document.getElementById("PGNTypeID").options[i].disabled = true;
		document.getElementById("PGNTypeID").options[i].style.color = '#CCCCCC';
	}
	
	var ActionSwitchLength = 	document.getElementById("ActionSwitch").length;
	
	for(var i=0; i< ActionSwitchLength; i++)
	{
		document.getElementById("ActionSwitch").options[i].disabled = true;
		document.getElementById("ActionSwitch").options[i].style.color = '#CCCCCC';
	}
	
	var ActionDimmerLength = 	document.getElementById("ActionDimmer").length;
	
	for(var i=0; i< ActionDimmerLength; i++)
	{
		document.getElementById("ActionDimmer").options[i].disabled = true;
		document.getElementById("ActionDimmer").options[i].style.color = '#CCCCCC';
	}
	

	var GeoSourceLength = 	document.getElementById("GeoAlarmSource").length;
	
	for(var i=0; i< GeoSourceLength; i++)
	{
		document.getElementById("GeoAlarmSource").options[i].disabled = true;
		document.getElementById("GeoAlarmSource").options[i].style.color = '#CCCCCC';
	}
            
        
     response.series.forEach(function(mydata){
     

      
            myserieskey = "deviceid:" + mydata.deviceid;
            myserieskey = myserieskey  + ".sensor:" + mydata.sensor;
            myserieskey = myserieskey  + ".source:" + mydata.source;
            myserieskey = myserieskey  + ".instance:" + mydata.instance;
            myserieskey = myserieskey  + ".type:" + mydata.type;
            myserieskey = myserieskey  + ".parameter:" + mydata.parameter;
            myserieskey = myserieskey  + ".HelmSmart";                                     
            
            myPGNEvent = GetPGNTypeFromSeries(myserieskey);
			
			for(var i=0; i< PGNTypeIDLength; i++)
			{
				if(document.getElementById("PGNTypeID").options[i].value == myPGNEvent)
				{
					document.getElementById("PGNTypeID").options[i].disabled = false;
					document.getElementById("PGNTypeID").options[i].style.color = '#0D27C3';
				}
			}
			
			for(var i=0; i< ActionDimmerLength; i++)
			{
				if(document.getElementById("ActionDimmer").options[i].value == myPGNEvent)
				{
					document.getElementById("ActionDimmer").options[i].disabled = false;
					document.getElementById("ActionDimmer").options[i].style.color = '#0D27C3';
				}
			}
			
			for(var i=0; i< ActionSwitchLength; i++)
			{
				if(document.getElementById("ActionSwitch").options[i].value == myPGNEvent)
				{
					document.getElementById("ActionSwitch").options[i].disabled = false;
					document.getElementById("ActionSwitch").options[i].style.color = '#0D27C3';
				}
			}
			
			if(mydata.sensor == "position_rapid")
			{
				for(var i=0; i< GeoSourceLength; i++)
				{
				
					if(document.getElementById("GeoAlarmSource").options[i].value == mydata.source)
					{
						document.getElementById("GeoAlarmSource").options[i].disabled = false;
						document.getElementById("GeoAlarmSource").options[i].style.color = '#0D27C3';
						
						}

				}
			}
			
			document.getElementById("GeoAlarmSource").options[0].disabled = false;
			document.getElementById("GeoAlarmSource").options[0].style.color = '#0D27C3';


            
         });
              
//	UpdateSeriesList();
 
}

function UpdateSeriesList()
{
    GetSeriesAttributes(document.getElementById("DeviceID").options[document.getElementById("DeviceID").selectedIndex].value);
}
  

function handleRegisterDevice(response)
{
var myresponse;
var myBLWSKey
var myJSON = {};
  
  	$.unblockUI();
   
     myresponse = response;
     myStatus = myresponse.status;
     if(myStatus == 'success')
     {
          //myText = myresponse.boatlogger;
          myBLWSKey = myresponse.blwskey;
		   gBLWSKey = myBLWSKey;	
		   
		   gDeviceKey = myresponse.deviceapi;
		   
		  myDeviceID = myresponse.deviceid;
		  
		  if(myDeviceID == "")
		  {
			alert('No valid DeviceDI found');
			gDeviceID="";
		  }
		  else
			gDeviceID = myDeviceID;
			
          //myJSON = JSON.parse(myText);
          //myBLWSKey = myJSON.ActivationKey;
          //document.getElementById("BLWSKeyInput").value = myBLWSKey;

         // myKey=response.url;
      }
      else if(myStatus == 'error')
      {
        //document.getElementById("BLWSKeyInput").value = "invalid key";
		alert('Invalid BLWS Key');
		gBLWSKey ="";
     }
	 
	
	 //gDeviceID = document.getElementById("DeviceID").value;

     gDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;

	 if(gDeviceID !== "")
		InitalizeFirebase();
		
		GetAlertEvents();

} 



function handleGetDeviceData(response)
{
  var index=0;

  $.unblockUI();

  document.getElementById("DeviceTypeID").options.length = 0;

  response.records.forEach(function(row){
 
     // myDeviceIDs[index]=row[0];
      document.getElementById("DeviceTypeID").options[index++] = new Option(row[0] + ":" + row[1], row[0]);

  });


  document.getElementById("DeviceTypeID").selectedIndex = 0;
  gDeviceKey = document.getElementById("DeviceTypeID").options[0].value;
					document.getElementById("DeviceKey").value = gDeviceKey;
					
	 if(gDeviceID !== "")
		InitalizeFirebase();
		
		GetAlertEvents();				
					
					
   /*   
  for(i=0; i< document.getElementById("DeviceTypeID").options.length; i++)
	    		{
	    			myDeviceID = document.getElementById("DeviceTypeID").options[i].value;
					document.getElementById("DeviceKey").value = myDeviceID;
		    		//if(myDeviceID == AccountDataFolder)
		    		//	document.getElementById("DeviceID").selectedIndex = i;
		    	}
 */         
 //  if(index == 0)
 //    document.getElementById("SearchStatus").innerHTML = "Get Devices Error";
  //   else
  //    document.getElementById("SearchStatus").innerHTML = "Device List update succcessful "; 
    

    // Search DB for list of series that match deviceID
   //  GetSeriesAttributes(document.getElementById("DeviceID").options[document.getElementById("DeviceID").selectedIndex].value); 
    
    // Search DB for list of Alerts that match DeviceID
  	//		 getAlertIDsList(myuserid);
    
    
}

function handleUpdateAlert(response)
{
 var index=0;
 
   	$.unblockUI();
    
            // document.getElementById("AddPreferenceName").value = "";
         //   getAlertIDsList(myuserid);
		 GetAlertEvents();

}

function handleAddLogAlert(response)
{
 var index=0;
 
   	$.unblockUI();
    
            // document.getElementById("AddPreferenceName").value = "";
         //   getAlertIDsList(myuserid);
		 GetAlertEvents();

}

function handleDeleteAlert(response)
 {
 var index=0;
 
   	$.unblockUI();
    
            // document.getElementById("AddPreferenceName").value = "";
            GetAlertEvents();

}
function UpdateLogAlert()
{
	if(document.getElementById("EventsID").selectedIndex == document.getElementById("EventsID").length - 1)
	{
		AddLogAlert();
	}
	else
	{
		ModifyLogAlert();
	}
}
function ModifyLogAlert()
{
    var myStartTimeStr;
    var myEndTimeStr;
    var myStartDays;
    var myStartSecs;
    var myEndDays;
    var myEndSecs;

    var myInterval;
	
   if(gDeviceKey == "" || gDeviceKey =="000000000000")
	{
		alert('No Device selected');
		return;
	}
	
	//Can't update prefs if we don't have one
    if(document.getElementById("EventsID").selectedIndex == document.getElementById("EventsID").length - 1)
     return;
	 
	 var myCity = document.getElementById("LocationCity").options[document.getElementById("LocationCity").selectedIndex].value
	 
	 if(document.getElementById("EventTriggerType").selectedIndex == 8 || document.getElementById("EventTriggerType").selectedIndex == 9)
	{
		document.getElementById("EventMax").value = myCity;
		document.getElementById("EventMin").value = myCity;
	}
	else if(document.getElementById("EventTriggerType").selectedIndex == 10 || document.getElementById("EventTriggerType").selectedIndex == 11)
	{
		//document.getElementById("EventMax").value = myCity;
		document.getElementById("EventMin").value = myCity;
	}
	else if(document.getElementById("EventTriggerType").selectedIndex == 12 || document.getElementById("EventTriggerType").selectedIndex == 13)
	{
		document.getElementById("EventMax").value = myCity;
		//document.getElementById("EventMin").value = myCity;
	}
	else
	{
	/*
	if(myCity != "latlng")
	{
		document.getElementById("EventMax").value = myCity;
		document.getElementById("EventMin").value = myCity;
	}
	else
	{
		document.getElementById("EventMax").value = 'enter lat';
		document.getElementById("EventMin").value = 'enter lng';
	
	}
	*/
	 
		 if(document.getElementById("EventMax").value != "off")
		  {
			mytriggervalue = document.getElementById("EventMax").value;
			if(parseInt(mytriggervalue,10) == NaN)
			{
				alert('Need to enter a Max Integer value or off');
				document.getElementById("EventMax").value = "off"
				return;
			}
		  }
		  
		   if(document.getElementById("EventMin").value != "off")
		  {
			mytriggervalue = document.getElementById("EventMin").value;
			if(parseInt(mytriggervalue,10) == NaN)
			{
				alert('Need to enter a Min Integer value or off');
				document.getElementById("EventMin").value = "off"
				return;
			}
		  }
	}
  // set these to zero so the events do not expire  
   // EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
    EndEpoch = 0;
	StartEpoch =0;
	var alertcolor;
	var devicedataurl;
	var optionmenuindex;
	var prefkey;
	var prefName;
  var AlertPrefs={};
  var PrefsToAdd = {};
  var series_prefs1 = {};
  var series_prefs2 = {};
  var series_prefs3 = {};
    
      
     // get current AlertID from preference dropdown    
   optionmenuindex = document.getElementById("EventsID").selectedIndex;
   prefkey = parseInt(document.getElementById("EventsID").options[optionmenuindex].value);
   
  
  //DialID.length = 3;
 // myNumOfSeries = DialID.length;
  
  AlertPrefs['posttype'] = "EmailAlertPost";
 // AlertPrefs['login'] = document.getElementById("BoardLogin").value;
//  AlertPrefs['boardname'] = document.getElementById("BoardName").options[document.getElementById("BoardName").selectedIndex].text;  
//  AlertPrefs['boardid'] = document.getElementById("BoardName").options[document.getElementById("BoardName").selectedIndex].value;  
//  AlertPrefs['channelname'] = document.getElementById("ChannelName").options[document.getElementById("ChannelName").selectedIndex].text;  
//  AlertPrefs['channelid'] = document.getElementById("ChannelName").options[document.getElementById("ChannelName").selectedIndex].value;  
 	var myText = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].text;
	var myTags = myText.split(":");
	
	  gDeviceName = myTags[1];
	  gDeviceKey = myTags[0];
	  
 AlertPrefs['devicename'] = gDeviceName;   
  AlertPrefs['deviceid'] = gDeviceKey;
  
  //AlertPrefs['email'] = document.getElementById("EmailAddress").value;
  //AlertPrefs['smsnumber'] = document.getElementById("SMSNumber").value;
  
    AlertPrefs['email'] = "";
  AlertPrefs['smsnumber'] = "";
   AlertPrefs['locationcity'] = myCity;

  AlertPrefs['alerttimezone'] = document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].text;

      
  if(document.getElementById("EventName").value == "")
  {
    //alert('Need to enter a pref name');
    //return;
	AlertPrefs['subject']  = document.getElementById("EventsID").options[document.getElementById("EventsID").selectedIndex].text
  }
  else
  {
        AlertPrefs['subject'] = document.getElementById("EventName").value;
  }

  

      AlertPrefs['Interval'] = document.getElementById("EventInterval").options[document.getElementById("EventInterval").selectedIndex].text;
	  
	  AlertPrefs['alertduration'] = document.getElementById("EventDuration").options[document.getElementById("EventDuration").selectedIndex].text;
	  AlertPrefs['alertoffset'] = document.getElementById("EventOffset").options[document.getElementById("EventOffset").selectedIndex].text;
	  AlertPrefs['alertenabled'] = document.getElementById("EventEnabled").options[document.getElementById("EventEnabled").selectedIndex].text;
	  
	   AlertPrefs['remotemode'] = document.getElementById("EventRemoteMode").options[document.getElementById("EventRemoteMode").selectedIndex].value;
	   
	   
		if( !isNaN(parseInt(document.getElementById("EventMax").value) ))
		{
			var tmLoc = new Date();
			var endsecs = parseInt(document.getElementById("EventMax").value);
			var localenddate = new Date(endsecs * 1000);
			//var utc_timestamp = Date.UTC(localenddate.getUTCFullYear(),localenddate.getUTCMonth(), localenddate.getUTCDate() , localenddate.getUTCHours(), localenddate.getUTCMinutes(), localenddate.getUTCSeconds(), localenddate.getUTCMilliseconds());
			var utc_timestamp = Math.floor((localenddate.getTime()/1000) );
			//var utc_timestamp =  Math.floor((localenddate.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);
			AlertPrefs['alertendtime_utc'] = 	utc_timestamp;	
		}
		else
		{
					var tmLoc = new Date();
					//var EndEpoch =  Math.floor((tmLoc.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);
					AlertPrefs['alertendtime_utc']  =  Math.floor((tmLoc.getTime()/1000) );
		}
	  
      //myInterval = parseInt(document.getElementById("EventInterval").selectedIndex);
	  myInterval = parseInt(document.getElementById("EventInterval").value);
      AlertPrefs['AlertId'] = 0;


      //AlertPrefs['blwskey'] = gBLWSKey;
      AlertPrefs['EventTypeId'] = document.getElementById("PGNTypeID").options[document.getElementById("PGNTypeID").selectedIndex].value;
     // AlertPrefs['EventKey'] = 0;
	 
	 
  		AlertPrefs['alertmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;
  		AlertPrefs['alerttype'] = document.getElementById("EventTriggerType").options[document.getElementById("EventTriggerType").selectedIndex].value;
		
	alertcolor = document.getElementById("LEDcolorDD").selectedIndex;
	//alertcolor = 0;
	 
	 /*
	 var dimmercolor = parseInt(alertcolor, 16);
		
	var REDcolor = (dimmercolor & 0xFF0000) >> 16;
		//REDcolor = REDcolor * 0.390625;  // 100/256	
	REDcolor = REDcolor * 0.996;  // 255/256	

		
	var GREENcolor = (dimmercolor & 0x00FF00) >> 8;
	GREENcolor = GREENcolor * 0.996;  // 255/256		
		
	var BLUEcolor = (dimmercolor & 0x0000FF);
	BLUEcolor = BLUEcolor * 0.996;  // 255/256	
		

	var RGBcolor = ((REDcolor / 32) << 5) + ((GREENcolor / 32) << 2) + (BLUEcolor / 64);	
	
	*/
	
	
	if(document.getElementById("EventTrigger").selectedIndex == 5) // Switch ON
	 {
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionSwitch").options[document.getElementById("ActionSwitch").selectedIndex].value;
		AlertPrefs['alertaction_value'] =    1;
	}
	else if(document.getElementById("EventTrigger").selectedIndex == 6) // Switch OFF
	 {
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionSwitch").options[document.getElementById("ActionSwitch").selectedIndex].value;
		AlertPrefs['alertaction_value'] =    0;
		
		
		
	}
	else if(document.getElementById("EventTrigger").selectedIndex == 7) // LED Dimmer
	 {
	 
	 	var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//if(actiondimmer.search("/M2M/LED Dimmer/Value") == -1)
		//{
		//		alert("Need to select a LED Dimmer instance from DIMMER dropdown");
		//		return;
		//}
	 
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		AlertPrefs['alertaction_value'] =    document.getElementById("LEDdimmer").value;
		//AlertPrefs['alertdefault_value'] =    document.getElementById("LEDdimmer").value;
		//AlertPrefs['alertdefault_value'] =    0;
		
		if(document.getElementById("LEDdimmerDefault").value < 101)
			AlertPrefs['alertdefault_value'] = document.getElementById("LEDdimmerDefault").value;
		else
			AlertPrefs['alertdefault_value'] = 255;
		
		
	}
	else if(document.getElementById("EventTrigger").selectedIndex == 11) // LED Dimmer Override
	 {
	 
	 	var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//if(actiondimmer.search("/M2M/LED Dimmer/Value") == -1)
		//{
		//		alert("Need to select a LED Dimmer instance from DIMMER dropdown");
		//		return;
		//}
	 
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//AlertPrefs['alertaction_value'] =    document.getElementById("LEDdimmer").value;
		
		AlertPrefs['alertaction_value'] =   document.getElementById("LEDdimmer").selectedIndex;
		
		if(document.getElementById("LEDdimmerDefault").value < 101)
			AlertPrefs['alertdefault_value'] = document.getElementById("LEDdimmerDefault").value;
		else
			AlertPrefs['alertdefault_value'] = 255;
		
	}
	
	 else if(document.getElementById("EventTrigger").selectedIndex == 8) // RGB Dimmer
	 {
		
		var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//if(actiondimmer.search("/M2M/RGB Dimmer/Value 3 Zone") == -1)
		//{
		//		alert("Need to select a RGB Color instance from DIMMER dropdown");
		//		return;
		//}
		
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//AlertPrefs['alertaction_value'] =   Math.floor(RGBcolor);
		
		
		//AlertPrefs['alertaction_value'] =   document.getElementById("LEDcolorDD").selectedIndex;
		
		if( document.getElementById("LEDcolorDD").selectedIndex < 101)
		{
			AlertPrefs['alertaction_value'] =  rgbAlertColorIndex[ document.getElementById("LEDcolorDD").selectedIndex];
			//AlertPrefs['alertaction_value'] =  document.getElementById("LEDcolorDD").selectedIndex;
		}
		else
			AlertPrefs['alertaction_value'] =  "---"
		
		
		if( document.getElementById("LEDDefaultcolorDD").selectedIndex < 101)
		{
			AlertPrefs['alertdefault_value'] = rgbAlertColorIndex[ document.getElementById("LEDDefaultcolorDD").selectedIndex];
			//AlertPrefs['alertdefault_value'] = document.getElementById("LEDDefaultcolorDD").selectedIndex;
		}
		else
			AlertPrefs['alertdefault_value'] =  255;


		
		
		
	}
	 else if(document.getElementById("EventTrigger").selectedIndex == 9 || document.getElementById("EventTrigger").selectedIndex == 10) // blink Dimmer
	 {

		
		var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		if(actiondimmer.search("Dimmer/Value 4 Zone") == -1)
		{
				alert("Need to select a Control instance from DIMMER dropdown");
				return;
		}
		
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
	
		var flash = document.getElementById("DimmerFlash").selectedIndex;
		flash =  (flash & 0x0F);

		var duty = document.getElementById("DimmerDuty").selectedIndex;
		duty =  ((duty << 4) & 0xF0);
		
		AlertPrefs['alertaction_value'] =   duty | flash;
		
	}
	else
	{
		AlertPrefs['alertaction_pgn'] = "none"
		AlertPrefs['alertaction_value'] =   "---";
	}
	
      AlertPrefs['url'] = ""; 
 
  // get current AlertID from preference dropdown    
  AlertPrefs['AlertId'] = prefkey; 
  
	 if(AlertPrefs['EventTypeId'] == "/Position")
	 {
		  series_prefs1['title']="/Position";
		  series_prefs1['alarmtype']='sensor'; 
		  series_prefs1['units']=16;
		  
		  
		 // series_prefs1['alarmlow']=document.getElementById("EventMin").value;
		 // series_prefs1['alarmhigh']=document.getElementById("EventMax").value;
		 series_prefs1['alarmlow']="off";
		 series_prefs1['alarmhigh']="off";
		 
		  	if(document.getElementById("GeoReportRange").selectedIndex == 0){
				series_prefs1['alarmhigh']= gAlertRadius;
				series_prefs1['alarmlow']= "off"
			}
			else if(document.getElementById("GeoReportRange").selectedIndex == 1){
				series_prefs1['alarmlow']= gAlertRadius;
				series_prefs1['alarmhigh']= "off"
			}
		  
		  
		  
		  series_prefs1['alarmmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;		  
		  series_prefs1['lat']=gAlertLatitude;
		  series_prefs1['lng']=gAlertLongitude;
		  
		

		  myserieskey = "deviceid:" + AlertPrefs['deviceid'] ;
		  myserieskey = myserieskey  + ".sensor:position_rapid" ;
		  myserieskey = myserieskey  + ".source:" + document.getElementById("PGNTypeSource").options[document.getElementById("PGNTypeSource").selectedIndex].value;
		  myserieskey = myserieskey  + ".instance:0" ;
		  myserieskey = myserieskey  + ".type:NULL" ;
		  myserieskey = myserieskey  + ".parameter:latlng" ;
		  myserieskey = myserieskey  + ".HelmSmart";

		  series_prefs1['key']=myserieskey;

		  AlertPrefs['series_1']=series_prefs1;
		  
		  /*
		  series_prefs2['title']="/Position";
		  series_prefs2['alarmtype']='sensor'; 
		  series_prefs2['units']=16 ;
		  series_prefs2['alarmhigh']="off";
		  series_prefs2['alarmlow']="off";

		  myserieskey = "deviceid:" + AlertPrefs['deviceid'] ;
		  myserieskey = myserieskey  + ".sensor:position_rapid" ;
		  myserieskey = myserieskey  + ".source:" + document.getElementById("PGNTypeSource").options[document.getElementById("PGNTypeSource").selectedIndex].value;
		  myserieskey = myserieskey  + ".instance:0" ;
		  myserieskey = myserieskey  + ".type:NULL" ;
		  myserieskey = myserieskey  + ".parameter:lng" ;
		  myserieskey = myserieskey  + ".HelmSmart";

		  series_prefs2['key']=myserieskey;

		  AlertPrefs['series_2']=series_prefs2;
		  */
		  
	  }

      else
      {
	  	  series_prefs3['title']=AlertPrefs['EventTypeId'];
		  series_prefs3['alarmtype']='sensor'; 
		  series_prefs3['units']=document.getElementById("EventUnits").options[document.getElementById("EventUnits").selectedIndex].value; ;
		  series_prefs3['alarmlow']=document.getElementById("EventMin").value;
		  series_prefs3['alarmhigh']=document.getElementById("EventMax").value;
		  ConstructPGNTypeID(gDeviceKey,0);
		  series_prefs3['key']=DialPGNNumber[0];
		  series_prefs3['alarmmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;
		  //series_prefs3['alarmtype'] = document.getElementById("EventTriggerType").options[document.getElementById("EventTriggerType").selectedIndex].value;
		  AlertPrefs['series_1']=series_prefs3;
      }


  
 
   $.blockUI({ 
     message: '<h1>Updating Alert Event...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } });      
      
   // var  myDeviceKey = document.getElementById("DeviceKey").value;
      var  myDeviceKey = gDeviceKey;
  // devicedataurl = "http://pushsmartdata.herokuapp.com/prefs?type=update_alert&prefkey=" + prefkey + "&userid=" + myuserid + "&deviceid=" +  myuserid + "&start=" +  StartEpoch+ "&end=" +  EndEpoch + "&interval=" +  myInterval + "&options=" + JSON.stringify(AlertPrefs);
   //devicedataurl = "http://pushsmartdata.herokuapp.com/prefs?type=update_alert&prefkey=" + prefkey + "&userid=" + gUserID + "&deviceid=" +  myDeviceKey + "&start=0" +  "&end=0" +   "&interval=" +  myInterval  + "&repeat=0" + "&options=" + JSON.stringify(AlertPrefs);
   devicedataurl = "http://pushsmartdata.herokuapp.com/prefs?type=update_alert&prefkey=" + prefkey + "&userid=" + gUserID + "&deviceid=" +  gUserID + "&start=0" +  "&end=0" +   "&interval=" +  myInterval  + "&repeat=0" + "&options=" + JSON.stringify(AlertPrefs);



      return $.ajax({
      //async: false,
      cache: false,
      url: devicedataurl,
      dataType: "json",
      timeout: 30000,
      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleUpdateAlert(response)
      },
      complete: function() {
      // unblock when remote call returns
      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
      //   ShowGraphSmartChart(gindex);
      //$.unblockUI();
      },
      error: function(request,status,errorThrown) {
      document.getElementById("SearchStatus").innerHTML = "Pref Update Error";

      $.unblockUI();
      }
      });


}

function AddLogAlert()
      {
      var myStartTimeStr;
      var myEndTimeStr;
      var myStartDays;
      var myStartSecs;
      var myEndDays;
      var myEndSecs;

      var myInterval;
	  var mytriggervalue;

      //Can't update prefs if we don't have one
      // if(AlertID == 0)
      //  return;
	 if(gDeviceKey == "" || gDeviceKey =="000000000000")
	{
		alert('No Device selected');
		return;
	}
	
	
	  
	  
	  
	 var myCity = document.getElementById("LocationCity").options[document.getElementById("LocationCity").selectedIndex].value
	 
	 if(document.getElementById("EventTriggerType").selectedIndex == 8 || document.getElementById("EventTriggerType").selectedIndex == 9)
	{
		document.getElementById("EventMax").value = myCity;
		document.getElementById("EventMin").value = myCity;
	}
	else if(document.getElementById("EventTriggerType").selectedIndex == 10 || document.getElementById("EventTriggerType").selectedIndex == 11)
	{
		//document.getElementById("EventMax").value = myCity;
		document.getElementById("EventMin").value = myCity;
	}
	else if(document.getElementById("EventTriggerType").selectedIndex == 12 || document.getElementById("EventTriggerType").selectedIndex == 13)
	{
		document.getElementById("EventMax").value = myCity;
		//document.getElementById("EventMin").value = myCity;
	}
	else
	{
	/*
	if(myCity != "latlng")
	{
		document.getElementById("EventMax").value = myCity;
		document.getElementById("EventMin").value = myCity;
	}
	else
	{
		document.getElementById("EventMax").value = 'enter lat';
		document.getElementById("EventMin").value = 'enter lng';
	
	}
	*/
	 
		 if(document.getElementById("EventMax").value != "off")
		  {
			mytriggervalue = document.getElementById("EventMax").value;
			if(parseInt(mytriggervalue,10) == NaN)
			{
				alert('Need to enter a Max Integer value or off');
				document.getElementById("EventMax").value = "off"
				return;
			}
		  }
		  
		   if(document.getElementById("EventMin").value != "off")
		  {
			mytriggervalue = document.getElementById("EventMin").value;
			if(parseInt(mytriggervalue,10) == NaN)
			{
				alert('Need to enter a Min Integer value or off');
				document.getElementById("EventMin").value = "off"
				return;
			}
		  }
	}

  // set these to zero so the events do not expire
   // EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
    EndEpoch = 0;
	StartEpoch =0;
	
	var alertcolor;
	var alertdimmer;

      var devicedataurl;
      var optionmenuindex;
      var prefkey;
      var prefName;
      var AlertPrefs={};
      var PrefsToAdd = {};
      var AlertPrefs={};
      var PrefsToAdd = {};
      var series_prefs1 = {};
      var series_prefs2 = {};
      var series_prefs3 = {};


      //DialID.length = 3;
      //myNumOfSeries = DialID.length;

      AlertPrefs['posttype'] = "EmailAlertPost";
      // AlertPrefs['login'] = document.getElementById("BoardLogin").value;
      // AlertPrefs['boardname'] = document.getElementById("BoardName").options[document.getElementById("BoardName").selectedIndex].text;
      // AlertPrefs['boardid'] = document.getElementById("BoardName").options[document.getElementById("BoardName").selectedIndex].value;
      // AlertPrefs['channelname'] = document.getElementById("ChannelName").options[document.getElementById("ChannelName").selectedIndex].text;
      // AlertPrefs['channelid'] = document.getElementById("ChannelName").options[document.getElementById("ChannelName").selectedIndex].value;
   
 	var myText = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].text;
	var myTags = myText.split(":");
	
	  gDeviceName = myTags[1];
	  gDeviceKey = myTags[0];

	AlertPrefs['devicename'] = gDeviceName;
      AlertPrefs['deviceid'] = gDeviceKey;
	  //AlertPrefs['email'] = document.getElementById("EmailAddress").value;
	  //AlertPrefs['smsnumber'] = document.getElementById("SMSNumber").value;
  	  AlertPrefs['email'] = "";
	  AlertPrefs['smsnumber'] = "";
  
      if(document.getElementById("EventName").value == "")
      {
      alert('Need to enter a board name');
      return;
      }

      AlertPrefs['subject'] = document.getElementById("EventName").value;
      AlertPrefs['Interval'] = document.getElementById("EventInterval").options[document.getElementById("EventInterval").selectedIndex].text;
	  
	  AlertPrefs['alertduration'] = document.getElementById("EventDuration").options[document.getElementById("EventDuration").selectedIndex].text;
	  AlertPrefs['alertoffset'] = document.getElementById("EventOffset").options[document.getElementById("EventOffset").selectedIndex].text;
	  AlertPrefs['alertenabled'] = document.getElementById("EventEnabled").options[document.getElementById("EventEnabled").selectedIndex].text;
	  
	  AlertPrefs['remotemode'] = document.getElementById("EventRemoteMode").options[document.getElementById("EventRemoteMode").selectedIndex].value;
	  
	     AlertPrefs['locationcity'] = myCity;
	    AlertPrefs['alerttimezone'] = document.getElementById("AlertTimeZoneId").options[document.getElementById("AlertTimeZoneId").selectedIndex].text;
		
		if( !isNaN(parseInt(document.getElementById("EventMax").value) ))
		{
			var tmLoc = new Date();
			var endsecs = parseInt(document.getElementById("EventMax").value);
			var localenddate = new Date(endsecs * 1000);
			//var utc_timestamp = Date.UTC(localenddate.getUTCFullYear(),localenddate.getUTCMonth(), localenddate.getUTCDate() , localenddate.getUTCHours(), localenddate.getUTCMinutes(), localenddate.getUTCSeconds(), localenddate.getUTCMilliseconds());
			var utc_timestamp = Math.floor((localenddate.getTime()/1000) );
			//var utc_timestamp =  Math.floor((localenddate.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);
			AlertPrefs['alertendtime_utc'] = 	utc_timestamp;	
		}
		else
		{
					var tmLoc = new Date();
					//var EndEpoch =  Math.floor((tmLoc.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);
					AlertPrefs['alertendtime_utc']  =  Math.floor((tmLoc.getTime()/1000) );
		}


			
		
	  AlertPrefs['alertmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;
	 AlertPrefs['alerttype'] = document.getElementById("EventTriggerType").options[document.getElementById("EventTriggerType").selectedIndex].value;
	 
	 //alertcolor = document.getElementById("LEDcolor").value;
	 alertcolor = document.getElementById("LEDcolorDD").selectedIndex;
	//alertcolor = 0;
	 
	 /*
	 var dimmercolor = parseInt(alertcolor, 16);
		
	var REDcolor = (dimmercolor & 0xFF0000) >> 16;
		//REDcolor = REDcolor * 0.390625;  // 100/256	
	REDcolor = REDcolor * 0.996;  // 255/256	

		
	var GREENcolor = (dimmercolor & 0x00FF00) >> 8;
	GREENcolor = GREENcolor * 0.996;  // 255/256		
		
	var BLUEcolor = (dimmercolor & 0x0000FF);
	BLUEcolor = BLUEcolor * 0.996;  // 255/256	
		

	var RGBcolor = ((REDcolor / 32) << 5) + ((GREENcolor / 32) << 2) + (BLUEcolor / 64);	
	*/


	if(document.getElementById("EventTrigger").selectedIndex == 5) // Switch ON
	 {
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionSwitch").options[document.getElementById("ActionSwitch").selectedIndex].value;
		AlertPrefs['alertaction_value'] =    1;
	}
	else if(document.getElementById("EventTrigger").selectedIndex == 6) // Switch OFF
	 {
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionSwitch").options[document.getElementById("ActionSwitch").selectedIndex].value;
		AlertPrefs['alertaction_value'] =    0;
	}
	else if(document.getElementById("EventTrigger").selectedIndex == 7) // LED Dimmer
	 {
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//AlertPrefs['alertaction_value'] =    document.getElementById("LEDdimmer").value;
		
		//AlertPrefs['alertaction_value'] =   document.getElementById("LEDcolorDD").selectedIndex;
		AlertPrefs['alertaction_value'] =    document.getElementById("LEDdimmer").value;
		//AlertPrefs['alertdefault_value'] =    0;
	
		if(document.getElementById("LEDdimmerDefault").value < 101)
			AlertPrefs['alertdefault_value'] = document.getElementById("LEDdimmerDefault").value;
		else
			AlertPrefs['alertdefault_value'] = 255;
		
		
		var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//if(actiondimmer.search("/M2M/LED Dimmer/Value") == -1)
		//{
		//		//alert("Need to select a LED Dimmer instance from DIMMER dropdown");
		//		//return;
		//}
		
		
	}
	else if(document.getElementById("EventTrigger").selectedIndex == 11) // LED Dimmer Override
	 {
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		AlertPrefs['alertaction_value'] =    document.getElementById("LEDdimmer").value;
		AlertPrefs['alertdefault_value'] = document.getElementById("LEDdimmerDefault").value;
				var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//if(actiondimmer.search("/M2M/LED Dimmer/Value") == -1)
		//{
		//		//alert("Need to select a LED Dimmer instance from DIMMER dropdown");
		//		//return;
		//}
		
		
	}
	 else if(document.getElementById("EventTrigger").selectedIndex == 8) // RGB Dimmer
	 {
	 
	// series_prefs3['alarmmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;
	 //				<option value="/M2M/RGB Dimmer/Value 3 Zone 0">RGB Dimmer - Zone0 - Color</option>
	//			<option value="/M2M/RGB Dimmer/Value 4 Zone 0">RGB Dimmer - Zone0 - Control</option>
		var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		
		/*
		if(actiondimmer.search("/M2M/RGB Dimmer/Value 3 Zone") == -1)
		{
				alert("Need to select a RGB Color instance from DIMMER dropdown");
				return;
		}
		*/
	 
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		//AlertPrefs['alertaction_value'] =   Math.floor(RGBcolor);
		if( document.getElementById("LEDcolorDD").selectedIndex < 101)
		{
			AlertPrefs['alertaction_value'] =  rgbAlertColorIndex[ document.getElementById("LEDcolorDD").selectedIndex];
			//AlertPrefs['alertaction_value'] =  document.getElementById("LEDcolorDD").selectedIndex;
		}
		else
			AlertPrefs['alertaction_value'] =  "---"
		
		
		if( document.getElementById("LEDDefaultcolorDD").selectedIndex < 101)
		{
			AlertPrefs['alertdefault_value'] = rgbAlertColorIndex[document.getElementById("LEDDefaultcolorDD").selectedIndex];
			//AlertPrefs['alertdefault_value'] = document.getElementById("LEDDefaultcolorDD").selectedIndex;
		}
		else
			AlertPrefs['alertdefault_value'] =  255;

		//AlertPrefs['alertdefault_value'] = document.getElementById("LEDDefaultcolorDD").selectedIndex;
		
	}
	 else if(document.getElementById("EventTrigger").selectedIndex == 9 || document.getElementById("EventTrigger").selectedIndex == 10) // blink Dimmer
	 {
	 
	 	var actiondimmer = document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;
		if(actiondimmer.search("Dimmer/Value 4 Zone") == -1)
		{
				alert("Need to select a Control instance from DIMMER dropdown");
				return;
		}
	 
		AlertPrefs['alertaction_pgn'] =    document.getElementById("ActionDimmer").options[document.getElementById("ActionDimmer").selectedIndex].value;

		var flash = document.getElementById("DimmerFlash").selectedIndex;
		flash =  (flash & 0x0F);

		var duty = document.getElementById("DimmerDuty").selectedIndex;
		duty =  ((duty << 4) & 0xF0);
		
		AlertPrefs['alertaction_value'] =   duty | flash;
		AlertPrefs['alertdefault_value'] = 0xFF;
		
	}
	else
	{
		AlertPrefs['alertaction_pgn'] = "none"
		AlertPrefs['alertaction_value'] =   "---";
	}
	  //myInterval = parseInt(document.getElementById("EventInterval").value);
      //myInterval = parseInt(document.getElementById("EventInterval").selectedIndex);
	  myInterval = parseInt(document.getElementById("EventInterval").value);
      AlertPrefs['AlertId'] = 0;
	  AlertPrefs['alertdefault_value'] = 0xFF;

      //AlertPrefs['prefname'] = document.getElementById("EventName").value + "Upload";
      //AlertPrefs['Interval'] = document.getElementById("EventInterval").options[document.getElementById("EventInterval").selectedIndex].text;
      //myInterval = parseInt(document.getElementById("EventInterval").selectedIndex);
     // AlertPrefs['blwskey'] = gBLWSKey;
      AlertPrefs['EventTypeId'] = document.getElementById("PGNTypeID").options[document.getElementById("PGNTypeID").selectedIndex].value;
    //  AlertPrefs['EventKey'] = 0;


      AlertPrefs['url'] = "";


      //AlertPrefs['AlertId'] = parseInt(AlertID);
	 if(AlertPrefs['EventTypeId'] == "/Position")
	 {
		  series_prefs1['title']="/Position";
		  series_prefs1['alarmtype']='sensor'; 
		  series_prefs1['units']=16;
			 // series_prefs1['alarmlow']=document.getElementById("EventMin").value;
		 // series_prefs1['alarmhigh']=document.getElementById("EventMax").value;
		 series_prefs1['alarmlow']="off";
		 series_prefs1['alarmhigh']="off";
		 
		  	if(document.getElementById("GeoReportRange").selectedIndex == 0){
				series_prefs1['alarmhigh']= gAlertRadius;
				series_prefs1['alarmlow']= "off"
			}
			else if(document.getElementById("GeoReportRange").selectedIndex == 1){
				series_prefs1['alarmlow']= gAlertRadius;
				series_prefs1['alarmhigh']= "off"
			}		  
		  
		  
		  
		  
		  series_prefs1['alarmmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;
		//series_prefs1['alarmtype'] = document.getElementById("EventTriggerType").options[document.getElementById("EventTriggerType").selectedIndex].value;


		series_prefs1['lat']=gAlertLatitude;
		  series_prefs1['lng']=gAlertLongitude;

		  

		  
		  
		  myserieskey = "deviceid:" + AlertPrefs['deviceid'] ;
		  myserieskey = myserieskey  + ".sensor:position_rapid" ;
		  myserieskey = myserieskey  + ".source:" + document.getElementById("PGNTypeSource").options[document.getElementById("PGNTypeSource").selectedIndex].value;
		  myserieskey = myserieskey  + ".instance:0" ;
		  myserieskey = myserieskey  + ".type:NULL" ;
		  myserieskey = myserieskey  + ".parameter:latlng" ;
		  myserieskey = myserieskey  + ".HelmSmart";

		  series_prefs1['key']=myserieskey;

		  AlertPrefs['series_1']=series_prefs1;
		  
/*		  
		  
		  series_prefs2['title']="/Position";
		  series_prefs2['alarmtype']='sensor'; 
		  series_prefs2['units']=16 ;
		  series_prefs2['alarmhigh']="off";
		  series_prefs2['alarmlow']="off";

		  myserieskey = "deviceid:" + AlertPrefs['deviceid'] ;
		  myserieskey = myserieskey  + ".sensor:position_rapid" ;
		  myserieskey = myserieskey  + ".source:" + document.getElementById("PGNTypeSource").options[document.getElementById("PGNTypeSource").selectedIndex].value;
		  myserieskey = myserieskey  + ".instance:0" ;
		  myserieskey = myserieskey  + ".type:NULL" ;
		  myserieskey = myserieskey  + ".parameter:lng" ;
		  myserieskey = myserieskey  + ".HelmSmart";

		  series_prefs2['key']=myserieskey;

		  AlertPrefs['series_2']=series_prefs2;
		  
		  */
	  }

      else
      {
		  series_prefs3['title']=AlertPrefs['EventTypeId'];
		  series_prefs3['alarmtype']='sensor'; 
		  series_prefs3['units']=document.getElementById("EventUnits").options[document.getElementById("EventUnits").selectedIndex].value; ;
		  series_prefs3['alarmlow']=document.getElementById("EventMin").value;
		  series_prefs3['alarmhigh']=document.getElementById("EventMax").value;
		  ConstructPGNTypeID(gDeviceKey,0);
		  series_prefs3['key']=DialPGNNumber[0];
		  series_prefs3['alarmmode'] = document.getElementById("EventTrigger").options[document.getElementById("EventTrigger").selectedIndex].value;
		  //series_prefs3['alarmtype'] = document.getElementById("EventTriggerType").options[document.getElementById("EventTriggerType").selectedIndex].value;
		  AlertPrefs['series_1']=series_prefs3;
      }


      $.blockUI({
      message: '<h1>Adding Alert Event ...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } });    
     
  //var  myDeviceKey = document.getElementById("DeviceKey").value;
  var  myDeviceKey = gDeviceKey;
	
	
  //devicedataurl = "http://pushsmartdata.herokuapp.com/prefs?type=add_alert&userid=" + gUserID + "&deviceid=" +  myDeviceKey + "&start=" +  StartEpoch+ "&end=" +  EndEpoch + "&interval=" +  myInterval + "&repeat=0"  + "&options=" + JSON.stringify(AlertPrefs);
  devicedataurl = "http://pushsmartdata.herokuapp.com/prefs?type=add_alert&userid=" + gUserID + "&deviceid=" +  gUserID + "&start=" +  StartEpoch+ "&end=" +  EndEpoch + "&interval=" +  myInterval + "&repeat=0"  + "&options=" + JSON.stringify(AlertPrefs);



          return $.ajax({
          //async: false,
          cache: false,
          url: devicedataurl,
          dataType: "json",
          timeout: 30000,
          statusCode: {
          404: function() {      alert( "page not found" );    },
          200: function() {      }
          },
          success: function(response) {
          handleAddLogAlert(response)
          },
          complete: function() {
          // unblock when remote call returns
          // document.getElementById("SearchStatus").innerHTML = "Search Complete";
          //   ShowGraphSmartChart(gindex);
          //$.unblockUI();
          },
          error: function(request,status,errorThrown) {
          document.getElementById("SearchStatus").innerHTML = "Pref Update Error";

          $.unblockUI();
          }
          });


}

function DisableTimmer()
{
	document.getElementById("LEDdimmer").value = 255;
	document.getElementById('LEDdimmervalue').value = 255;
	
	document.getElementById("LEDdimmerDefault").value = 255;
	document.getElementById('LEDdimmerDefaultvalue').value = 255;
	gDimmerValue = 255;
 
}

function DeleteAlert()
 {


    
    //Can't update prefs if we don't have one
    if(document.getElementById("EventsID").length == 0)
       return;





        $.blockUI({ 
     message: '<h1>Deleting Event...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	var optionmenuindex;
	var prefkey;
	var prefName;
  var AlertPrefs={};

   optionmenuindex = document.getElementById("EventsID").selectedIndex;
   prefkey = parseInt(document.getElementById("EventsID").options[optionmenuindex].value);
   

  
  devicedataurl = "http://pushsmartdata.herokuapp.com/prefs?type=delete_alert&prefkey=" + prefkey + "&userid=" + gUserID ;



          return $.ajax({
          //async: false,
          cache: false,
          url: devicedataurl,
          dataType: "json",
          timeout: 30000,
          statusCode: {
          404: function() {      alert( "page not found" );    },
          200: function() {      }
          },
          success: function(response) {
          handleDeleteAlert(response)
          },
          complete: function() {
          // unblock when remote call returns
          // document.getElementById("SearchStatus").innerHTML = "Search Complete";
          //   ShowGraphSmartChart(gindex);
          //$.unblockUI();
          },
          error: function(request,status,errorThrown) {
          document.getElementById("SearchStatus").innerHTML = "Pref Update Error";

          $.unblockUI();
          }
          });


  }
  
 function GetAlertEvents()
 {
 // http://pushsmartdata.herokuapp.com/getuser?gettype=AlertIDs&userid=a91140300971bfb9244989a9bffde53c&deviceid=a91140300971bfb9244989a9bffde53c&_=1427391221558
 
 /*
	if(gDeviceID == "")
	{
		alert('No Device ID entered');
		return;
	}
 */
 
 
     $.blockUI({
    message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
	//var  myDeviceKey = document.getElementById("DeviceKey").value;
	var  myDeviceKey = gDeviceKey;
	
  // devicedataurl = "http://pushsmartdata.herokuapp.com/getuser?gettype=AlertIDs&userid=" + userid + "&deviceid=" + AccountDataFolder;
  // devicedataurl = "http://pushsmartdata.herokuapp.com/getuser?gettype=AlertIDs&userid=" + userid + "&deviceid=" + userid;
 // devicedataurl = "http://pushsmartdata.herokuapp.com/getuser?gettype=AlertIDs&userid=a91140300971bfb9244989a9bffde53c&deviceid=a91140300971bfb9244989a9bffde53c";
  //devicedataurl = "http://pushsmartdata.herokuapp.com/getuser?gettype=AlertIDs&userid=" + gUserID + "&deviceid=" + myDeviceKey;
  devicedataurl = "http://pushsmartdata.herokuapp.com/getuser?gettype=AlertIDs&userid=" + gUserID + "&deviceid=" + gUserID;
	
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 30000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleGetAlertIDs(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                       //   document.getElementById("SearchStatus").innerHTML = "Search Error";
		               		$.unblockUI();   
		            	} 
		 		  });
 
 
 
 }
 
 
 function GetSeriesAttributes(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
  


   
   
   	  var myStartTime = document.getElementById("GeoReportStart").value;
	  // var myStartTime = document.getElementById("GeoReportStartDate").value;
	  
	  if(myStartTime == "")
	  {
			var tmLoc = new Date();
			var EndEpoch =  Math.floor((tmLoc.getTime()/1000) + tmLoc.getTimezoneOffset() * 60);

			var StartEpoch = Math.floor(EndEpoch - 60*60*24*2);
	  
	  }
	  else
	  {
	  
	  
	  var parts = myStartTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
	  //return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  myStartEpoch = myStartEpoch.getTime();
	  
	 var EndEpoch = new Date();
	var StartEpoch = new Date();
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("GeoReportRollup").options[document.getElementById("GeoReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		StartEpoch  = StartEpoch.subMonths(1);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(1);
		}
		
		
	}
	else if(myRollup == "2m")
	{		
		StartEpoch  = StartEpoch.subMonths(2);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(2);
		}
		
	}
	else if(myRollup == "3m")
	{
		StartEpoch  = StartEpoch.subMonths(3);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(3);
		}

	}
	else if(myRollup == "4m")
	{
		StartEpoch  = StartEpoch.subMonths(4);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(4);
		}
	}
	else if(myRollup == "5m")
	{
		StartEpoch  = StartEpoch.subMonths(5);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(5);
		}

	}
	else if(myRollup == "6m")
	{
		StartEpoch  = StartEpoch.subMonths(6);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(6);
		}

	}
	else
	{
		//var EndEpoch = new Date();
	
	   // StartEpoch  = EndEpoch - (myRollup*60*1000);
		StartEpoch.setSeconds(StartEpoch.getSeconds() - (myRollup*60));
		
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch.setSeconds(EndEpoch.getSeconds() + (myRollup*60));
		}
	}
	
	var now = new Date();
	if(EndEpoch > now)
		EndEpoch = now;
	
	EndEpoch = Math.floor(EndEpoch.getTime()/1000);
	StartEpoch  = Math.floor(StartEpoch.getTime()/1000);
   }
   
   

   var DeviceID =  document.getElementById("DeviceKey").value;
   //devicedataurl = "http://pushsmartdata.herokuapp.com/get_influxdb_series?&deviceid=" + DeviceID+ "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch ;
   //devicedataurl = "http://pushsmartdata.herokuapp.com/get_influxdb_series?&deviceid=" + DeviceID+ "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch ;
   devicedataurl = "http://pushsmartdata.herokuapp.com/get_influxdbcloud_series?&deviceid=" + DeviceID+ "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch ;

             return $.ajax({
             //async: false,
             cache: false,
             url: devicedataurl,
             dataType: "json",
             timeout: 30000,
             statusCode: {
             404: function() {      alert( "page not found" );    },
             200: function() {      }
             },
             success: function(response) {
             handleGetSeriesAttributes(response)
             },
             complete: function() {
             // unblock when remote call returns
             // document.getElementById("SearchStatus").innerHTML = "Search Complete";

             //$.unblockUI();
             },
             error: function(request,status,errorThrown) {
             document.getElementById("SearchStatus").innerHTML = "Data Series List Search Error";
             $.unblockUI();
             }
             });


 }
  
 function RegisterDevice()
{

     $.blockUI({ 
     message: '<h1>Register Device...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  
	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

      var publictoken = "{{publictoken}}";
      myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

      myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "http://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


      devicedataurl = "http://pushsmartdata.herokuapp.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;


      // devicedataurl =  devicedataurl  + "&blwskey=" + document.getElementById("BLWSKeyInput").value ;
   // devicedataurl =  devicedataurl  + "&datapaneid=" + myuserKey ;


      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 30000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleRegisterDevice(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


} 

 function GetReport()
{

    // var myEventType = document.getElementById("ReportsID").options[document.getElementById("ReportsID").selectedIndex].value
	 var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	 var myEventType = myEventTag[myEventIndex];
	 
	 
	 
	 if(myEventType == "None")
	 {
		 alert('No Event selected');
		 return;
	 
	 }


     $.blockUI({ 
     message: '<h1>Getting Report...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("ReportRollup").options[document.getElementById("ReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(1);
	}
	else if(myRollup == "2m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(2);
	}
	else if(myRollup == "3m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(3);
	}
	else if(myRollup == "4m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(4);
	}
	else if(myRollup == "5m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(5);
	}
	else if(myRollup == "6m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(6);
	}
	else
	{
		var EndEpoch = new Date();
	
		var StartEpoch  = EndEpoch - (myRollup*60*1000);
	}
	
	EndEpoch = Math.floor(EndEpoch/1000);
	StartEpoch  = Math.floor(StartEpoch/1000);
	

	
	

	
	var myInterval = parseInt(document.getElementById("ReportInterval").options[document.getElementById("ReportInterval").selectedIndex].value) * 60;
	// EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
	//    StartEpoch = StartEpoch - (mytimeZoneOffset  * 60 );
  //StartEpoch = StartEpoch - 1262304000;
  
    //EndEpoch = EndEpoch - (mytimeZoneOffset  * 60 );
  //EndEpoch = EndEpoch -  1262304000;	


	


	var mySeriesKey =  makePGNfromEvent(myEventType, "*");
	  
	  
	  
	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

      var publictoken = "{{publictoken}}";
      myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

      myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "http://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


   //   devicedataurl = "http://pushsmartdata.herokuapp.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;

    //  devicedataurl = "http://pushsmartdata.herokuapp.com/getseriesstatsbykey?devicekey=cace5b1ef7f39af021e9428cef3a6f54&serieskey=sensor:environmental_data.source:0F.instance:0.type:Outside Temperature.parameter:temperature.HelmSmart&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";
 
  //   devicedataurl = "http://pushsmartdata.herokuapp.com/getseriesstatsbykey?devicekey=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";

    devicedataurl = "http://pushsmartdata.herokuapp.com/getseriesstatsbydeviceid_idc?deviceid=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch + "&resolution=" + myInterval + "&format=json";

 // devicedataurl =  devicedataurl  + "&blwskey=" + document.getElementById("BLWSKeyInput").value ;
   // devicedataurl =  devicedataurl  + "&datapaneid=" + myuserKey ;


      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 30000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleGetReport(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


} 
function SetGeoRadius()
{

if(geoRadius != null)
{
	var radius = geoRadius.getRadius();
	var center = geoRadius.getCenter();
	gAlertLatitude = geoRadius.getCenter().lat();
	gAlertLongitude = geoRadius.getCenter().lng();
	
	gAlertRadius = parseInt(radius);
	
	for(i=0; i< myEventTag.length; i++)
	{
	
		if(myEventTag[i].trim() == "/Position")
		{
		
				 if(document.getElementById("GeoReportRange").selectedIndex == 0){
				myEventMax[i]= parseInt(gAlertRadius);
				myEventMin[i]= "off"
			}
			else if(document.getElementById("GeoReportRange").selectedIndex == 1){
				myEventMin[i]= parseInt(gAlertRadius);
				myEventMax[i]= "off"
			}	
			document.getElementById("EventsID").selectedIndex = i;
			SetEventsOptions(i)
			
			}
	}
	
	
	
	
	
}


}

function ResetGeoRadius()
{
/*
		var circleParms = {
		strokeColor: '#FF0000',
		strokeOpacity: 0.8,
		strokeWeight: 2,
		fillColor: '#FF0000',
		fillOpacity: 0.35,
		map: '',
		center: 0,
		radius: 0
	};
*/
		setAllMap(null);
		
		google.maps.event.clearListeners(alarmmap, 'click');

		//markers = [];
		
		galarmmarker.setMap(null);
		
		if(geoRadius != null)
		{
			geoRadius.setMap(null);
			geoRadius = null;
			
		}
		
		myLatlng = new google.maps.LatLng(gLatitude, gLongitude);		
		galarmmarker = new google.maps.Marker({    position: myLatlng,   map: alarmmap,  title:"SeaSmart"});

		google.maps.event.addListener(galarmmarker, "click", function (event) {
		var latitude = event.latLng.lat();
		var longitude = event.latLng.lng();
		//console.log( latitude + ', ' + longitude );

		if(geoRadius != null)
		{
			geoRadius.setMap(null);
			geoRadius = null;
			
		}
		
		gAlertRadius = 1000;
		
		geoRadius = new google.maps.Circle({map: alarmmap,
			//radius: parseInt(document.getElementById("GeoReportRange").options[document.getElementById("GeoReportRange").selectedIndex].value) ,
			radius: gAlertRadius,
			center: event.latLng,
			fillColor: '#777',
			fillOpacity: 0.31,
			strokeColor: '#AA0000',
			strokeOpacity: 0.8,
			strokeWeight: 2,
			draggable: true,    // Dragable
			editable: true      // Resizable
		});

		// Center of map
		//map.panTo(new google.maps.LatLng(latitude,longitude));

	}); //end addListener

	
	galarmmarker.setMap(alarmmap);

}


  
function GetGeoReport()
{

    // var myEventType = document.getElementById("ReportsID").options[document.getElementById("ReportsID").selectedIndex].value
	// var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	// var myEventType = myEventTag[myEventIndex];
	 
	 
	 
	// if(myEventType == "None")
	// {
	//	 alert('No Event selected');
	//	 return;
	 
	// }


     $.blockUI({ 
     message: '<h1>Getting Geo Report...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  //"2015-03-27 00:00"
	  var myStartTime = document.getElementById("GeoReportStart").value;
	  
	  var parts = myStartTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
	  //return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  myStartEpoch = myStartEpoch.getTime();
	  
	 var EndEpoch = new Date();
	var StartEpoch = new Date();
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("GeoReportRollup").options[document.getElementById("GeoReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		StartEpoch  = StartEpoch.subMonths(1);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(1);
		}
		
		
	}
	else if(myRollup == "2m")
	{		
		StartEpoch  = StartEpoch.subMonths(2);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(2);
		}
		
	}
	else if(myRollup == "3m")
	{
		StartEpoch  = StartEpoch.subMonths(3);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(3);
		}

	}
	else if(myRollup == "4m")
	{
		StartEpoch  = StartEpoch.subMonths(4);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(4);
		}
	}
	else if(myRollup == "5m")
	{
		StartEpoch  = StartEpoch.subMonths(5);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(5);
		}

	}
	else if(myRollup == "6m")
	{
		StartEpoch  = StartEpoch.subMonths(6);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(6);
		}

	}
	else
	{
		//var EndEpoch = new Date();
	
	   // StartEpoch  = EndEpoch - (myRollup*60*1000);
		StartEpoch.setSeconds(StartEpoch.getSeconds() - (myRollup*60));
		
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch.setSeconds(EndEpoch.getSeconds() + (myRollup*60));
		}
	}
	
	var now = new Date();
	if(EndEpoch > now)
		EndEpoch = now;
	
	EndEpoch = Math.floor(EndEpoch.getTime()/1000);
	StartEpoch  = Math.floor(StartEpoch.getTime()/1000);
	
	
	
	

	
	var myInterval = parseInt(document.getElementById("GeoReportInterval").options[document.getElementById("GeoReportInterval").selectedIndex].value) * 60;
	// EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
	//    StartEpoch = StartEpoch - (mytimeZoneOffset  * 60 );
  //StartEpoch = StartEpoch - 1262304000;
  
    //EndEpoch = EndEpoch - (mytimeZoneOffset  * 60 );
  //EndEpoch = EndEpoch -  1262304000;	


	


//	var mySeriesKey =  makePGNfromEvent(myEventType, "*");
	  
	  
	  
//	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

    //  var publictoken = "{{publictoken}}";
    //  myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

    //  myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "http://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


   //   devicedataurl = "http://pushsmartdata.herokuapp.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;

    //  devicedataurl = "http://pushsmartdata.herokuapp.com/getseriesstatsbykey?devicekey=cace5b1ef7f39af021e9428cef3a6f54&serieskey=sensor:environmental_data.source:0F.instance:0.type:Outside Temperature.parameter:temperature.HelmSmart&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";
 
  //   devicedataurl = "http://pushsmartdata.herokuapp.com/getseriesstatsbykey?devicekey=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";

  //  devicedataurl = "http://pushsmartdata.herokuapp.com/getseriesstatsbydeviceid?deviceid=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch + "&resolution=" + myInterval + "&format=json";

	//GPSSource = "0F";
	//GPSSource = "*";
	GPSSource = document.getElementById("GeoAlarmSource").value;
	var Markerindex = document.getElementById("GeoReportMarker").selectedIndex;
	
	if(Markerindex == 0 || Markerindex == 1)
	{
		devicedataurl = "http://pushsmartdata.herokuapp.com/getgpsseriesbydeviceid?";
		devicedataurl =  devicedataurl + "deviceid=" + myDeviceKey + "&startepoch=" + StartEpoch  + "&endepoch=" + EndEpoch +  "&resolution=" + myInterval;
		devicedataurl =  devicedataurl + "&serieskey1=" + "deviceid:" + myDeviceKey +".sensor:position_rapid.source:" + GPSSource + ".instance:0.type:NULL.parameter:latlng.HelmSmart"; ;
		devicedataurl =  devicedataurl + "&format=json"  ;
		devicedataurl =  devicedataurl + "&max=1000000" ; 
	}
	else if(Markerindex == 3)
	{
		devicedataurl = "http://pushsmartdata.herokuapp.com/getgpsseriesbydeviceid?";
		devicedataurl =  devicedataurl + "deviceid=" + myDeviceKey + "&startepoch=" + StartEpoch  + "&endepoch=" + EndEpoch +  "&resolution=" + myInterval;
		devicedataurl =  devicedataurl + "&serieskey1=" + "deviceid:" + myDeviceKey +".sensor:position_rapid.source:" + GPSSource + ".instance:0.type:NULL.parameter:latlng.HelmSmart"; ;
		devicedataurl =  devicedataurl + "&serieskey2=" + "deviceid:" + myDeviceKey +".sensor:cogsog.source:" + GPSSource + ".instance:0.type:NULL.parameter:speed_over_ground.HelmSmart"; ;
		devicedataurl =  devicedataurl + "&format=json"  ;
		devicedataurl =  devicedataurl + "&max=1000000" ; 
	}
	

      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 30000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleGetGeoReport(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


}   
  
  
  
  
  
  
  
function getDeviceList(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
    devicedataurl = "http://pushsmartdata.herokuapp.com/getuser?gettype=devices&userid=" + userid;

    return $.ajax({
    //async: false,
    cache: false,
    url: devicedataurl,
    dataType: "json",
    timeout: 30000,
    statusCode: {
    404: function() {      alert( "page not found" );    },
    200: function() {      }
    },
    success: function(response) {
    handleGetDeviceData(response)
    },
    complete: function() {
    // unblock when remote call returns
    // document.getElementById("SearchStatus").innerHTML = "Search Complete";
    //   ShowGraphSmartChart(gindex);
    //$.unblockUI();
    },
    error: function(request,status,errorThrown) {
    //document.getElementById("SearchStatus").innerHTML = "Search Error";
    $.unblockUI();
    }
    });


}
function initializeMaps() {
//	$('.form_datetime').datepicker('update', new Date());
	 //"2015-03-27 00:00"
	 var mynow = new Date();
	// var mynowstr = mynow.toString("yyyy-MM-dd HH:mm:ss").replace(/GMT.*/g, "");
	// var mynowstr = mynow.toISOString();
	 var mynowstr = mynow.yyyymmddhhmmss();
	 
	 
	document.getElementById("GeoReportStart").value = mynowstr;
	
	
	for (i = 0; i < myPinColors.length; i++) {
	
		var pinurl = "http://www.googlemapsmarkers.com/v1/" + myPinColors[i] + "/"
		myPins[i] = new google.maps.MarkerImage(pinurl);
	 
	}
	  
		var circleParms = {
		strokeColor: '#FF0000',
		strokeOpacity: 0.8,
		strokeWeight: 2,
		fillColor: '#FF0000',
		fillOpacity: 0.35,
		map: '',
		center: 0,
		radius: 0
	};
	
		geoRadius = new google.maps.Circle({map: map,
			//radius: parseInt(document.getElementById("GeoReportRange").options[document.getElementById("GeoReportRange").selectedIndex].value) ,
			radius: gAlertRadius,
			//center: event.latLng,
			center: new google.maps.LatLng(gAlertLatitude, gAlertLongitude),
			fillColor: '#777',
			fillOpacity: 0.1,
			strokeColor: '#AA0000',
			strokeOpacity: 0.8,
			strokeWeight: 2,
			draggable: true,    // Dragable
			editable: true      // Resizable
		});
	
	
	
	/*
		for (i = 0; i < maps.length; i++) {
			var map = new google.maps.Map(document.getElementById(maps[i].divId), {
				center: maps[i].center,
				zoom: maps[i].zoom,
				mapTypeId: maps[i].mapTypeId,
				disableDefaultUI: maps[i].disableDefaultUI
			});
			circleParms.map = map;
			circleParms.center = maps[i].center;
			circleParms.radius = maps[i].radius;
			circleParms.draggable = false;
			circleParms.editable = false;

			var circle = new google.maps.Circle(circleParms);
			map.fitBounds(circle.getBounds());
			}	
			*/
			//var myLatlng = new google.maps.LatLng(42.05038, -124.26833);
			myLatlng = new google.maps.LatLng(gLatitude, gLongitude);			
			
			var gmapOptions = {
            center: myLatlng,
            zoom: 12,
            mapTypeId: google.maps.MapTypeId.HYBRID };

            map = new google.maps.Map(document.getElementById("map_canvas"),            gmapOptions);
			
			gmarker = new google.maps.Marker({    position: myLatlng,   map: map,  title:"SeaSmart"});
			/*
			circleParms.map = map;
			circleParms.center = myLatlng;
			circleParms.radius = 1000;
			circleParms.draggable = false;
			circleParms.editable = false;

			var circle = new google.maps.Circle(circleParms);
			map.fitBounds(circle.getBounds());
			
	*/
	
		google.maps.event.addListener(gmarker, "click", function (event) {
			var latitude = event.latLng.lat();
			var longitude = event.latLng.lng();
			//console.log( latitude + ', ' + longitude );

			if(geoRadius != null)
			{
				geoRadius.setMap(null);
				geoRadius = null;
				
			}
			else
			{
				geoRadius = new google.maps.Circle({map: map,
					//radius: parseInt(document.getElementById("GeoReportRange").options[document.getElementById("GeoReportRange").selectedIndex].value) ,
					radius: gAlertRadius,
					//center: event.latLng,
					center: new google.maps.LatLng(gAlertLatitude, gAlertLongitude),
					fillColor: '#777',
					fillOpacity: 0.1,
					strokeColor: '#AA0000',
					strokeOpacity: 0.8,
					strokeWeight: 2,
					draggable: true,    // Dragable
					editable: true      // Resizable
				});
				
					google.maps.event.addListener(geoRadius, 'center_changed', function () {
					  //alert(geoRadius.getCenter());
					  SetGeoRadius();
					}); //end addListener
					
					google.maps.event.addListener(geoRadius, 'radius_changed', function () {
					  //alert(geoRadius.getRadius());
					  SetGeoRadius();
					}); //end addListener
					
				// Center of map
				//map.panTo(new google.maps.LatLng(latitude,longitude));
			}
	}); //end addListener
	
	
	
	}  
</script>

</head>
<body>

<div>
  <center>
  {% if session['userid'] %}
     <a href="http://pushsmartdata.herokuapp.com" id="login" class="persona-button">
    <span>HelmSmart: {{session['username']}}</span></a>
  {% else %}
    <a href="http://pushsmartdata.herokuapp.com" id="login" class="persona-button">
      <span>HelmSmart: Guest</span></a>
  {% endif %}
  </center>
</div>




	<div class="container body-content">
		
<!-- Nav tabs -->
<ul class="nav nav-tabs" id="tab" role="tablist">
	<li><a href="#tabMarketing" role="tab" data-toggle="tab">Info</a></li>
	<li><a href="#tabLive" role="tab" data-toggle="tab">Live</a></li>

		<li><a href="#tabBasicSettings" role="tab" data-toggle="tab">Device</a></li>
		<li><a href="#tabEvents" role="tab" data-toggle="tab">Events</a></li>
	<!--	<li><a href="#tabTriggers" role="tab" data-toggle="tab">Triggers</a></li> -->
		<li><a href="#tabGeoFence" role="tab" data-toggle="tab">Track</a></li>
	<!--	<li><a href="#tabGeoAlarm" role="tab" data-toggle="tab">GeoFence</a></li> -->
		<li><a href="#tabGeoFenceReport" role="tab" data-toggle="tab">Report</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">

<!-- Tab pane -->
<div class="tab-pane" id="tabMarketing">

<p id="introText">With this datapane you can configure, control and monitor your SeaSmart device.</p>
<div id="idMarketing">
	<img src="static/img/SSWIFIPRO200W.jpg" style="float: right; margin: 5px;" onclick="window.open('http://www.seasmart.net/marine-wireless-networking-wifipro.html', '_blank');" />
	<p>If you have no tracker today, we strongly recommend the  <span class="SeaSmartPro">SeaSmartPro</span> tracker. The <span class="SeaSmartPro">SeaSmartPro</span> automatically sends positions to your BoatLogger yacht site where your logbooks and segments gets created automatically.</p>
	<p>The <span class="SeaSmart">SeaSmartProGPRS</span> is however much more than a tracker. The standard functions include:</p>
	<ul>
		<li>Links to your existing NMEA 2000 network</li>
		<li>Sends positions to your yacht site</li>
		<li>Uses you existing internet service</li>
		<li>No need for additional data plan charges</li>
		<li>Automatically creates logbooks and trip segments for your journeys</li>
		<li>Monitors the battery voltage</li>
		<li>Monitors the temperature onboard</li>
		<li>Monitors fuel and tanks onboard</li>
		<li>Monitors weather and wind</li>
		<li>Tracks the yacht in case of theft</li>
	</ul>
	<p>Built-in data logger to SD memory</p>
	<ul>
		<li>Records everything when vessel is out of range</li>
		<li>Up to a full year of storage</li>
		<li>Automatically syncs to Boatlogger site when internet service is found</li>
		<li>Cloud base storage and access from the HelmSmart data server</li>
		</ul>
	<p>Add more vessel sensors</p>
	<ul>		
		<li>Install additional temperature sensors to monitor e.g. engine room temperature, sea temperature, outdoor temperature etc.</li>
		<li>12 additional customized inputs (6 digital inputs, 2 tach, and 4 analog inputs)</li>
	</ul>
	<p>Everything is naturally monitored from your yacht site and automatically included in your logbook or displayed on graphs or photo albums at your site.</p>
	<p>Download the data sheet to learn more or order your <span class="SeaSmartPro">SeaSmartPro</span> directly here. Worldwide shipping is included in the <em>595 USD</em> price.</p>
	<div style="margin: 15px;">
		<button id='downloadDatasheet' type="button" class="btn btn-primary" onclick="window.open('http://www.seasmart.net/pdf/SSWiFiPro.pdf', '_blank');">Datasheet</button>
<!--	<button id='orderNow' type="button" class="btn btn-primary" style="margin-left: 30px;" onclick="location.href=window.location.protocol + '//' + window.location.host + '/Order';return false;">Order Now</button>-->
		<button id='orderNow' type="button" class="btn btn-primary" style="margin-left: 30px;" onclick="window.open('http://www.seasmart.net/marine-wireless-networking-wifipro.html', '_blank');">Order Now</button>

	</div>
	<p>
		If you already have a SeaSmart and want to connect it to HelSmart, login with your email
	</p>

</div>


	

	<script>
		$(function () { $("[data-toggle='tooltip']").tooltip(); });
	</script>




</div>

	<!-- Tab pane -->
<div class="tab-pane" id="tabLive">
		
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }



</style>		
		
		
		
			<div class="form-horizontal">
				<div class="form-group text-center text-info" style="margin-top:10px;"  >
<div class="alertdiv" id="alert_data" style="width:100%; height:10%; display: block">

    <!--
    <form name="AlertData">
      <textarea id="AlertText" name="AlertText" rows="20" style="width: 100%; display: block"></textarea>
    </form>
    -->
    <Table class="alerttable" id="AlertData" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
          <th> Timestamp</th>
          <th> Interval</th>    
          <th> Title</th>
          <th> Mode  </th>
		  <th> Type  </th>
          <th> Value </th>
		  <th> Location </th>
          <th> Low </th>
          <th> High </th>
		  <th>Status</th>
		   <th>Action</th>
			   </TR>
      </thead>
      <tbody class="alerttbody"></tbody>
      
    </Table>
    
  </div>
				</div>
			</div>
			
			  <div id="SearchStatus" class="auto-style6" style="width:100%;  padding: 5px 5px 5px 5px;" >
    <span class="auto-style6">	</span>

  </div>
			
</div>

<div class='tab-pane' id="tabBasicSettings">
			
<form action="/TrackerDatapane/SettingsBasic" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabBasicSettings" id="form0" method="post">	
<div class="form-horizontal">
		
		<!--
	<p id="introText">By registering your SeaSmart gateway with BoatLogger - live vessel data can be automatically added to your log book and displayed in custom data boards</p>
    <p id="introText">Please enter account info to link you HelmSmart Telemetry Board to Data Pane ID = {{ userKey }} </p>
    <p id="introText">token = {{ publictoken }} </p>
-->

		<div class="form-group">
			<label class="control-label col-sm-2" for="DeviceTypeID">Device Type</label>
			<div class="col-sm-4">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="DeviceTypeID" name="DeviceTypeID"   onchange="ChangedDeviceTypeID(this);"  >
				<option value="000000000000">0000000000000:Demo</option>

			</select>
				<span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-2" for="DeviceKey">Device Key</label>
			<div class="col-sm-4">
				<input class="form-control text-box single-line" data-val="true" data-val-length="The Device Key must be a string with a length of 32 ." data-val-length-max="15" data-val-length-min="32" data-val-required="The Device Key field is required." id="DeviceKey" name="DeviceKey" placeholder="Key is 32 characters" type="text" value="" onchange="ChangedDeviceKey();" readonly />
				<span class="field-validation-valid text-danger" data-valmsg-for="DeviceKey" data-valmsg-replace="true"></span>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-2" for="TimeZoneId">Time zone</label>
			<div class="col-sm-6">
				
<select class="form-control" id="TimeZoneId" name="TimeZoneId" style="" onchange="ChangedTimeZone(this);">
			<option value="-720">(UTC-12:00) International Date Line West</option>
			<option value="-660">(UTC-11:00) Coordinated Universal Time-11</option>
			<option value="-600">(UTC-10:00) Hawaii</option>
			<option value="-540">(UTC-09:00) Alaska</option>
			<option value="-480">(UTC-08:00) Baja California</option>
			<option value="-480">(UTC-08:00) Pacific Time (US and Canada)</option>
			<option value="-420">(UTC-07:00) Arizona</option>
			<option value="-420">(UTC-07:00) Chihuahua, La Paz, Mazatlan</option>
			<option value="-420">(UTC-07:00) Mountain Time (US and Canada)</option>
			<option value="-360">(UTC-06:00) Central America</option>
			<option value="-360">(UTC-06:00) Central Time (US and Canada)</option>
			<option value="-360">(UTC-06:00) Guadalajara, Mexico City, Monterrey</option>
			<option value="-360">(UTC-06:00) Saskatchewan</option>
			<option value="-300">(UTC-05:00) Bogota, Lima, Quito, Rio Branco</option>
			<option value="-300">(UTC-05:00) Eastern Time (US and Canada)</option>
			<option value="-300">(UTC-05:00) Indiana (East)</option>
			<option value="-270">(UTC-04:30) Caracas</option>
			<option value="-240">(UTC-04:00) Asuncion</option>
			<option value="-240">(UTC-04:00) Atlantic Time (Canada)</option>
			<option value="-240">(UTC-04:00) Cuiaba</option>
			<option value="-240">(UTC-04:00) Georgetown, La Paz, Manaus, San Juan</option>
			<option value="-240">(UTC-04:00) Santiago</option>
			<option value="-210">(UTC-03:30) Newfoundland</option>
			<option value="-180">(UTC-03:00) Brasilia</option>
			<option value="-180">(UTC-03:00) Buenos Aires</option>
			<option value="-180">(UTC-03:00) Cayenne, Fortaleza</option>
			<option value="-180">(UTC-03:00) Greenland</option>
			<option value="-180">(UTC-03:00) Montevideo</option>
			<option value="-180">(UTC-03:00) Salvador</option>
			<option value="-120">(UTC-02:00) Coordinated Universal Time-02</option>
			<option value="-120">(UTC-02:00) Mid-Atlantic - Old</option>
			<option value="-60">(UTC-01:00) Azores</option>
			<option value="-60">(UTC-01:00) Cape Verde Is.</option>
			<option value="0">(UTC) Casablanca</option>
			<option selected="selected" value="-0">(LOCAL) Local Time</option>
			<option value="0">(UTC) Coordinated Universal Time</option>
			<option value="0">(UTC) Dublin, Edinburgh, Lisbon, London</option>
			<option value="0">(UTC) Monrovia, Reykjavik</option>
			<option value="60">(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</option>
			<option value="60">(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</option>
			<option value="60">(UTC+01:00) Brussels, Copenhagen, Madrid, Paris</option>
			<option value="60">(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb</option>
			<option value="60">(UTC+01:00) West Central Africa</option>
			<option value="60">(UTC+01:00) Windhoek</option>
			<option value="120">(UTC+02:00) Amman</option>
			<option value="120">(UTC+02:00) Athens, Bucharest</option>
			<option value="120">(UTC+02:00) Beirut</option>
			<option value="120">(UTC+02:00) Cairo</option>
			<option value="120">(UTC+02:00) Damascus</option>
			<option value="120">(UTC+02:00) E. Europe</option>
			<option value="120">(UTC+02:00) Harare, Pretoria</option>
			<option value="120">(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius</option>
			<option value="120">(UTC+02:00) Istanbul</option>
			<option value="120">(UTC+02:00) Jerusalem</option>
			<option value="120">(UTC+02:00) Tripoli</option>
			<option value="180">(UTC+03:00) Baghdad</option>
			<option value="180">(UTC+03:00) Kaliningrad, Minsk</option>
			<option value="180">(UTC+03:00) Kuwait, Riyadh</option>
			<option value="180">(UTC+03:00) Nairobi</option>
			<option value="210">(UTC+03:30) Tehran</option>
			<option value="240">(UTC+04:00) Abu Dhabi, Muscat</option>
			<option value="240">(UTC+04:00) Baku</option>
			<option value="240">(UTC+04:00) Moscow, St. Petersburg, Volgograd</option>
			<option value="240">(UTC+04:00) Port Louis</option>
			<option value="240">(UTC+04:00) Tbilisi</option>
			<option value="240">(UTC+04:00) Yerevan</option>
			<option value="240">(UTC+04:30) Kabul</option>
			<option value="300">(UTC+05:00) Ashgabat, Tashkent</option>
			<option value="300">(UTC+05:00) Islamabad, Karachi</option>
			<option value="330">(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi</option>
			<option value="330">(UTC+05:30) Sri Jayawardenepura</option>
			<option value="345">(UTC+05:45) Kathmandu</option>
			<option value="360">(UTC+06:00) Astana</option>
			<option value="360">(UTC+06:00) Dhaka</option>
			<option value="360">(UTC+06:00) Ekaterinburg</option>
			<option value="390">(UTC+06:30) Yangon (Rangoon)</option>
			<option value="420">(UTC+07:00) Bangkok, Hanoi, Jakarta</option>
			<option value="420">(UTC+07:00) Novosibirsk</option>
			<option value="480">(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi</option>
			<option value="480">(UTC+08:00) Krasnoyarsk</option>
			<option value="480">(UTC+08:00) Kuala Lumpur, Singapore</option>
			<option value="480">(UTC+08:00) Perth</option>
			<option value="480">(UTC+08:00) Taipei</option>
			<option value="480">(UTC+08:00) Ulaanbaatar</option>
			<option value="540">(UTC+09:00) Irkutsk</option>
			<option value="540">(UTC+09:00) Osaka, Sapporo, Tokyo</option>
			<option value="540">(UTC+09:00) Seoul</option>
			<option value="540">(UTC+09:30) Adelaide</option>
			<option value="540">(UTC+09:30) Darwin</option>
			<option value="600">(UTC+10:00) Brisbane</option>
			<option value="600">(UTC+10:00) Canberra, Melbourne, Sydney</option>
			<option value="600">(UTC+10:00) Guam, Port Moresby</option>
			<option value="600">(UTC+10:00) Hobart</option>
			<option value="600">(UTC+10:00) Yakutsk</option>
			<option value="660">(UTC+11:00) Solomon Is., New Caledonia</option>
			<option value="660">(UTC+11:00) Vladivostok</option>
			<option value="720">(UTC+12:00) Auckland, Wellington</option>
			<option value="720">(UTC+12:00) Coordinated Universal Time+12</option>
			<option value="720">(UTC+12:00) Fiji</option>
			<option value="720">(UTC+12:00) Magadan</option>
			<option value="720">(UTC+12:00) Petropavlovsk-Kamchatsky - Old</option>
			<option value="780">(UTC+13:00) Nukualofa</option>
			<option value="780">(UTC+13:00) Samoa</option>
			<option value="840">(UTC+14:00) Kiritimati Island</option>
</select>
<span class="field-validation-valid" data-valmsg-for="TimeZoneId" data-valmsg-replace="true"></span>
			</div>
		</div>



	</div> <!-- form horzinal -->

</form>
</div>
<!-- Events TAB> ###################################################   -->		
		
		<div class="tab-pane" id="tabEvents">
		

			
<form action="/TrackerDatapane/SettingsEvents" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabEvents" id="form1" method="post">	
	<div class="form-horizontal">

	<div class="form-group" style="width:400px; height:40px;" >
		<label class="control-label col-sm-2" for="EventsID">Event Lists</label>
			<div class="col-sm-6">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="EventsID" name="EventsTypesID" onchange="updateEventList(this);">
				<option value="0"> ** Add New Event ** </option>
	</select>
				<!-- <span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span> -->	
			</div>
		</div>
		
		
		<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="EventEnabled">Mode</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventEnabled" name="EventEnabled" onchange="ChangedAlertMode(this)";>
					  <option value="0">enabled</option>
					  <option value="1">disabled</option>
			          </select>		
			</div>
		</div>  
		
	
			<div class="form-group" style="width:400px; height:40px;" >
			<label class="control-label col-sm-2" for="PGNTypeID">Event</label>
			<div class="col-sm-6">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="PGNTypeID" name="PGNTypeID" onchange="ChangedPGNTypeID(this);">
				<option value="None"> -------- </option>
				<option value="/Position">GPS - Position lat/lng</option>
				<option value="/Position/lat">GPS - Position lat</option>
				<option value="/Position/lng">GPS - Position lng</option>
				
				<option value="/Environmental/Wind Speed">Environmental - Wind Speed True</option>
				<option value="/Environmental/Wind Direction">Environmental - Wind Direction True</option>
				<option value="/Environmental/Air Pressure">Environmental - Air Pressure</option>
				<option value="/Environmental/Air Temperature">Environmental - Air Temperature Outside</option>
				<option value="/Environmental/Relative Humidity (%)">Environmental - Outside Humidity (%)</option>				
				<option value="/Environmental/Air Pressure Inside">Environmental - Air Pressure Inside</option>
				<option value="/Environmental/Air Temperature Inside">Environmental - Air Temperature Inside</option>
				<option value="/Environmental/Humidity Inside">Environmental - Inside Humidity (%)</option>					
				
				<option value="/Environmental/Water Temperature">Environmental - Water Temperature</option>

				
				<option value="/Environmental/Temperature Inside 0">Environmental - Temperature Inside Zone 0</option>
				<option value="/Environmental/Humidity Inside 0">Environmental - Humidity Inside Zone 0</option>
				<option value="/Environmental/Temperature Inside 1">Environmental - Temperature Inside Zone 1</option>
				<option value="/Environmental/Humidity Inside 1">Environmental - Humidity Inside Zone 1</option>				
				<option value="/Environmental/Temperature Inside 2">Environmental - Temperature Inside Zone 2</option>
				<option value="/Environmental/Humidity Inside 2">Environmental - Humidity Inside Zone 2</option>				
				<option value="/Environmental/Temperature Inside 3">Environmental - Temperature Inside Zone 3</option>
				<option value="/Environmental/Humidity Inside 3">Environmental - Humidity Inside Zone 3</option>
				<option value="/Environmental/Temperature Inside 4">Environmental - Temperature Inside Zone 4</option>
				<option value="/Environmental/Humidity Inside 4">Environmental - Humidity Inside Zone 4</option>
				<option value="/Environmental/Temperature Inside 5">Environmental - Temperature Inside Zone 5</option>
				<option value="/Environmental/Humidity Inside 5">Environmental - Humidity Inside Zone 5</option>
				<option value="/Environmental/Temperature Inside 6">Environmental - Temperature Inside Zone 6</option>
				<option value="/Environmental/Humidity Inside 6">Environmental - Humidity Inside Zone 6</option>
				<option value="/Environmental/Temperature Inside 7">Environmental - Temperature Inside Zone 7</option>
				<option value="/Environmental/Humidity Inside 7">Environmental - Humidity Inside Zone 7</option>
				
				<option value="/Environmental/Temperature Outside 0">Environmental - Temperature Outside Zone 0</option>
				<option value="/Environmental/Humidity Outside 0">Environmental - Humidity Outside Zone 0</option>
				<option value="/Environmental/Temperature Outside 1">Environmental - Temperature Outside Zone 1</option>
				<option value="/Environmental/Humidity Outside 1">Environmental - Humidity Outside Zone 1</option>				
				<option value="/Environmental/Temperature Outside 2">Environmental - Temperature Outside Zone 2</option>
				<option value="/Environmental/Humidity Outside 2">Environmental - Humidity Outside Zone 2</option>				
				<option value="/Environmental/Temperature Outside 3">Environmental - Temperature Outside Zone 3</option>
				<option value="/Environmental/Humidity Outside 3">Environmental - Humidity Outside Zone 3</option>
				<option value="/Environmental/Temperature Outside 4">Environmental - Temperature Outside Zone 4</option>
				<option value="/Environmental/Humidity Outside 4">Environmental - Humidity Outside Zone 4</option>
				<option value="/Environmental/Temperature Outside 5">Environmental - Temperature Outside Zone 5</option>
				<option value="/Environmental/Humidity Outside 5">Environmental - Humidity Outside Zone 5</option>
				<option value="/Environmental/Temperature Outside 6">Environmental - Temperature Outside Zone 6</option>
				<option value="/Environmental/Humidity Outside 6">Environmental - Humidity Outside Zone 6</option>
				<option value="/Environmental/Temperature Outside 7">Environmental - Temperature Outside Zone 7</option>
				<option value="/Environmental/Humidity Outside 7">Environmental - Humidity Outside Zone 7</option>

				
				<option value="/M2M/Navigation/Speed Over Ground">Navigation - Speed Over Ground </option>
				<option value="/M2M/Navigation/Course Over Ground">Navigation - Course over Ground </option>
				<option value="/M2M/Navigation/Speed Over Ground Mag">Navigation - Speed Over Ground Magnetic</option>
				<option value="/M2M/Navigation/Course Over Ground Mag">Navigation - Course over Ground Magnetic</option>
				<option value="/M2M/Navigation/Heading True">Navigation - Heading True</option>
				<option value="/M2M/Navigation/Heading Magnetic">Navigation - Heading Magnetic</option>
				<option value="/M2M/Navigation/Rudder">Navigation - Rudder </option>
				<option value="/M2M/Attitude/Pitch">Attitude - Pitch </option>
				<option value="/M2M/Attitude/Roll">Attitude - Roll </option>
				<option value="/M2M/Navigation/Rate Of Turn">Navigation - Rate Of Turn </option>
				
				<option value="/M2M/Navigation/Depth">Water - Depth</option>
				<option value="/M2M/Navigation/Water Speed">Water - Speed</option>
				<option value="/M2M/Environment/Water Temperature">Water - Temperature </option>
				
				<option value="/M2M/Engine/Engine RPM Port">Engine - Port - RPM</option>
				<option value="/M2M/Engine/Engine Boost Port">Engine - Port - Boost</option>	
				<option value="/M2M/Engine/Engine Trim Port">Engine - Port - Trim</option>
				<option value="/M2M/Engine/Engine Temperature Port">Engine - Port - Temperature</option>			
				<option value="/M2M/Engine/Engine OIL Pressure Port">Engine - Port - OIL Pressure</option>	
				<option value="/M2M/Engine/Engine OIL Temperature Port">Engine - Port - OIL Temperature</option>
				<option value="/M2M/Engine/Engine Alternator Volts Port">Engine - Port - Alternator Volts</option>
				<option value="/M2M/Engine/Engine Fuel Rate Port">Engine - Port - Fuel Rate</option>	

				
				<option value="/M2M/Engine/Engine Trip Fuel Used Port">Engine - Port - Trip Fuel Used</option>				
				<option value="/M2M/Engine/Engine Fuel Rate Average Port">Engine - Port - Fuel Rate Average </option>
				<option value="/M2M/Engine/Engine Fuel Rate Economy Port">Engine - Port - Fuel Rate Economy</option>				
				<option value="/M2M/Engine/Engine Instantaneous Fuel Economy Port">Engine - Port - Instantaneous Fuel Economy</option>

				
				<option value="/M2M/Engine/Engine Fuel Pressure Port">Engine - Port - Fuel Pressure</option>		
				<option value="/M2M/Engine/Engine Coolant Pressure Port">Engine - Port - Coolant Pressure</option>	
				<option value="/M2M/Engine/Engine Coolant Temperature Port">Engine - Port - Coolant Temperature</option>	
				<option value="/M2M/Engine/EGT 0 Port">Engine - Port - EGT</option>				
				<option value="/M2M/Engine/Engine Hours Port">Engine - Port - Hours</option>					
			
				<option value="/M2M/Engine/Engine RPM Starboard">Engine - Starboard - RPM</option>
				<option value="/M2M/Engine/Engine Boost Starboard">Engine - Starboard - Boost</option>				
				<option value="/M2M/Engine/Engine Trim Starboard">Engine - Starboard - Trim</option>	
				<option value="/M2M/Engine/Engine Temperature Starboard">Engine - Starboard - Temperature</option>
				<option value="/M2M/Engine/Engine OIL Pressure Starboard">Engine - Starboard - OIL Pressure</option>
				<option value="/M2M/Engine/Engine OIL Temperature Starboard">Engine - Starboard - OIL Temperature</option>
				<option value="/M2M/Engine/Engine Alternator Volts Starboard">Engine - Starboard - Alternator Volts</option>	
				<option value="/M2M/Engine/Engine Fuel Rate Starboard">Engine - Starboard - Fuel Rate</option>
				
								
				<option value="/M2M/Engine/Engine Trip Fuel Used Starboard">Engine - Starboard - Trip Fuel Used</option>				
				<option value="/M2M/Engine/Engine Fuel Rate Average Starboard">Engine - Starboard - Fuel Rate Average </option>
				<option value="/M2M/Engine/Engine Fuel Rate Economy Starboard">Engine - Starboard - Fuel Rate Economy</option>				
				<option value="/M2M/Engine/Engine Instantaneous Fuel Economy Starboard">Engine - Starboard - Instantaneous Fuel Economy</option>

				<option value="/M2M/Engine/Engine Fuel Pressure Starboard">Engine - Starboard - Fuel Pressure</option>
				<option value="/M2M/Engine/Engine Coolant Pressure Starboard">Engine - Starboard - Coolant Pressure</option>
				<option value="/M2M/Engine/Engine Coolant Temperature Starboard">Engine - Starboard - Coolant Temperature</option>	
				<option value="/M2M/Engine/EGT 0 Starboard">Engine - Starboard - EGT</option>
				<option value="/M2M/Engine/Engine Hours Starboard">Engine - Starboard - Hours</option>				
					
				<option value="/M2M/Engine/Engine RPM Center">Engine - Center - RPM</option>
				<option value="/M2M/Engine/Engine Boost Center">Engine - Center - Boost</option>				
				<option value="/M2M/Engine/Engine Trim Center">Engine - Center - Trim</option>
				<option value="/M2M/Engine/Engine Temperature Center">Engine - Center - Temperature</option>
				<option value="/M2M/Engine/Engine OIL Pressure Center">Engine - Center - OIL Pressure</option>
				<option value="/M2M/Engine/Engine OIL Temperature Center">Engine - Center - OIL Temperature</option>
				<option value="/M2M/Engine/Engine Alternator Volts Center">Engine - Center - Alternator Volts</option>
				<option value="/M2M/Engine/Engine Fuel Rate Center">Engine - Center - Fuel Rate</option>
				
				<option value="/M2M/Engine/Engine Trip Fuel Used Center">Engine - Center - Trip Fuel Used</option>				
				<option value="/M2M/Engine/Engine Fuel Rate Average Center">Engine - Center - Fuel Rate Average </option>
				<option value="/M2M/Engine/Engine Fuel Rate Economy Center">Engine - Center - Fuel Rate Economy</option>				
				<option value="/M2M/Engine/Engine Instantaneous Fuel Economy Center">Engine - Center - Instantaneous Fuel Economy</option>
												
				<option value="/M2M/Engine/Engine Fuel Pressure Center">Engine - Center - Fuel Pressure</option>
				<option value="/M2M/Engine/Engine Coolant Pressure Center">Engine - Center - Coolant Pressure</option>
				<option value="/M2M/Engine/Engine Coolant Temperature Center">Engine - Center - Coolant Temperature</option>	
				<option value="/M2M/Engine/EGT 0 Center">Engine - Center - EGT Center </option>				
				<option value="/M2M/Engine/Engine Hours Center">Engine - Center - Hours</option>				


		
				<option value="/M2M/Engine/Generator RPM J1939">Generator - J1939 - RPM</option>
				<option value="/M2M/Engine/Generator Boost J1939">Generator - J1939 - Boost</option>				
				<option value="/M2M/Engine/Generator Trim J1939">Generator - J1939 - Trim</option>
				<option value="/M2M/Engine/Generator Temperature J1939">Generator - J1939 - Temperature</option>
				<option value="/M2M/Engine/Generator OIL Pressure J1939">Generator - J1939 - OIL Pressure</option>
				<option value="/M2M/Engine/Generator OIL Temperature J1939">Generator - J1939 - OIL Temperature</option>
				<option value="/M2M/Engine/Generator Alternator Volts J1939">Generator - J1939 - Alternator Volts</option>
				<option value="/M2M/Engine/Generator Alternator Current J1939">Generator - J1939 - Alternator Current</option>		
				<option value="/M2M/Engine/Generator Fuel Rate J1939">Generator - J1939 - Fuel Rate</option>
				
				<option value="/M2M/Engine/Generator Fuel Level J1939">Generator - J1939 - Fuel Level</option>	
				<option value="/M2M/Engine/Generator Trip Fuel Used J1939">Generator - J1939 - Trip Fuel Used</option>				
				<option value="/M2M/Engine/Generator Fuel Rate Average J1939">Generator - J1939 - Fuel Rate Average </option>
				<option value="/M2M/Engine/Generator Fuel Rate Economy J1939">Generator - J1939 - Fuel Rate Economy</option>				
				<option value="/M2M/Engine/Generator Instantaneous Fuel Economy J1939">Generator - J1939 - Instantaneous Fuel Economy</option>
												
				<option value="/M2M/Engine/Generator Fuel Pressure J1939">Generator - J1939 - Fuel Pressure</option>
				<option value="/M2M/Engine/Generator Coolant Pressure J1939">Generator - J1939 - Coolant Pressure</option>
				<option value="/M2M/Engine/Generator Coolant Temperature J1939">Generator - J1939 - Coolant Temperature</option>	
				<option value="/M2M/Engine/Generator EGT J1939">Generator - J1939 - EGT </option>				
				<option value="/M2M/Engine/Generator Hours J1939">Generator - J1939 - Hours</option>		
				
				
				
				<option value="/M2M/Engine/Transmission OIL Pressure Port">Transmission - Port - OIL Pressure</option>
				<option value="/M2M/Engine/Transmission OIL Temperature Port">Transmission - Port - OIL Temperature</option>

				<option value="/M2M/Engine/Transmission OIL Pressure Starboard">Transmission - Starboard - OIL Pressure</option>
				<option value="/M2M/Engine/Transmission OIL Temperature Starboard">Transmission - Starboard - OIL Temperature</option>

				<option value="/M2M/Engine/Transmission OIL Pressure Center">Transmission - Center - OIL Pressure</option>	
				<option value="/M2M/Engine/Transmission OIL Temperature Center">Transmission - Center - OIL Temperature</option>

				<option value="/M2M/Battery/Battery Volts Port">Battery - Port - Volts</option>
				<option value="/M2M/Battery/Battery Current Port">Battery - Port - Current</option>
				<option value="/M2M/Battery/Battery Temperature Port">Battery - Port - Temperature</option>
				<option value="/M2M/Battery/Battery StateOfCharge Port">Battery - Port - StateOfCharge</option>				
				<option value="/M2M/Battery/Battery TimeRemaining Port">Battery - Port - TimeRemaining</option>	
	
				<option value="/M2M/Battery/Battery Volts Starboard">Battery - Starboard - Volts</option>				
				<option value="/M2M/Battery/Battery Current Starboard">Battery - Starboard - Current</option>
				<option value="/M2M/Battery/Battery Temperature Starboard">Battery - Starboard - Temperature</option>	
				<option value="/M2M/Battery/Battery StateOfCharge Starboard">Battery - Starboard - StateOfCharge</option>				
				<option value="/M2M/Battery/Battery TimeRemaining Starboard">Battery - Starboard - TimeRemaining</option>					

				<option value="/M2M/Battery/Battery Volts Center">Battery - Center - Volts</option>
				<option value="/M2M/Battery/Battery Current Center">Battery - Center - Current</option>
				<option value="/M2M/Battery/Battery Temperature Center">Battery - Center - Temperature</option>	
				<option value="/M2M/Battery/Battery StateOfCharge Center">Battery - Center - StateOfCharge</option>				
				<option value="/M2M/Battery/Battery TimeRemaining Center">Battery - Center - TimeRemaining</option>	
				
				<option value="/M2M/Battery/Battery Volts J1939">Battery - J1939 - Volts</option>
				<option value="/M2M/Battery/Battery Current J1939">Battery - J1939 - Current</option>					
				
				
				<option value="/M2M/AC/UTIL/Volts_Phase_A">AC UTIL - Phase A - Volts L-N</option>
				<option value="/M2M/AC/UTIL/Volts_Line_Phase_A">AC UTIL - Phase A - Volts L-L</option>
				<option value="/M2M/AC/UTIL/Amps_Phase_A">AC UTIL - Phase A - Amps</option>	
				<option value="/M2M/AC/UTIL/Frequency_Phase_A">AC UTIL - Phase A - Frequency</option>		
				<option value="/M2M/AC/UTIL/Power_Phase_A">AC UTIL - Phase A - kWatts</option>				
				<option value="/M2M/AC/UTIL/Energy_Phase_A">AC UTIL - Phase A - kWatts/hr</option>	

				<option value="/M2M/AC/UTIL/Volts_Phase_B">AC UTIL - Phase B - Volts L-N</option>
				<option value="/M2M/AC/UTIL/Volts_Line_Phase_B">AC UTIL - Phase B - Volts L-L</option>
				<option value="/M2M/AC/UTIL/Amps_Phase_B">AC UTIL - Phase B - Amps</option>	
				<option value="/M2M/AC/UTIL/Frequency_Phase_B">AC UTIL - Phase B - Frequency</option>		
				<option value="/M2M/AC/UTIL/Power_Phase_B">AC UTIL - Phase B - kWatts</option>				
				<option value="/M2M/AC/UTIL/Energy_Phase_B">AC UTIL - Phase B - kWatts/hr</option>	

				<option value="/M2M/AC/UTIL/Volts_Phase_C">AC UTIL - Phase C - Volts L-N</option>
				<option value="/M2M/AC/UTIL/Volts_Line_Phase_C">AC UTIL - Phase C - Volts L-L</option>
				<option value="/M2M/AC/UTIL/Amps_Phase_C">AC UTIL - Phase C - Amps</option>	
				<option value="/M2M/AC/UTIL/Frequency_Phase_C">AC UTIL - Phase C - Frequency</option>		
				<option value="/M2M/AC/UTIL/Power_Phase_C">AC UTIL - Phase C - kWatts</option>				
				<option value="/M2M/AC/UTIL/Energy_Phase_C">AC UTIL - Phase C - kWatts/hr</option>	

				<option value="/M2M/AC/UTIL/Volts_Avg">AC UTIL- Avg - Volts L-N</option>
				<option value="/M2M/AC/UTIL/Volts_Line_Avg">AC UTIL - Avg - Volts L-L</option>
				<option value="/M2M/AC/UTIL/Amps_Avg">AC UTIL - Avg - Amps</option>	
				<option value="/M2M/AC/UTIL/Frequency_Avg">AC UTIL - Avg - Frequency</option>		
				<option value="/M2M/AC/UTIL/Power_Avg">AC UTIL - Avg - kWatts</option>	
				<option value="/M2M/AC/UTIL/Energy_Avg">AC UTIL - Avg - kWatts/hr</option>	
							
				<option value="/M2M/AC/UTIL/TotalEnergy_Import">AC UTIL- Total Energy Import - kWatts/hr</option>					
				<option value="/M2M/AC/UTIL/TotalEnergy_Export">AC UTIL- Total Energy Export - kWatts/hr</option>		
				
				<option value="/M2M/AC/GEN/Volts_Phase_A">AC GEN - Phase A - Volts L-N</option>
				<option value="/M2M/AC/GEN/Volts_Line_Phase_A">AC GEN - Phase A - Volts L-L</option>
				<option value="/M2M/AC/GEN/Amps_Phase_A">AC GEN - Phase A - Amps</option>	
				<option value="/M2M/AC/GEN/Frequency_Phase_A">AC GEN - Phase A - Frequency</option>		
				<option value="/M2M/AC/GEN/Power_Phase_A">AC GEN - Phase A - kWatts</option>				
				<option value="/M2M/AC/GEN/Energy_Phase_A">AC GEN - Phase A - kWatts/hr</option>	

				<option value="/M2M/AC/GEN/Volts_Phase_B">AC GEN - Phase B - Volts L-N</option>
				<option value="/M2M/AC/GEN/Volts_Line_Phase_B">AC GEN - Phase B - Volts L-L</option>
				<option value="/M2M/AC/GEN/Amps_Phase_B">AC GEN - Phase B - Amps</option>	
				<option value="/M2M/AC/GEN/Frequency_Phase_B">AC GEN - Phase B - Frequency</option>		
				<option value="/M2M/AC/GEN/Power_GPhase_B">AC GEN - Phase B - kWatts</option>				
				<option value="/M2M/AC/GEN/Energy_Phase_B">AC GEN - Phase B - kWatts/hr</option>	

				<option value="/M2M/AC/GEN/Volts_Phase_C">AC GEN - Phase C - Volts L-N</option>
				<option value="/M2M/AC/GEN/Volts_Line_Phase_C">AC GEN - Phase C - Volts L-L</option>
				<option value="/M2M/AC/GEN/Amps_Phase_C">AC GEN - Phase C - Amps</option>	
				<option value="/M2M/AC/GEN/Frequency_Phase_C">AC GEN - Phase C - Frequency</option>		
				<option value="/M2M/AC/GEN/Power_Phase_C">AC GEN - Phase C - kWatts</option>				
				<option value="/M2M/AC/GEN/Energy_Phase_C">AC GEN - Phase C - kWatts/hr</option>	

				<option value="/M2M/AC/GEN/Volts_Avg">AC GEN - Avg - Volts L-N</option>
				<option value="/M2M/AC/GEN/Volts_Line_Avg">AC GEN - Avg - Volts L-L</option>
				<option value="/M2M/AC/GEN/Amps_Avg">AC GEN - Avg - Amps</option>	
				<option value="/M2M/AC/GEN/Frequency_Avg">AC GEN - Avg - Frequency</option>		
				<option value="/M2M/AC/GEN/Power_Avg">AC GEN - Avg - kWatts</option>
				<option value="/M2M/AC/GEN/Energy_Avg">AC GEN - Avg - kWatts/hr</option>	
				
				<option value="/M2M/AC/GEN/TotalEnergy_Import">AC GEN- Total Energy Import - kWatts/hr</option>					
				<option value="/M2M/AC/GEN/TotalEnergy_Export">AC GEN- Total Energy Export - kWatts/hr</option>			

	

				<option value="/M2M/AC/LIGHTS/Volts_Line_Phase_A">AC LIGHTS - Circuit 0 - Volts L-L</option>
				<option value="/M2M/AC/LIGHTS/Amps_Phase_A">AC LIGHTS - Circuit 0 - Amps</option>	
				<option value="/M2M/AC/LIGHTS/Power_Phase_A">AC LIGHTS - Circuit 0 - kWatts</option>				

				<option value="/M2M/AC/LIGHTS/Volts_Line_Phase_B">AC LIGHTS - Circuit 2 - Volts L-L</option>
				<option value="/M2M/AC/LIGHTS/Amps_Phase_B">AC LIGHTS - Circuit 2 - Amps</option>	
				<option value="/M2M/AC/LIGHTS/Power_Phase_B">AC LIGHTS - Circuit 2 - kWatts</option>				

				<option value="/M2M/AC/LIGHTS/Volts_Line_Phase_C">AC LIGHTS - Circuit 2 - Volts L-L</option>
				<option value="/M2M/AC/LIGHTS/Amps_Phase_C">AC LIGHTS - Circuit 2 - Amps</option>	
				<option value="/M2M/AC/LIGHTS/Power_Phase_C">AC LIGHTS - Circuit 2 - kWatts</option>				

				<option value="/M2M/AC/LIGHTS/Volts_Line_Avg">AC LIGHTS - Circuit 3 - Volts L-L</option>
				<option value="/M2M/AC/LIGHTS/Amps_Avg">AC LIGHTS - Circuit 3 - Amps</option>	
				<option value="/M2M/AC/LIGHTS/Power_Avg">AC LIGHTS - Circuit 3 - kWatts</option>				
				
				<option value="/M2M/AC/HEAT/Volts_Line_Phase_A">AC HEAT - Circuit 0 - Volts L-L</option>
				<option value="/M2M/AC/HEAT/Amps_Phase_A">AC HEAT - Circuit 0 - Amps</option>	
				<option value="/M2M/AC/HEAT/Power_Phase_A">AC HEAT - Circuit 0 - kWatts</option>				

				<option value="/M2M/AC/HEAT/Volts_Line_Phase_B">AC HEAT - Circuit 2 - Volts L-L</option>
				<option value="/M2M/AC/HEAT/Amps_Phase_B">AC HEAT - Circuit 2 - Amps</option>	
				<option value="/M2M/AC/HEAT/Power_Phase_B">AC HEAT - Circuit 2 - kWatts</option>				

				<option value="/M2M/AC/HEAT/Volts_Line_Phase_C">AC HEAT - Circuit 2 - Volts L-L</option>
				<option value="/M2M/AC/HEAT/Amps_Phase_C">AC HEAT - Circuit 2 - Amps</option>	
				<option value="/M2M/AC/HEAT/Power_Phase_C">AC HEAT - Circuit 2 - kWatts</option>				

				<option value="/M2M/AC/HEAT/Volts_Line_Avg">AC HEAT - Circuit 3 - Volts L-L</option>
				<option value="/M2M/AC/HEAT/Amps_Avg">AC HEAT - Circuit 3 - Amps</option>	
				<option value="/M2M/AC/HEAT/Power_Avg">AC HEAT - Circuit 3 - kWatts</option>
				



				<option value="/M2M/Tank/Fuel Level Port">Tanks - Port - Fuel Level</option>
				<option value="/M2M/Tank/Water Level Port">Tanks - Port - Water Level</option>	
				<option value="/M2M/Tank/Waste Level Port">Tanks - Port - Waste Level</option>	
				<option value="/M2M/Tank/Live Well Port">Tanks - Port - Live Well</option>	
				<option value="/M2M/Tank/Oil Level Port">Tanks - Port - Oil Level</option>						
				<option value="/M2M/Tank/Black Water Level Port">Tanks - Port - Black Water Level</option>				
				<option value="/M2M/Tank/Bilge Level Port">Tanks - Port - Bilge Level</option>	
								
				<option value="/M2M/Tank/Fuel Level Starboard">Tanks - Starboard - Fuel Level</option>
				<option value="/M2M/Tank/Water Level Starboard">Tanks - Starboard - Water Level</option>	
				<option value="/M2M/Tank/Waste Level Starboard">Tanks - Starboard - Waste Level</option>	
				<option value="/M2M/Tank/Live Well Starboard">Tanks - Starboard - Live Well</option>	
				<option value="/M2M/Tank/Oil Level Starboard">Tanks - Starboard - Oil Level</option>						
				<option value="/M2M/Tank/Black Water Level Starboard">Tanks - Starboard - Black Water Level</option>	
			   <option value="/M2M/Tank/Bilge Level Starboard">Tanks - Starboard - Bilge Level</option>	

				
				<option value="/M2M/Tank/Fuel Level Center">Tanks - Center - Fuel Level</option>
				<option value="/M2M/Tank/Water Level Center">Tanks - Center - Water Level</option>
				<option value="/M2M/Tank/Waste Level Center">Tanks - Center - Waste Level</option>	
				<option value="/M2M/Tank/Live Well Center">Tanks - Center - Live Well</option>	
				<option value="/M2M/Tank/Oil Level Center">Tanks - Center - Oil Level</option>		
				<option value="/M2M/Tank/Black Water Level Center">Tanks - Center - Black Water Level</option>
				<option value="/M2M/Tank/Bilge Level Center">Tanks - Center - Bilge Level</option>

				<option value="/M2M/Tank/Fuel Level Fwd">Tanks - Fwd - Fuel Level</option>
				<option value="/M2M/Tank/Fuel Level Aft">Tanks - Aft - Fuel Level</option>
				<option value="/M2M/Tank/Fuel Level Day1">Tanks - Day1 - Fuel Level</option>
				<option value="/M2M/Tank/Fuel Level Day2">Tanks - Day2 - Fuel Level</option>
				<option value="/M2M/Tank/Fuel Level Day3">Tanks - Day3 - Fuel Level</option>

				
				<option value="/M2M/Domestic/Water Temperature">Temperature - Water Temperature </option>				
				<option value="/M2M/Domestic/Outside Temperature">Temperature - Outside Temperature </option>				
				<option value="/M2M/Domestic/Inside Temperature">Temperature - Inside Temperature </option>				
	

				<option value="/M2M/Domestic/Engine Room Temperature">Temperature - Engine Room </option>
				<option value="/M2M/Domestic/Main Cabin Temperature">Temperature - Main Cabin </option>
				<option value="/M2M/Domestic/Live Well Temperature">Temperature - Live Well </option>
				<option value="/M2M/Domestic/Bait Well Temperature">Temperature - Bait Well </option>
				<option value="/M2M/Domestic/Refrigeration 1 Temperature">Temperature - Refrigeration 1 </option>
				<option value="/M2M/Domestic/Refrigeration 2 Temperature">Temperature - Refrigeration 2 </option>
				<option value="/M2M/Domestic/Heating Temperature">Temperature - Heating </option>
				<option value="/M2M/Domestic/Freezer Temperature">Temperature - Freezer </option>

				<option value="/M2M/Domestic/Freezer 2 Temperature">Temperature - Freezer 2</option>
				<option value="/M2M/Domestic/Freezer 3 Temperature">Temperature - Freezer 3</option>
								
				<option value="/M2M/Domestic/Wind Chill A Temperature">Temperature - Wind Chill A </option>
				<option value="/M2M/Domestic/Wind Chill T Temperature">Temperature - Wind Chill T </option>
				<option value="/M2M/Domestic/Heat Index">Temperature - Heat Index </option>			


				<option value="/M2M/Environment/Wind Direction True">Wind - Direction True</option>
				<option value="/M2M/Environment/Wind Direction Magnetic">Wind - Direction Magnetic</option>
				<option value="/M2M/Environment/Wind Direction Apparent">Wind - Direction Apparent</option>
				<option value="/M2M/Environment/Wind Direction Ground">Wind - Direction Ground Ref</option>
					<option value="/M2M/Environment/Wind Direction Water">Wind - Direction Water Ref</option>					
				
				<option value="/M2M/Environment/Wind Speed True">Wind - Speed True</option>
				<option value="/M2M/Environment/Wind Speed Magnetic">Wind - Speed Magnetic</option>
				<option value="/M2M/Environment/Wind Speed Apparent">Wind - Speed Apparent</option>
				<option value="/M2M/Environment/Wind Speed Ground">Wind - Speed Ground Ref</option>
				<option value="/M2M/Environment/Wind Speed Water">Wind - Speed Water Ref</option>
				

				<option value="/M2M/LED Dimmer/Value 0 Zone 0">LED Dimmer - Mesh Zone0 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 0">LED Dimmer - Mesh Zone0 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 0">LED Dimmer - Mesh Zone0 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 0">LED Dimmer - Mesh Zone0 - Status</option>

				
				<option value="/M2M/LED Dimmer/Value 0 Zone 1">LED Dimmer - Mesh Zone1 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 1">LED Dimmer - Mesh Zone1 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 1">LED Dimmer - Mesh Zone1 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 1">LED Dimmer - Mesh Zone1 - Status</option>


				<option value="/M2M/LED Dimmer/Value 0 Zone 2">LED Dimmer - Mesh Zone2 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 2">LED Dimmer - Mesh Zone2 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 2">LED Dimmer - Mesh Zone2 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 2">LED Dimmer - Mesh Zone2 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 3">LED Dimmer - Mesh Zone3 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 3">LED Dimmer - Mesh Zone3 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 3">LED Dimmer - Mesh Zone3 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 3">LED Dimmer - Mesh Zone3 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 4">LED Dimmer - Mesh Zone4 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 4">LED Dimmer - Mesh Zone4 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 4">LED Dimmer - Mesh Zone4 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 4">LED Dimmer - Mesh Zone4 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 5">LED Dimmer - Mesh Zone5 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 5">LED Dimmer - Mesh Zone5 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 5">LED Dimmer - Mesh Zone5 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 5">LED Dimmer - Mesh Zone5 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 6">LED Dimmer - Mesh Zone6 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 6">LED Dimmer - Mesh Zone6 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 6">LED Dimmer - Mesh Zone6 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 6">LED Dimmer - Mesh Zone6 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 7">LED Dimmer - Mesh Zone7 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 7">LED Dimmer - Mesh Zone7 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 7">LED Dimmer - Mesh Zone7 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 7">LED Dimmer - Mesh Zone7 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 8">LED Dimmer - Mesh Zone8 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 8">LED Dimmer - Mesh Zone8 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 8">LED Dimmer - Mesh Zone8 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 8">LED Dimmer - Mesh Zone8 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 9">LED Dimmer - Mesh Zone9 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 9">LED Dimmer - Mesh Zone9 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 9">LED Dimmer - Mesh Zone9 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 9">LED Dimmer - Mesh Zone9 - Status</option>



				<option value="/M2M/LED Dimmer/Value 0 Zone 10">LED Dimmer - Mesh Zone10 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 10">LED Dimmer - Mesh Zone10 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 10">LED Dimmer - Mesh Zone10 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 10">LED Dimmer - Mesh Zone10 - Status</option>

				
				<option value="/M2M/LED Dimmer/Value 0 Zone 11">LED Dimmer - Mesh Zone11 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 11">LED Dimmer - Mesh Zone11 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 11">LED Dimmer - Mesh Zone11 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 11">LED Dimmer - Mesh Zone11 - Status</option>


				<option value="/M2M/LED Dimmer/Value 0 Zone 12">LED Dimmer - Mesh Zone12 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 12">LED Dimmer - Mesh Zone12 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 12">LED Dimmer - Mesh Zone12 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 12">LED Dimmer - Mesh Zone12 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 13">LED Dimmer - Mesh Zone13 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 13">LED Dimmer - Mesh Zone13 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 13">LED Dimmer - Mesh Zone13 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 13">LED Dimmer - Mesh Zone13 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 14">LED Dimmer - Mesh Zone14 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 14">LED Dimmer - Mesh Zone14 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 14">LED Dimmer - Mesh Zone14 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 14">LED Dimmer - Mesh Zone14 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 15">LED Dimmer - Mesh Zone15 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 15">LED Dimmer - Mesh Zone15 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 15">LED Dimmer - Mesh Zone15 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 15">LED Dimmer - Mesh Zone15 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 16">LED Dimmer - Mesh Zone16 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 16">LED Dimmer - Mesh Zone16 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 16">LED Dimmer - Mesh Zone16 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 16">LED Dimmer - Mesh Zone16 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 17">LED Dimmer - Mesh Zone17 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 17">LED Dimmer - Mesh Zone17 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 17">LED Dimmer - Mesh Zone17 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 17">LED Dimmer - Mesh Zone17 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 18">LED Dimmer - Mesh Zone18 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 18">LED Dimmer - Mesh Zone18 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 18">LED Dimmer - Mesh Zone18 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 18">LED Dimmer - Mesh Zone18 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 19">LED Dimmer - Mesh Zone19 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 19">LED Dimmer - Mesh Zone19 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 19">LED Dimmer - Mesh Zone19 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 19">LED Dimmer - Mesh Zone19 - Status</option>

				
				<option value="/M2M/LED Dimmer/Value 0 Zone 20">LED Dimmer - Mesh Zone20 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 20">LED Dimmer - Mesh Zone20 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 20">LED Dimmer - Mesh Zone20 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 20">LED Dimmer - Mesh Zone20 - Status</option>

				
				<option value="/M2M/LED Dimmer/Value 0 Zone 21">LED Dimmer - Mesh Zone21 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 21">LED Dimmer - Mesh Zone21 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 21">LED Dimmer - Mesh Zone21 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 21">LED Dimmer - Mesh Zone21 - Status</option>


				<option value="/M2M/LED Dimmer/Value 0 Zone 22">LED Dimmer - Mesh Zone22 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 22">LED Dimmer - Mesh Zone22 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 22">LED Dimmer - Mesh Zone22 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 22">LED Dimmer - Mesh Zone22 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 23">LED Dimmer - Mesh Zone23 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 23">LED Dimmer - Mesh Zone23 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 23">LED Dimmer - Mesh Zone23 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 23">LED Dimmer - Mesh Zone23 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 24">LED Dimmer - Mesh Zone24 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 24">LED Dimmer - Mesh Zone24 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 24">LED Dimmer - Mesh Zone24 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 24">LED Dimmer - Mesh Zone24 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 25">LED Dimmer - Mesh Zone25 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 25">LED Dimmer - Mesh Zone25 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 25">LED Dimmer - Mesh Zone25 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 25">LED Dimmer - Mesh Zone25 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 26">LED Dimmer - Mesh Zone26 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 26">LED Dimmer - Mesh Zone26 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 26">LED Dimmer - Mesh Zone26 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 26">LED Dimmer - Mesh Zone26 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 27">LED Dimmer - Mesh Zone27 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 27">LED Dimmer - Mesh Zone27 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 27">LED Dimmer - Mesh Zone27 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 27">LED Dimmer - Mesh Zone27 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 28">LED Dimmer - Mesh Zone28 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 28">LED Dimmer - Mesh Zone28 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 28">LED Dimmer - Mesh Zone28 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 28">LED Dimmer - Mesh Zone28 - Status</option>

				

				<option value="/M2M/LED Dimmer/Value 0 Zone 29">LED Dimmer - Mesh Zone29 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 29">LED Dimmer - Mesh Zone29 - Relay</option>				
				<option value="/M2M/LED Dimmer/Value 3 Zone 29">LED Dimmer - Mesh Zone29 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 29">LED Dimmer - Mesh Zone29 - Status</option>

			
				<option value="/M2M/LED Dimmer/Value 0 Zone 30">LED Dimmer - Mesh Zone30 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 30">LED Dimmer - Mesh Zone30 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 30">LED Dimmer - Mesh Zone30 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 30">LED Dimmer - Mesh Zone30 - Status</option>

				
				<option value="/M2M/LED Dimmer/Value 0 Zone 31">LED Dimmer - Mesh Zone31 - Value</option>
				<option value="/M2M/LED Dimmer/Value 2 Zone 31">LED Dimmer - Mesh Zone31 - Relay</option>
				<option value="/M2M/LED Dimmer/Value 3 Zone 31">LED Dimmer - Mesh Zone31 - Amps</option>
				<option value="/M2M/LED Dimmer/Value 4 Zone 31">LED Dimmer - Mesh Zone31 - Status</option>


			
			<!--	<option value="/M2M/RGB Dimmer/Value 0 Zone 0">RGB Dimmer - Zone0 - Value0</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 1 Zone 0">RGB Dimmer - Zone0 - Value1</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 2 Zone 0">RGB Dimmer - Zone0 - Value2</option> -->
				<option value="/M2M/RGB Dimmer/Value 3 Zone 0">RGB Dimmer - Zone0 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 0">RGB Dimmer - Zone0 - Control</option> 
				
			<!--	<option value="/M2M/RGB Dimmer/Value 0 Zone 1">RGB Dimmer - Zone1 - Value0</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 1 Zone 1">RGB Dimmer - Zone1 - Value1</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 2 Zone 1">RGB Dimmer - Zone1 - Value2</option> -->
				<option value="/M2M/RGB Dimmer/Value 3 Zone 1">RGB Dimmer - Zone1 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 1">RGB Dimmer - Zone1 - Control</option>
				
			<!--	<option value="/M2M/RGB Dimmer/Value 0 Zone 2">RGB Dimmer - Zone2 - Value0</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 1 Zone 2">RGB Dimmer - Zone2 - Value1</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 2 Zone 2">RGB Dimmer - Zone2 - Value2</option> -->
				<option value="/M2M/RGB Dimmer/Value 3 Zone 2">RGB Dimmer - Zone2 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 2">RGB Dimmer - Zone2 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 3">RGB Dimmer - Zone3 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 3">RGB Dimmer - Zone3 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 4">RGB Dimmer - Zone4 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 4">RGB Dimmer - Zone4 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 5">RGB Dimmer - Zone5 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 5">RGB Dimmer - Zone5 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 6">RGB Dimmer - Zone6 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 6">RGB Dimmer - Zone6 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 7">RGB Dimmer - Zone7 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 7">RGB Dimmer - Zone7 - Control</option>
				
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 0">LED Dimmer 4 Channel - Zone0 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 0">LED Dimmer 4 Channel - Zone0 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 0">LED Dimmer 4 Channel - Zone0 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 0">LED Dimmer 4 Channel - Zone0 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 0">LED Dimmer 4 Channel - Zone0 - Control</option>
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 1">LED Dimmer 4 Channel - Zone1 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 1">LED Dimmer 4 Channel - Zone1 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 1">LED Dimmer 4 Channel - Zone1 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 1">LED Dimmer 4 Channel - Zone1 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 1">LED Dimmer 4 Channel - Zone1 - Control</option>
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 2">LED Dimmer - 4 Channel Zone2 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 2">LED Dimmer - 4 Channel Zone2 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 2">LED Dimmer - 4 Channel Zone2 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 2">LED Dimmer - 4 Channel Zone2 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 2">LED Dimmer - 4 Channel Zone2 - Control</option>
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 3">LED Dimmer - 4 Channel Zone2 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 3">LED Dimmer - 4 Channel Zone2 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 3">LED Dimmer - 4 Channel Zone2 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 3">LED Dimmer - 4 Channel Zone2 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 3">LED Dimmer - 4 Channel Zone2 - Control</option>
				
			
				<option value="/M2M/Switch/Value 0 Port">Indicator - Port - Value0</option>
				<option value="/M2M/Switch/Runtime 0 Port">Indicator - Port - Runtime 0</option>	
				<option value="/M2M/Switch/Cycles 0 Port">Indicator - Port - Cycles 0</option>
				
				<option value="/M2M/Switch/Value 1 Port">Indicator - Port - Value1</option>
				<option value="/M2M/Switch/Runtime 1 Port">Indicator - Port - Runtime 1</option>	
				<option value="/M2M/Switch/Cycles 1 Port">Indicator - Port - Cycles 1</option>	
				
				<option value="/M2M/Switch/Value 2 Port">Indicator - Port - Value2</option>
				<option value="/M2M/Switch/Runtime 2 Port">Indicator - Port - Runtime 2</option>	
				<option value="/M2M/Switch/Cycles 2 Port">Indicator - Port - Cycles 2</option>	
				
				<option value="/M2M/Switch/Value 3 Port">Indicator - Port - Value3</option>
				<option value="/M2M/Switch/Runtime 3 Port">Indicator - Port - Runtime 3</option>	
				<option value="/M2M/Switch/Cycles 3 Port">Indicator - Port - Cycles 3</option>	
				
				<option value="/M2M/Switch/Value 4 Port">Indicator - Port - Value4</option>
				<option value="/M2M/Switch/Runtime 4 Port">Indicator - Port - Runtime 4</option>	
				<option value="/M2M/Switch/Cycles 4 Port">Indicator - Port - Cycles 4</option>	
				
				<option value="/M2M/Switch/Value 5 Port">Indicator - Port - Value5</option>
				<option value="/M2M/Switch/Runtime 5 Port">Indicator - Port - Runtime 5</option>	
				<option value="/M2M/Switch/Cycles 5 Port">Indicator - Port - Cycles 5</option>	
				
				<option value="/M2M/Switch/Value 6 Port">Indicator - Port - Value6</option>
				<option value="/M2M/Switch/Runtime 6 Port">Indicator - Port - Runtime 6</option>	
				<option value="/M2M/Switch/Cycles 6 Port">Indicator - Port - Cycles 6</option>	
				
				<option value="/M2M/Switch/Value 7 Port">Indicator - Port - Value7</option>
				<option value="/M2M/Switch/Runtime 7 Port">Indicator - Port - Runtime 7</option>	
				<option value="/M2M/Switch/Cycles 7 Port">Indicator - Port - Cycles 7</option>	
				<option value="/M2M/Switch/Value 8 Port">Indicator - Port - Value8</option>
				<option value="/M2M/Switch/Value 9 Port">Indicator - Port - Value9</option>
				<option value="/M2M/Switch/Bank 0 Port">Indicator - Port - Bank0</option>	
				<option value="/M2M/Switch/Bank 1 Port">Indicator - Port - Bank1</option>
				<option value="/M2M/Switch/Bank 2 Port">Indicator - Port - Bank2</option>
				
			<option value="/M2M/Switch/Value 0 Starboard">Indicator - Starboard - Value0</option>
				<option value="/M2M/Switch/Runtime 0 Starboard">Indicator - Starboard - Runtime 0</option>	
				<option value="/M2M/Switch/Cycles 0 Starboard">Indicator - Starboard - Cycles 0</option>
				
				<option value="/M2M/Switch/Value 1 Starboard">Indicator - Starboard - Value1</option>
				<option value="/M2M/Switch/Runtime 1 Starboard">Indicator - Starboard - Runtime 1</option>	
				<option value="/M2M/Switch/Cycles 1 Starboard">Indicator - Starboard - Cycles 1</option>	
				
				<option value="/M2M/Switch/Value 2 Starboard">Indicator - Starboard - Value2</option>
				<option value="/M2M/Switch/Runtime 2 Starboard">Indicator - Starboard - Runtime 2</option>	
				<option value="/M2M/Switch/Cycles 2 Starboard">Indicator - Starboard - Cycles 2</option>	
				
				<option value="/M2M/Switch/Value 3 Starboard">Indicator - Starboard - Value3</option>
				<option value="/M2M/Switch/Runtime 3 Starboard">Indicator - Starboard - Runtime 3</option>	
				<option value="/M2M/Switch/Cycles 3 Starboard">Indicator - Starboard - Cycles 3</option>	
				
				<option value="/M2M/Switch/Value 4 Starboard">Indicator - Starboard - Value4</option>
				<option value="/M2M/Switch/Runtime 4 Starboard">Indicator - Starboard - Runtime 4</option>	
				<option value="/M2M/Switch/Cycles 4 Starboard">Indicator - Starboard - Cycles 4</option>	
				
				<option value="/M2M/Switch/Value 5 Starboard">Indicator - Starboard - Value5</option>
				<option value="/M2M/Switch/Runtime 5 Starboard">Indicator - Starboard - Runtime 5</option>	
				<option value="/M2M/Switch/Cycles 5 Starboard">Indicator - Starboard - Cycles 5</option>	
				
				<option value="/M2M/Switch/Value 6 Starboard">Indicator - Starboard - Value6</option>
				<option value="/M2M/Switch/Runtime 6 Starboard">Indicator - Starboard - Runtime 6</option>	
				<option value="/M2M/Switch/Cycles 6 Starboard">Indicator - Starboard - Cycles 6</option>	
				
				<option value="/M2M/Switch/Value 7 Starboard">Indicator - Starboard - Value7</option>
				<option value="/M2M/Switch/Runtime 7 Starboard">Indicator - Starboard - Runtime 7</option>	
				<option value="/M2M/Switch/Cycles 7 Starboard">Indicator - Starboard - Cycles 7</option>
				<option value="/M2M/Switch/Value 8 Starboard">Indicator - Starboard - Value8</option>
				<option value="/M2M/Switch/Value 9 Starboard">Indicator - Starboard - Value9</option>				
				<option value="/M2M/Switch/Bank 0 Starboard">Indicator - Starboard - Bank0</option>	
				<option value="/M2M/Switch/Bank 1 Starboard">Indicator - Starboard - Bank1</option>
				<option value="/M2M/Switch/Bank 2 Starboard">Indicator - Starboard - Bank2</option>
				
				<option value="/M2M/Switch/Value 0 Center">Indicator - Center - Value0</option>
				<option value="/M2M/Switch/Runtime 0 Center">Indicator - Center - Runtime 0</option>	
				<option value="/M2M/Switch/Cycles 0 Center">Indicator - Center - Cycles 0</option>
				
				<option value="/M2M/Switch/Value 1 Center">Indicator - Center - Value1</option>
				<option value="/M2M/Switch/Runtime 1 Center">Indicator - Center - Runtime 1</option>	
				<option value="/M2M/Switch/Cycles 1 Center">Indicator - Center - Cycles 1</option>	
				
				<option value="/M2M/Switch/Value 2 Center">Indicator - Center - Value2</option>
				<option value="/M2M/Switch/Runtime 2 Center">Indicator - Center - Runtime 2</option>	
				<option value="/M2M/Switch/Cycles 2 Center">Indicator - Center - Cycles 2</option>	
				
				<option value="/M2M/Switch/Value 3 Center">Indicator - Center - Value3</option>
				<option value="/M2M/Switch/Runtime 3 Center">Indicator - Center - Runtime 3</option>	
				<option value="/M2M/Switch/Cycles 3 Center">Indicator - Center - Cycles 3</option>	
				
				<option value="/M2M/Switch/Value 4 Center">Indicator - Center - Value4</option>
				<option value="/M2M/Switch/Runtime 4 Center">Indicator - Center - Runtime 4</option>	
				<option value="/M2M/Switch/Cycles 4 Center">Indicator - Starboard - Cycles 4</option>	
				
				<option value="/M2M/Switch/Value 5 Center">Indicator - Center - Value5</option>
				<option value="/M2M/Switch/Runtime 5 Center">Indicator - Center - Runtime 5</option>	
				<option value="/M2M/Switch/Cycles 5 Center">Indicator - Center - Cycles 5</option>	
				
				<option value="/M2M/Switch/Value 6 Center">Indicator - Center - Value6</option>
				<option value="/M2M/Switch/Runtime 6 Center">Indicator - Center - Runtime 6</option>	
				<option value="/M2M/Switch/Cycles 6 Center">Indicator - Center - Cycles 6</option>	
				
				<option value="/M2M/Switch/Value 7 Center">Indicator - Center - Value7</option>
				<option value="/M2M/Switch/Runtime 7 Center">Indicator - Center - Runtime 7</option>	
				<option value="/M2M/Switch/Cycles 7 Center">Indicator - Center - Cycles 7</option>	
				<option value="/M2M/Switch/Value 8 Center">Indicator - Center - Value8</option>
				<option value="/M2M/Switch/Value 9 Center">Indicator - Center - Value9</option>	
				<option value="/M2M/Switch/Bank 0 Center">Indicator - Center - Bank0</option>	
				<option value="/M2M/Switch/Bank 1 Center">Indicator - Center - Bank1</option>
				<option value="/M2M/Switch/Bank 2 Center">Indicator - Center - Bank2</option>				
			
			
				<option value="/General/Engine Started">Status - Engine Started</option>
				<option value="/General/Engine Stopped">Status - Engine Stopped</option>
				<option value="/General/Diesel Tank Level">Status - Diesel Tank Level %</option>
				<option value="/General/Water Tank1">Status - Water Tank1 Level%</option>
				<option value="/General/Water Tank2">Status - Water Tank2 Level%</option>
				<option value="/M2M/Instruments/Tracker Battery Voltage">Status - Tracker Battery Voltage</option>			
				<option value="/General/Heartbeat">Status - SeaSmart Heartbeat</option>
				
				
				<option value="/General/Sessions">Status - SeaSmart Session</option>
				<option value="/General/Status">Status - SeaSmart records posted</option>
				
				<option value="/Cellular/DB_Strength">Status - Cellular Strength</option>
				<option value="/Cellular/Connect_Status">Status - Cellular Connect Status</option>		
				
				
				
				
				<option value="/Weather/Sunrise">Status - Sunrise</option>
				<option value="/Weather/Sunrise">Status - Sunset</option>
				</select>
				<!-- <span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span> -->
			</div>
			</div>
			
			
			
			
						<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="PGNTypeSource">Source</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="PGNTypeSource" name="PGNTypeSource" onchange="ChangedPGNSource(this)";>
					  <option value="0">Any</option>
					  <option value="1">1</option>
					  <option value="2">2</option>
			          </select>		
			</div>
		</div>  
			
				<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="EventUnits">Units</label> 
			 <div class="col-sm-6"> 
				<select class="form-control "  id="EventUnits" name="EventUnits">
				
			<!-- <select class="auto-style5" id="DialUnits" style="width: 100px; height: 25px" onchange="updateDialUnits(this);"> -->
            <option value="0">Fahrenheit</option>
            <option value="1">Celsius</option>
            <option value="2">Kelvin</option>
            <option value="3">- - -</option>
            <option value="4">Knots</option>
            <option value="5">MPH</option>
            <option value="6">KPH</option>
            <option value="7">Meters/sec</option>
            <option value="8">PSI</option>
            <option value="9">KPASCAL</option>
            <option value="10">INHG</option>
            <option value="11">- - -</option>
            <option value="12">TRUE</option>
            <option value="13">MAGNETIC</option>
            <option value="14">- - -</option>
            <option value="15">- - -</option>
            <option value="16">DEGREES</option>
            <option value="17">Radians</option>
            <option value="18">Gallons/hr</option>
            <option value="19">Liters/hr</option>
            <option value="20">Liters</option>
            <option value="21">Gallons</option>
            <option value="22">CubicMeter</option>
            <option value="23">Hertz</option>
            <option value="24">RPM</option>
            <option value="25">RPS</option>
            <option value="26">%</option>
            <option value="27">Volts</option>
			<option value="28">Amps</option> 
			<option value="29">Watts</option>
			<option value="30">Watts/hr</option>
			<option value="31">kWatts/hr</option>
			<option value="32">Feet</option>				
			<option value="33">Meters</option>			
			<option value="34">Mile</option>
			<option value="35">Nautical Mile</option>
			<option value="36">Fathoms</option>
			<option value="37">Time H:M:S</option>
			<option value="38">Date M.D.Y H:M:S</option>
			<option value="39">Hours</option>
			<option value="40">Indicator</option>
			<option value="41">Switch</option>
			<option value="42">Dimmer Value</option>
			<option value="43">Dimmer Status</option>
			<option value="44">Volts 10X</option>
			<option value="45">millimeters</option>
			<option value="46">inches</option>
			<option value="47">Undefined</option>

            </select>
				
				
				
			</div>
		</div>
		
				<div class="form-group" style="width:400px; height:40px;"  id="alertlow_group">		
			 <label class="control-label col-sm-2" for="EventMin">Alert Low</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="EventMin" placeholder="off">
			

			<!--
			<input id="timepickerlow" type="text" class="form-control input-small">
            <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>		-->	
			</div>
		</div>  
		
		
	
		
			<div class="form-group" style="width:400px; height:40px;"  id="alertstarttime_group">	
			 <label class="control-label col-sm-2" for="alertstarttime">Start Time</label> 
			 <div class="col-sm-6"> 

			
				<input size="12" style="width:200px;" type="text"  id="alertstarttime" readonly class="alertstart" onchange="ChangedAlertStartDate();">
			<!--
			<input id="timepickerlow" type="text" class="form-control input-small">
            <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>		-->	
			</div>
		</div>  
		
		
				<div class="form-group" style="width:400px; height:40px;" id="alerthigh_group">		
			 <label class="control-label col-sm-2" for="EventMax">Alert High</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="EventMax" placeholder="off">
		<!--	<input id="timepickerhigh" type="text" class="form-control input-small">
            <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span> -->

			</div>
		</div>  
		
				<div class="form-group" style="width:400px; height:40px;" id="alertendtime_group">		
			 <label class="control-label col-sm-2" for="alertendtime">Stop Time</label> 
			 <div class="col-sm-6"> 

		<!--	<input id="timepickerhigh" type="text" class="form-control input-small">
            <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span> -->
			<input size="12" style="width:200px;" type="text"  id="alertendtime" readonly class="alertend" onchange="ChangedAlertEndDate();">
			</div>
		</div>  
		
		
		
			<div class="form-group" style="width:400px; height:40px;" id="alerttimezone_group">	
			<label class="control-label col-sm-2" for="AlertTimeZoneId">Time zone</label>
			<div class="col-sm-6">
							
			<select class="form-control" id="AlertTimeZoneId" name="AlertTimeZoneId" style="" onchange="ChangedAlertTimeZone(this);">
			<option value="-720">(UTC-12:00) International Date Line West</option>
			<option value="-660">(UTC-11:00) Coordinated Universal Time-11</option>
			<option value="-600">(UTC-10:00) Hawaii</option>
			<option value="-540">(UTC-09:00) Alaska</option>
			<option value="-480">(UTC-08:00) Baja California</option>
			<option value="-480">(UTC-08:00) Pacific Time (US and Canada)</option>
			<option value="-420">(UTC-07:00) Arizona</option>
			<option value="-420">(UTC-07:00) Chihuahua, La Paz, Mazatlan</option>
			<option value="-420">(UTC-07:00) Mountain Time (US and Canada)</option>
			<option value="-360">(UTC-06:00) Central America</option>
			<option value="-360">(UTC-06:00) Central Time (US and Canada)</option>
			<option value="-360">(UTC-06:00) Guadalajara, Mexico City, Monterrey</option>
			<option value="-360">(UTC-06:00) Saskatchewan</option>
			<option value="-300">(UTC-05:00) Bogota, Lima, Quito, Rio Branco</option>
			<option value="-300">(UTC-05:00) Eastern Time (US and Canada)</option>
			<option value="-300">(UTC-05:00) Indiana (East)</option>
			<option value="-270">(UTC-04:30) Caracas</option>
			<option value="-240">(UTC-04:00) Asuncion</option>
			<option value="-240">(UTC-04:00) Atlantic Time (Canada)</option>
			<option value="-240">(UTC-04:00) Cuiaba</option>
			<option value="-240">(UTC-04:00) Georgetown, La Paz, Manaus, San Juan</option>
			<option value="-240">(UTC-04:00) Santiago</option>
			<option value="-210">(UTC-03:30) Newfoundland</option>
			<option value="-180">(UTC-03:00) Brasilia</option>
			<option value="-180">(UTC-03:00) Buenos Aires</option>
			<option value="-180">(UTC-03:00) Cayenne, Fortaleza</option>
			<option value="-180">(UTC-03:00) Greenland</option>
			<option value="-180">(UTC-03:00) Montevideo</option>
			<option value="-180">(UTC-03:00) Salvador</option>
			<option value="-120">(UTC-02:00) Coordinated Universal Time-02</option>
			<option value="-120">(UTC-02:00) Mid-Atlantic - Old</option>
			<option value="-60">(UTC-01:00) Azores</option>
			<option value="-60">(UTC-01:00) Cape Verde Is.</option>
			<option value="0">(UTC) Casablanca</option>
			<option selected="selected" value="-0">(LOCAL) Local Time</option>
			<option value="0">(UTC) Coordinated Universal Time</option>
			<option value="0">(UTC) Dublin, Edinburgh, Lisbon, London</option>
			<option value="0">(UTC) Monrovia, Reykjavik</option>
			<option value="60">(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</option>
			<option value="60">(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</option>
			<option value="60">(UTC+01:00) Brussels, Copenhagen, Madrid, Paris</option>
			<option value="60">(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb</option>
			<option value="60">(UTC+01:00) West Central Africa</option>
			<option value="60">(UTC+01:00) Windhoek</option>
			<option value="120">(UTC+02:00) Amman</option>
			<option value="120">(UTC+02:00) Athens, Bucharest</option>
			<option value="120">(UTC+02:00) Beirut</option>
			<option value="120">(UTC+02:00) Cairo</option>
			<option value="120">(UTC+02:00) Damascus</option>
			<option value="120">(UTC+02:00) E. Europe</option>
			<option value="120">(UTC+02:00) Harare, Pretoria</option>
			<option value="120">(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius</option>
			<option value="120">(UTC+02:00) Istanbul</option>
			<option value="120">(UTC+02:00) Jerusalem</option>
			<option value="120">(UTC+02:00) Tripoli</option>
			<option value="180">(UTC+03:00) Baghdad</option>
			<option value="180">(UTC+03:00) Kaliningrad, Minsk</option>
			<option value="180">(UTC+03:00) Kuwait, Riyadh</option>
			<option value="180">(UTC+03:00) Nairobi</option>
			<option value="210">(UTC+03:30) Tehran</option>
			<option value="240">(UTC+04:00) Abu Dhabi, Muscat</option>
			<option value="240">(UTC+04:00) Baku</option>
			<option value="240">(UTC+04:00) Moscow, St. Petersburg, Volgograd</option>
			<option value="240">(UTC+04:00) Port Louis</option>
			<option value="240">(UTC+04:00) Tbilisi</option>
			<option value="240">(UTC+04:00) Yerevan</option>
			<option value="240">(UTC+04:30) Kabul</option>
			<option value="300">(UTC+05:00) Ashgabat, Tashkent</option>
			<option value="300">(UTC+05:00) Islamabad, Karachi</option>
			<option value="330">(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi</option>
			<option value="330">(UTC+05:30) Sri Jayawardenepura</option>
			<option value="345">(UTC+05:45) Kathmandu</option>
			<option value="360">(UTC+06:00) Astana</option>
			<option value="360">(UTC+06:00) Dhaka</option>
			<option value="360">(UTC+06:00) Ekaterinburg</option>
			<option value="390">(UTC+06:30) Yangon (Rangoon)</option>
			<option value="420">(UTC+07:00) Bangkok, Hanoi, Jakarta</option>
			<option value="420">(UTC+07:00) Novosibirsk</option>
			<option value="480">(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi</option>
			<option value="480">(UTC+08:00) Krasnoyarsk</option>
			<option value="480">(UTC+08:00) Kuala Lumpur, Singapore</option>
			<option value="480">(UTC+08:00) Perth</option>
			<option value="480">(UTC+08:00) Taipei</option>
			<option value="480">(UTC+08:00) Ulaanbaatar</option>
			<option value="540">(UTC+09:00) Irkutsk</option>
			<option value="540">(UTC+09:00) Osaka, Sapporo, Tokyo</option>
			<option value="540">(UTC+09:00) Seoul</option>
			<option value="540">(UTC+09:30) Adelaide</option>
			<option value="540">(UTC+09:30) Darwin</option>
			<option value="600">(UTC+10:00) Brisbane</option>
			<option value="600">(UTC+10:00) Canberra, Melbourne, Sydney</option>
			<option value="600">(UTC+10:00) Guam, Port Moresby</option>
			<option value="600">(UTC+10:00) Hobart</option>
			<option value="600">(UTC+10:00) Yakutsk</option>
			<option value="660">(UTC+11:00) Solomon Is., New Caledonia</option>
			<option value="660">(UTC+11:00) Vladivostok</option>
			<option value="720">(UTC+12:00) Auckland, Wellington</option>
			<option value="720">(UTC+12:00) Coordinated Universal Time+12</option>
			<option value="720">(UTC+12:00) Fiji</option>
			<option value="720">(UTC+12:00) Magadan</option>
			<option value="720">(UTC+12:00) Petropavlovsk-Kamchatsky - Old</option>
			<option value="780">(UTC+13:00) Nukualofa</option>
			<option value="780">(UTC+13:00) Samoa</option>
			<option value="840">(UTC+14:00) Kiritimati Island</option>
			</select>
			<span class="field-validation-valid" data-valmsg-for="TimeZoneId" data-valmsg-replace="true"></span>
			</div>
		</div>
		
		
		
		
		
		
		
		
		
					<div class="form-group" style="width:400px; height:40px;" >
			 <label class="control-label col-sm-2" for="EventTrigger">Alert Mode</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventTrigger" name="EventTrigger" onchange="ChangedEventTrigger(this);">
					<option value="disabled">Disabled</option>
					<option value="alarm">Alarm</option>
					<option value="alarmemail">Alarm Email</option>
					<option value="alarmsms">Alarm SMS</option>
					<option value="alarmemailsms">Alarm Email/SMS</option>
					<option value="alarmswitchon">Alarm Switch On</option>
					<option value="alarmswitchoff">Alarm Switch Off</option>
					<option value="alarmleddimmer">Dimmer Control</option>					
					<option value="alarmrgbdimmer">Dimmer Color</option>
					<option value="alarmblinkdimmer">Dimmer Blink ON</option>		
					<option value="alarmblinkdimmeronoff">Dimmer Blink OFF-ON-OFF</option>	
					<option value="alarmdimmeroverride">Dimmer Override</option>	
				</select>		
			</div>
		</div>  
		
		<div class="form-group" style="width:400px; height:40px;"  id="alertdimmer_group">	
			<div>
				<label class="control-label col-sm-2" for="LEDdimmer">Dimmer Action </label> 
				 <div class="col-sm-6">
						<input  id="LEDdimmer"  type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="0"   style="width: 180px; ">
						<output for=LEDdimmer id=LEDdimmervalue>0</output>  
				 </div>
			 </div>
		</div>

		<div class="form-group" style="width:400px; height:40px;"  id="alertdimmerdefault_group">	
			 <div>
				 <label class="control-label col-sm-2" for="LEDdimmerDefault">Default Dimmer </label> 
				 <div class="col-sm-6">
						<input  id="LEDdimmerDefault"  type="text" data-slider-min="0" data-slider-max="101" data-slider-step="1" data-slider-value="101"   style="width: 180px; ">
						<output for=LEDdimmerDefault id=LEDdimmerDefaultvalue>101</output>  
				</div>
			</div>
		</div>  
		 
		<div class="form-group" style="width:400px; height:80px;"  id="alertcolor_group">		
			 <label class="control-label col-sm-2" for="LEDcolor">Active Dimmer Color</label> 
			 
			 <!--
			 <div class="col-sm-6">
				<input type="text" id="LEDcolor" value="000000" name="LED-color" class="pick-a-color form-control" style="width:140px;" > 
			 </div>
			 -->
			 
				 <!-- 
			<div class="col-sm-6" id="dimmercolor_select"  style="width:140px;">		
			 

		
			</div>
			  -->
			<div class="col-sm-6"> 
				<select class="form-control" style="height:30px; width:100px;" id="LEDcolorDD"  onchange="setDimmerButtonColor(this.selectedIndex);" >
					
					
			    </select>	

				<input type="text" class="form-control" style="height:26px; width:100px;" id="dimmerColorText" placeholder="">'

				
			</div>
			 
			 
				
			 
			 		
			 <label class="control-label col-sm-2" for="LEDDefaultcolorDD">Default Dimmer Color</label> 
			 
			 <!--
			 <div class="col-sm-6">
				<input type="text" id="LEDcolor" value="000000" name="LED-color" class="pick-a-color form-control" style="width:140px;" > 
			 </div>
			 -->
			 
				 <!-- 
			<div class="col-sm-6" id="dimmercolor_select"  style="width:140px;">		
			 

		
			</div>
			  -->
			<div class="col-sm-6"> 
				<select class="form-control" style="height:30px; width:100px;" id="LEDDefaultcolorDD"  onchange="setDefaultDimmerButtonColor(this.selectedIndex);" >
					
					
			    </select>	

				<input type="text" class="form-control" style="height:26px; width:100px;" id="dimmerDefaultColorText" placeholder="">'

				
			</div>
			 
			 
		</div>  
			 
			 
			 				<div class="form-group" style="width:400px; height:40px;"  id="alertflash_group">		
			 <label class="control-label col-sm-2" for="DimmerFlash">Dimmer Flash</label> 
			 <div class="col-sm-6">
			 
						<select class="form-control" id="DimmerFlash"  onchange="setDimmerFlash(this);" name="D3" >
				  <option value="0">Disable</option>
				  <option value="1">1 Hz</option>
				  <option value="2">2 Hz</option>
				  <option value="3">3 Hz</option>
				  <option value="4">4 Hz</option>
				  <option value="5">5 Hz</option>
				  <option value="6">6 Hz</option>
				  <option value="7">7 Hz</option>
				  <option value="8">8 Hz</option>
				  <option value="9">9 Hz</option>
				  <option value="10">10 Hz</option>
				  <option value="11">11 Hz</option>
				  <option value="12">12 Hz</option>
				  <option value="13">13 Hz</option>
				  <option value="14">14 Hz</option>
				  <option value="15">15 Hz</option>
				</select>
			 
				</div>
			</div>  		 
			 
			 			 				<div class="form-group" style="width:400px; height:40px;"  id="alertduty_group">		
			 <label class="control-label col-sm-2" for="DimmerDuty">Dimmer Duty</label> 
			 <div class="col-sm-6">
			 
						<select class="form-control" id="DimmerDuty"  onchange="setDimmerDuty(this);" name="D3" >
			  <option value="0">Disable</option>
				  <option value="1">5 %</option>
				  <option value="2">15 %</option>
				  <option value="3">20 %</option>
				  <option value="4">25 %</option>
				  <option value="5">30 %</option>
				  <option value="6">35 %</option>
				  <option value="7">45 %</option>
				  <option value="8">50 %</option>
				  <option value="9">55 %</option>
				  <option value="10">60 %</option>
				  <option value="11">65 %</option>
				  <option value="12">75 %</option>
				  <option value="13">80 %</option>
				  <option value="14">85 %</option>
				  <option value="15">95 %</option>
				</select>
			 
				</div>
			</div> 
			 
			 
			 			<div class="form-group" style="width:400px; height:40px;" id="alertaction_switch">	
			<label class="control-label col-sm-2" for="ActionSwitch">Switch</label>
			<div class="col-sm-6">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="ActionSwitch" name="ActionSwitch" onchange="ChangedActionSwitch(this);">
				
				
			
				<option value="/M2M/Switch/Value 0 Port">Indicator - Port - Value0</option>
				<option value="/M2M/Switch/Runtime 0 Port">Indicator - Port - Runtime 0</option>	
				<option value="/M2M/Switch/Cycles 0 Port">Indicator - Port - Cycles 0</option>
				
				<option value="/M2M/Switch/Value 1 Port">Indicator - Port - Value1</option>
				<option value="/M2M/Switch/Runtime 1 Port">Indicator - Port - Runtime 1</option>	
				<option value="/M2M/Switch/Cycles 1 Port">Indicator - Port - Cycles 1</option>	
				
				<option value="/M2M/Switch/Value 2 Port">Indicator - Port - Value2</option>
				<option value="/M2M/Switch/Runtime 2 Port">Indicator - Port - Runtime 2</option>	
				<option value="/M2M/Switch/Cycles 2 Port">Indicator - Port - Cycles 2</option>	
				
				<option value="/M2M/Switch/Value 3 Port">Indicator - Port - Value3</option>
				<option value="/M2M/Switch/Runtime 3 Port">Indicator - Port - Runtime 3</option>	
				<option value="/M2M/Switch/Cycles 3 Port">Indicator - Port - Cycles 3</option>	
				
				<option value="/M2M/Switch/Value 4 Port">Indicator - Port - Value4</option>
				<option value="/M2M/Switch/Runtime 4 Port">Indicator - Port - Runtime 4</option>	
				<option value="/M2M/Switch/Cycles 4 Port">Indicator - Port - Cycles 4</option>	
				
				<option value="/M2M/Switch/Value 5 Port">Indicator - Port - Value5</option>
				<option value="/M2M/Switch/Runtime 5 Port">Indicator - Port - Runtime 5</option>	
				<option value="/M2M/Switch/Cycles 5 Port">Indicator - Port - Cycles 5</option>	
				
				<option value="/M2M/Switch/Value 6 Port">Indicator - Port - Value6</option>
				<option value="/M2M/Switch/Runtime 6 Port">Indicator - Port - Runtime 6</option>	
				<option value="/M2M/Switch/Cycles 6 Port">Indicator - Port - Cycles 6</option>	
				
				<option value="/M2M/Switch/Value 7 Port">Indicator - Port - Value7</option>
				<option value="/M2M/Switch/Runtime 7 Port">Indicator - Port - Runtime 7</option>	
				<option value="/M2M/Switch/Cycles 7 Port">Indicator - Port - Cycles 7</option>
				<option value="/M2M/Switch/Value 8 Port">Indicator - Port - Value8</option>
				<option value="/M2M/Switch/Value 9 Port">Indicator - Port - Value9</option>
				<option value="/M2M/Switch/Bank 0 Port">Indicator - Port - Bank0</option>	
				<option value="/M2M/Switch/Bank 1 Port">Indicator - Port - Bank1</option>
				<option value="/M2M/Switch/Bank 2 Port">Indicator - Port - Bank2</option>
				
				<option value="/M2M/Switch/Value 0 Starboard">Indicator - Starboard - Value0</option>
				<option value="/M2M/Switch/Runtime 0 Starboard">Indicator - Starboard - Runtime 0</option>	
				<option value="/M2M/Switch/Cycles 0 Starboard">Indicator - Starboard - Cycles 0</option>
				
				<option value="/M2M/Switch/Value 1 Starboard">Indicator - Starboard - Value1</option>
				<option value="/M2M/Switch/Runtime 1 Starboard">Indicator - Starboard - Runtime 1</option>	
				<option value="/M2M/Switch/Cycles 1 Starboard">Indicator - Starboard - Cycles 1</option>	
				
				<option value="/M2M/Switch/Value 2 Starboard">Indicator - Starboard - Value2</option>
				<option value="/M2M/Switch/Runtime 2 Starboard">Indicator - Starboard - Runtime 2</option>	
				<option value="/M2M/Switch/Cycles 2 Starboard">Indicator - Starboard - Cycles 2</option>	
				
				<option value="/M2M/Switch/Value 3 Starboard">Indicator - Starboard - Value3</option>
				<option value="/M2M/Switch/Runtime 3 Starboard">Indicator - Starboard - Runtime 3</option>	
				<option value="/M2M/Switch/Cycles 3 Starboard">Indicator - Starboard - Cycles 3</option>	
				
				<option value="/M2M/Switch/Value 4 Starboard">Indicator - Starboard - Value4</option>
				<option value="/M2M/Switch/Runtime 4 Starboard">Indicator - Starboard - Runtime 4</option>	
				<option value="/M2M/Switch/Cycles 4 Starboard">Indicator - Starboard - Cycles 4</option>	
				
				<option value="/M2M/Switch/Value 5 Starboard">Indicator - Starboard - Value5</option>
				<option value="/M2M/Switch/Runtime 5 Starboard">Indicator - Starboard - Runtime 5</option>	
				<option value="/M2M/Switch/Cycles 5 Starboard">Indicator - Starboard - Cycles 5</option>	
				
				<option value="/M2M/Switch/Value 6 Starboard">Indicator - Starboard - Value6</option>
				<option value="/M2M/Switch/Runtime 6 Starboard">Indicator - Starboard - Runtime 6</option>	
				<option value="/M2M/Switch/Cycles 6 Starboard">Indicator - Starboard - Cycles 6</option>	
				
				<option value="/M2M/Switch/Value 7 Starboard">Indicator - Starboard - Value7</option>
				<option value="/M2M/Switch/Runtime 7 Starboard">Indicator - Starboard - Runtime 7</option>	
				<option value="/M2M/Switch/Cycles 7 Starboard">Indicator - Starboard - Cycles 7</option>
				<option value="/M2M/Switch/Value 8 Starboard">Indicator - Starboard - Value8</option>
				<option value="/M2M/Switch/Value 9 Starboard">Indicator - Starboard - Value9</option>				
				<option value="/M2M/Switch/Bank 0 Starboard">Indicator - Starboard - Bank0</option>	
				<option value="/M2M/Switch/Bank 1 Starboard">Indicator - Starboard - Bank1</option>
				<option value="/M2M/Switch/Bank 2 Starboard">Indicator - Starboard - Bank2</option>
				
				<option value="/M2M/Switch/Value 0 Center">Indicator - Center - Value0</option>
				<option value="/M2M/Switch/Runtime 0 Center">Indicator - Center - Runtime 0</option>	
				<option value="/M2M/Switch/Cycles 0 Center">Indicator - Center - Cycles 0</option>
				
				<option value="/M2M/Switch/Value 1 Center">Indicator - Center - Value1</option>
				<option value="/M2M/Switch/Runtime 1 Center">Indicator - Center - Runtime 1</option>	
				<option value="/M2M/Switch/Cycles 1 Center">Indicator - Center - Cycles 1</option>	
				
				<option value="/M2M/Switch/Value 2 Center">Indicator - Center - Value2</option>
				<option value="/M2M/Switch/Runtime 2 Center">Indicator - Center - Runtime 2</option>	
				<option value="/M2M/Switch/Cycles 2 Center">Indicator - Center - Cycles 2</option>	
				
				<option value="/M2M/Switch/Value 3 Center">Indicator - Center - Value3</option>
				<option value="/M2M/Switch/Runtime 3 Center">Indicator - Center - Runtime 3</option>	
				<option value="/M2M/Switch/Cycles 3 Center">Indicator - Center - Cycles 3</option>	
				
				<option value="/M2M/Switch/Value 4 Center">Indicator - Center - Value4</option>
				<option value="/M2M/Switch/Runtime 4 Center">Indicator - Center - Runtime 4</option>	
				<option value="/M2M/Switch/Cycles 4 Center">Indicator - Starboard - Cycles 4</option>	
				
				<option value="/M2M/Switch/Value 5 Center">Indicator - Center - Value5</option>
				<option value="/M2M/Switch/Runtime 5 Center">Indicator - Center - Runtime 5</option>	
				<option value="/M2M/Switch/Cycles 5 Center">Indicator - Center - Cycles 5</option>	
				
				<option value="/M2M/Switch/Value 6 Center">Indicator - Center - Value6</option>
				<option value="/M2M/Switch/Runtime 6 Center">Indicator - Center - Runtime 6</option>	
				<option value="/M2M/Switch/Cycles 6 Center">Indicator - Center - Cycles 6</option>	
				
				<option value="/M2M/Switch/Value 7 Center">Indicator - Center - Value7</option>
				<option value="/M2M/Switch/Runtime 7 Center">Indicator - Center - Runtime 7</option>	
				<option value="/M2M/Switch/Cycles 7 Center">Indicator - Center - Cycles 7</option>	
				<option value="/M2M/Switch/Value 8 Center">Indicator - Center - Value8</option>
				<option value="/M2M/Switch/Value 9 Center">Indicator - Center - Value9</option>	
				<option value="/M2M/Switch/Bank 0 Center">Indicator - Center - Bank0</option>	
				<option value="/M2M/Switch/Bank 1 Center">Indicator - Center - Bank1</option>
				<option value="/M2M/Switch/Bank 2 Center">Indicator - Center - Bank2</option>				
			
			
				
				</select>
				<!-- <span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span> -->
			</div>
			</div>
			 
			 
			 <div class="form-group" style="width:400px; height:40px;" id="alertaction_dimmer">	
			<label class="control-label col-sm-2" for="ActionDimmer">Dimmer</label>
			<div class="col-sm-6">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="ActionDimmer" name="ActionDimmer" onchange="ChangedActionDimmer(this);">
				<option value="/M2M/LED Dimmer/Value 0 Zone 0">LED Dimmer - Mesh Zone0 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 1">LED Dimmer - Mesh Zone1 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 2">LED Dimmer - Mesh Zone2 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 3">LED Dimmer - Mesh Zone3 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 4">LED Dimmer - Mesh Zone4 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 5">LED Dimmer - Mesh Zone5 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 6">LED Dimmer - Mesh Zone6 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 7">LED Dimmer - Mesh Zone7 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 8">LED Dimmer - Mesh Zone8 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 9">LED Dimmer - Mesh Zone9 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 10">LED Dimmer - Mesh Zone10 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 11">LED Dimmer - Mesh Zone11 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 12">LED Dimmer - Mesh Zone12 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 13">LED Dimmer - Mesh Zone13 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 14">LED Dimmer - Mesh Zone14 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 15">LED Dimmer - Mesh Zone15 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 16">LED Dimmer - Mesh Zone16 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 17">LED Dimmer - Mesh Zone17 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 18">LED Dimmer - Mesh Zone18 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 19">LED Dimmer - Mesh Zone19 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 20">LED Dimmer - Mesh Zone20 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 21">LED Dimmer - Mesh Zone21 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 22">LED Dimmer - Mesh Zone22 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 23">LED Dimmer - Mesh Zone23 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 24">LED Dimmer - Mesh Zone24 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 25">LED Dimmer - Mesh Zone25 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 26">LED Dimmer - Mesh Zone26 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 27">LED Dimmer - Mesh Zone27 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 28">LED Dimmer - Mesh Zone28 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 29">LED Dimmer - Mesh Zone29 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 30">LED Dimmer - Mesh Zone30 - Value</option>
				<option value="/M2M/LED Dimmer/Value 0 Zone 31">LED Dimmer - Mesh Zone31 - Value</option>


			
			<!--	<option value="/M2M/RGB Dimmer/Value 0 Zone 0">RGB Dimmer - Zone0 - Value0</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 1 Zone 0">RGB Dimmer - Zone0 - Value1</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 2 Zone 0">RGB Dimmer - Zone0 - Value2</option> -->
				<option value="/M2M/RGB Dimmer/Value 3 Zone 0">RGB Dimmer - Zone0 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 0">RGB Dimmer - Zone0 - Control</option> 
				
			<!--	<option value="/M2M/RGB Dimmer/Value 0 Zone 1">RGB Dimmer - Zone1 - Value0</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 1 Zone 1">RGB Dimmer - Zone1 - Value1</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 2 Zone 1">RGB Dimmer - Zone1 - Value2</option> -->
				<option value="/M2M/RGB Dimmer/Value 3 Zone 1">RGB Dimmer - Zone1 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 1">RGB Dimmer - Zone1 - Control</option>
				
			<!--	<option value="/M2M/RGB Dimmer/Value 0 Zone 2">RGB Dimmer - Zone2 - Value0</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 1 Zone 2">RGB Dimmer - Zone2 - Value1</option> -->
			<!--	<option value="/M2M/RGB Dimmer/Value 2 Zone 2">RGB Dimmer - Zone2 - Value2</option> -->
				<option value="/M2M/RGB Dimmer/Value 3 Zone 2">RGB Dimmer - Zone2 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 2">RGB Dimmer - Zone2 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 3">RGB Dimmer - Zone3 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 3">RGB Dimmer - Zone3 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 4">RGB Dimmer - Zone4 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 4">RGB Dimmer - Zone4 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 5">RGB Dimmer - Zone5 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 5">RGB Dimmer - Zone5 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 6">RGB Dimmer - Zone6 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 6">RGB Dimmer - Zone6 - Control</option>
				
				<option value="/M2M/RGB Dimmer/Value 3 Zone 7">RGB Dimmer - Zone7 - Color</option>
				<option value="/M2M/RGB Dimmer/Value 4 Zone 7">RGB Dimmer - Zone7 - Control</option>
				
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 0">LED Dimmer 4 Channel - Zone0 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 0">LED Dimmer 4 Channel - Zone0 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 0">LED Dimmer 4 Channel - Zone0 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 0">LED Dimmer 4 Channel - Zone0 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 0">LED Dimmer 4 Channel - Zone0 - Control</option>
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 1">LED Dimmer 4 Channel - Zone1 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 1">LED Dimmer 4 Channel - Zone1 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 1">LED Dimmer 4 Channel - Zone1 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 1">LED Dimmer 4 Channel - Zone1 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 1">LED Dimmer 4 Channel - Zone1 - Control</option>
				
				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 2">LED Dimmer - 4 Channel Zone2 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 2">LED Dimmer - 4 Channel Zone2 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 2">LED Dimmer - 4 Channel Zone2 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 2">LED Dimmer - 4 Channel Zone2 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 2">LED Dimmer - 4 Channel Zone2 - Control</option>

				<option value="/M2M/LED Dimmer 4 Channel/Value 0 Zone 3">LED Dimmer - 4 Channel Zone2 - Value0</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 1 Zone 3">LED Dimmer - 4 Channel Zone2 - Value1</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 2 Zone 3">LED Dimmer - 4 Channel Zone2 - Value2</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 3 Zone 3">LED Dimmer - 4 Channel Zone2 - Value3</option>
				<option value="/M2M/LED Dimmer 4 Channel/Value 4 Zone 3">LED Dimmer - 4 Channel Zone2 - Control</option>

			
			

				</select>
				<!-- <span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span> -->
			</div>
			</div>
		 
			 <div class="clearfix hidden-md hidden-lg"></div>
		
		
				<div class="form-group" style="width:400px; height:40px;" id="locationcity_group">		
			 <label class="control-label col-sm-2" for="LocationCity">Location City</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="LocationCity" name="LocationCity" onchange="ChangedLocationCity(this);">
					<!-- <option value="latlng">Lat/Lng</option> -->
					<option value="Aberdeen">Aberdeen</option>
					<option value="Abu Dhabi">Abu Dhabi</option>
					<option value="Abu Dhabi">Abu Dhabi</option>
					<option value="Abuja">Abuja</option>
					<option value="Accra">Accra</option>
					<option value="Addis Ababa">Addis Ababa</option>
					<option value="Adelaide">Adelaide</option>
					<option value="Al Jubail">Al Jubail</option>
					<option value="Albany">Albany</option>
					<option value="Albuquerque">Albuquerque</option>
					<option value="Algiers">Algiers</option>
					<option value="Amman">Amman</option>
					<option value="Amsterdam">Amsterdam</option>
					<option value="Anchorage">Anchorage</option>
					<option value="Andorra la Vella">Andorra la Vella</option>
					<option value="Ankara">Ankara</option>
					<option value="Annapolis">Annapolis</option>
					<option value="Antananarivo">Antananarivo</option>
					<option value="Apia">Apia</option>
					<option value="Ashgabat">Ashgabat</option>
					<option value="Asmara">Asmara</option>
					<option value="Astana">Astana</option>
					<option value="Asuncion">Asuncion</option>
					<option value="Athens">Athens</option>
					<option value="Atlanta">Atlanta</option>
					<option value="Augusta">Augusta</option>
					<option value="Austin">Austin</option>
					<option value="Avarua">Avarua</option>
					<option value="Baghdad">Baghdad</option>
					<option value="Baku">Baku</option>
					<option value="Baltimore">Baltimore</option>
					<option value="Bamako">Bamako</option>
					<option value="Bandar Seri Begawan">Bandar Seri Begawan</option>
					<option value="Bangkok">Bangkok</option>
					<option value="Bangui">Bangui</option>
					<option value="Banjul">Banjul</option>
					<option value="Barrow-In-Furness">Barrow-In-Furness</option>
					<option value="Basse-Terre">Basse-Terre</option>
					<option value="Basseterre">Basseterre</option>
					<option value="Baton Rouge">Baton Rouge</option>
					<option value="Beijing">Beijing</option>
					<option value="Beirut">Beirut</option>
					<option value="Belfast">Belfast</option>
					<option value="Belgrade">Belgrade</option>
					<option value="Belmopan">Belmopan</option>
					<option value="Berlin">Berlin</option>
					<option value="Bern">Bern</option>
					<option value="Billings">Billings</option>
					<option value="Birmingham">Birmingham</option>
					<option value="Birmingham">Birmingham</option>
					<option value="Bishkek">Bishkek</option>
					<option value="Bismarck">Bismarck</option>
					<option value="Bissau">Bissau</option>
					<option value="Bloemfontein">Bloemfontein</option>
					<option value="Bogota">Bogota</option>
					<option value="Boise">Boise</option>
					<option value="Bolton">Bolton</option>
					<option value="Boston">Boston</option>
					<option value="Bradford">Bradford</option>
					<option value="Brasilia">Brasilia</option>
					<option value="Bratislava">Bratislava</option>
					<option value="Brazzaville">Brazzaville</option>
					<option value="Bridgeport">Bridgeport</option>
					<option value="Bridgetown">Bridgetown</option>
					<option value="Brisbane">Brisbane</option>
					<option value="Bristol">Bristol</option>
					<option value="Brookings">Brookings, OR</option>
					<option value="Brussels">Brussels</option>
					<option value="Bucharest">Bucharest</option>
					<option value="Bucuresti">Bucuresti</option>
					<option value="Budapest">Budapest</option>
					<option value="Buenos Aires">Buenos Aires</option>
					<option value="Buffalo">Buffalo</option>
					<option value="Bujumbura">Bujumbura</option>
					<option value="Burlington">Burlington</option>
					<option value="Cairo">Cairo</option>
					<option value="Canberra">Canberra</option>
					<option value="Cape Town">Cape Town</option>
					<option value="Caracas">Caracas</option>
					<option value="Cardiff">Cardiff</option>
					<option value="Carson City">Carson City</option>
					<option value="Castries">Castries</option>
					<option value="Cayenne">Cayenne</option>
					<option value="Charleston">Charleston</option>
					<option value="Charlotte">Charlotte</option>
					<option value="Charlotte Amalie">Charlotte Amalie</option>
					<option value="Cheyenne">Cheyenne</option>
					<option value="Chicago">Chicago</option>
					<option value="Chisinau">Chisinau</option>
					<option value="Cleveland">Cleveland</option>
					<option value="Columbia">Columbia</option>
					<option value="Columbus">Columbus</option>
					<option value="Conakry">Conakry</option>
					<option value="Concord">Concord</option>
					<option value="Copenhagen">Copenhagen</option>
					<option value="Cotonou">Cotonou</option>
					<option value="Crawley">Crawley</option>
					<option value="Dakar">Dakar</option>
					<option value="Dallas">Dallas</option>
					<option value="Damascus">Damascus</option>
					<option value="Dammam">Dammam</option>
					<option value="Denver">Denver</option>
					<option value="Des Moines">Des Moines</option>
					<option value="Detroit">Detroit</option>
					<option value="Dhaka">Dhaka</option>
					<option value="Dili">Dili</option>
					<option value="Djibouti">Djibouti</option>
					<option value="Dodoma">Dodoma</option>
					<option value="Doha">Doha</option>
					<option value="Douglas">Douglas</option>
					<option value="Dover">Dover</option>
					<option value="Dublin">Dublin</option>
					<option value="Dushanbe">Dushanbe</option>
					<option value="Edinburgh">Edinburgh</option>
					<option value="El Aaiun">El Aaiun</option>
					<option value="Fargo">Fargo</option>
					<option value="Fort-de-France">Fort-de-France</option>
					<option value="Frankfort">Frankfort</option>
					<option value="Freetown">Freetown</option>
					<option value="Funafuti">Funafuti</option>
					<option value="Gaborone">Gaborone</option>
					<option value="George Town">George Town</option>
					<option value="Georgetown">Georgetown</option>
					<option value="Gibraltar">Gibraltar</option>
					<option value="Glasgow">Glasgow</option>
					<option value="Greenwich">Greenwich</option>
					<option value="Guatemala">Guatemala</option>
					<option value="Hanoi">Hanoi</option>
					<option value="Harare">Harare</option>
					<option value="Harrisburg">Harrisburg</option>
					<option value="Hartford">Hartford</option>
					<option value="Havana">Havana</option>
					<option value="Helena">Helena</option>
					<option value="Helsinki">Helsinki</option>
					<option value="Hobart">Hobart</option>
					<option value="Hong Kong">Hong Kong</option>
					<option value="Honiara">Honiara</option>
					<option value="Honolulu">Honolulu</option>
					<option value="Houston">Houston</option>
					<option value="Indianapolis">Indianapolis</option>
					<option value="Islamabad">Islamabad</option>
					<option value="Jackson">Jackson</option>
					<option value="Jacksonville">Jacksonville</option>
					<option value="Jakarta">Jakarta</option>
					<option value="Jefferson City">Jefferson City</option>
					<option value="Jerusalem">Jerusalem</option>
					<option value="Juba">Juba</option>
					<option value="Jubail">Jubail</option>
					<option value="Juneau">Juneau</option>
					<option value="Kabul">Kabul</option>
					<option value="Kampala">Kampala</option>
					<option value="Kansas City">Kansas City</option>
					<option value="Kathmandu">Kathmandu</option>
					<option value="Khartoum">Khartoum</option>
					<option value="Kiev">Kiev</option>
					<option value="Kigali">Kigali</option>
					<option value="Kingston">Kingston</option>
					<option value="Kingston">Kingston</option>
					<option value="Kingstown">Kingstown</option>
					<option value="Kinshasa">Kinshasa</option>
					<option value="Koror">Koror</option>
					<option value="Kuala Lumpur">Kuala Lumpur</option>
					<option value="Kuwait">Kuwait</option>
					<option value="La Paz">La Paz</option>
					<option value="Lansing">Lansing</option>
					<option value="Las Vegas">Las Vegas</option>
					<option value="Leeds">Leeds</option>
					<option value="Leicester">Leicester</option>
					<option value="Libreville">Libreville</option>
					<option value="Lilongwe">Lilongwe</option>
					<option value="Lima">Lima</option>
					<option value="Lincoln">Lincoln</option>
					<option value="Lisbon">Lisbon</option>
					<option value="Little Rock">Little Rock</option>
					<option value="Liverpool">Liverpool</option>
					<option value="Ljubljana">Ljubljana</option>
					<option value="Lome">Lome</option>
					<option value="London">London</option>
					<option value="Los Angeles">Los Angeles</option>
					<option value="Louisville">Louisville</option>
					<option value="Luanda">Luanda</option>
					<option value="Lusaka">Lusaka</option>
					<option value="Luxembourg">Luxembourg</option>
					<option value="Macau">Macau</option>
					<option value="Madinah">Madinah</option>
					<option value="Madison">Madison</option>
					<option value="Madrid">Madrid</option>
					<option value="Majuro">Majuro</option>
					<option value="Makkah">Makkah</option>
					<option value="Malabo">Malabo</option>
					<option value="Male">Male</option>
					<option value="Mamoudzou">Mamoudzou</option>
					<option value="Managua">Managua</option>
					<option value="Manama">Manama</option>
					<option value="Manchester">Manchester</option>
					<option value="Manchester">Manchester</option>
					<option value="Manila">Manila</option>
					<option value="Maputo">Maputo</option>
					<option value="Maseru">Maseru</option>
					<option value="Masqat">Masqat</option>
					<option value="Mbabane">Mbabane</option>
					<option value="Mecca">Mecca</option>
					<option value="Medina">Medina</option>
					<option value="Memphis">Memphis</option>
					<option value="Mexico">Mexico</option>
					<option value="Miami">Miami</option>
					<option value="Milwaukee">Milwaukee</option>
					<option value="Minneapolis">Minneapolis</option>
					<option value="Minsk">Minsk</option>
					<option value="Mogadishu">Mogadishu</option>
					<option value="Monaco">Monaco</option>
					<option value="Monrovia">Monrovia</option>
					<option value="Montevideo">Montevideo</option>
					<option value="Montgomery">Montgomery</option>
					<option value="Montpelier">Montpelier</option>
					<option value="Moroni">Moroni</option>
					<option value="Moscow">Moscow</option>
					<option value="Moskva">Moskva</option>
					<option value="Mumbai">Mumbai</option>
					<option value="Muscat">Muscat</option>
					<option value="N'Djamena">N'Djamena</option>
					<option value="Nairobi">Nairobi</option>
					<option value="Nashville">Nashville</option>
					<option value="Nassau">Nassau</option>
					<option value="Naypyidaw">Naypyidaw</option>
					<option value="New Delhi">New Delhi</option>
					<option value="New Orleans">New Orleans</option>
					<option value="New York">New York</option>
					<option value="Newark">Newark</option>
					<option value="Newcastle">Newcastle</option>
					<option value="Newcastle Upon Time">Newcastle Upon Time</option>
					<option value="Ngerulmud">Ngerulmud</option>
					<option value="Niamey">Niamey</option>
					<option value="Nicosia">Nicosia</option>
					<option value="Norwich">Norwich</option>
					<option value="Nouakchott">Nouakchott</option>
					<option value="Noumea">Noumea</option>
					<option value="Nuku'alofa">Nuku'alofa</option>
					<option value="Nuuk">Nuuk</option>
					<option value="Oklahoma City">Oklahoma City</option>
					<option value="Olympia">Olympia</option>
					<option value="Omaha">Omaha</option>
					<option value="Oranjestad">Oranjestad</option>
					<option value="Orlando">Orlando</option>
					<option value="Oslo">Oslo</option>
					<option value="Ottawa">Ottawa</option>
					<option value="Ouagadougou">Ouagadougou</option>
					<option value="Oxford">Oxford</option>
					<option value="P'yongyang">P'yongyang</option>
					<option value="Pago Pago">Pago Pago</option>
					<option value="Palikir">Palikir</option>
					<option value="Panama">Panama</option>
					<option value="Papeete">Papeete</option>
					<option value="Paramaribo">Paramaribo</option>
					<option value="Paris">Paris</option>
					<option value="Perth">Perth</option>
					<option value="Philadelphia">Philadelphia</option>
					<option value="Phnom Penh">Phnom Penh</option>
					<option value="Phoenix">Phoenix</option>
					<option value="Pierre">Pierre</option>
					<option value="Plymouth">Plymouth</option>
					<option value="Podgorica">Podgorica</option>
					<option value="Port Louis">Port Louis</option>
					<option value="Port Moresby">Port Moresby</option>
					<option value="Port of Spain">Port of Spain</option>
					<option value="Port-Vila">Port-Vila</option>
					<option value="Port-au-Prince">Port-au-Prince</option>
					<option value="Portland">Portland</option>
					<option value="Portland">Portland</option>
					<option value="Porto-Novo">Porto-Novo</option>
					<option value="Portsmouth">Portsmouth</option>
					<option value="Prague">Prague</option>
					<option value="Praia">Praia</option>
					<option value="Pretoria">Pretoria</option>
					<option value="Pristina">Pristina</option>
					<option value="Providence">Providence</option>
					<option value="Quito">Quito</option>
					<option value="Rabat">Rabat</option>
					<option value="Raleigh">Raleigh</option>
					<option value="Reading">Reading</option>
					<option value="Reykjavik">Reykjavik</option>
					<option value="Richmond">Richmond</option>
					<option value="Riga">Riga</option>
					<option value="Riyadh">Riyadh</option>
					<option value="Road Town">Road Town</option>
					<option value="Rome">Rome</option>
					<option value="Roseau">Roseau</option>
					<option value="Sacramento">Sacramento</option>
					<option value="Saint Helier">Saint Helier</option>
					<option value="Saint Paul">Saint Paul</option>
					<option value="Saint Pierre">Saint Pierre</option>
					<option value="Saipan">Saipan</option>
					<option value="Salem">Salem</option>
					<option value="Salt Lake City">Salt Lake City</option>
					<option value="San Diego">San Diego</option>
					<option value="San Francisco">San Francisco</option>
					<option value="San Jose">San Jose</option>
					<option value="San Juan">San Juan</option>
					<option value="San Marino">San Marino</option>
					<option value="San Salvador">San Salvador</option>
					<option value="Sana">Sana</option>
					<option value="Sana'a">Sana'a</option>
					<option value="Santa Fe">Santa Fe</option>
					<option value="Santiago">Santiago</option>
					<option value="Santo Domingo">Santo Domingo</option>
					<option value="Sao Tome">Sao Tome</option>
					<option value="Sarajevo">Sarajevo</option>
					<option value="Seattle">Seattle</option>
					<option value="Seoul">Seoul</option>
					<option value="Sheffield">Sheffield</option>
					<option value="Singapore">Singapore</option>
					<option value="Sioux Falls">Sioux Falls</option>
					<option value="Skopje">Skopje</option>
					<option value="Sofia">Sofia</option>
					<option value="Southampton">Southampton</option>
					<option value="Springfield">Springfield</option>
					<option value="Sri Jayawardenapura Kotte">Sri Jayawardenapura Kotte</option>
					<option value="St. George's">St. George's</option>
					<option value="St. John's">St. John's</option>
					<option value="St. Peter Port">St. Peter Port</option>
					<option value="Stanley">Stanley</option>
					<option value="Stockholm">Stockholm</option>
					<option value="Sucre">Sucre</option>
					<option value="Suva">Suva</option>
					<option value="Swansea">Swansea</option>
					<option value="Swindon">Swindon</option>
					<option value="Sydney">Sydney</option>
					<option value="T'bilisi">T'bilisi</option>
					<option value="Taipei">Taipei</option>
					<option value="Tallahassee">Tallahassee</option>
					<option value="Tallinn">Tallinn</option>
					<option value="Tarawa">Tarawa</option>
					<option value="Tashkent">Tashkent</option>
					<option value="Tbilisi">Tbilisi</option>
					<option value="Tegucigalpa">Tegucigalpa</option>
					<option value="Tehran">Tehran</option>
					<option value="Thimphu">Thimphu</option>
					<option value="Tirana">Tirana</option>
					<option value="Tirane">Tirane</option>
					<option value="Tokyo">Tokyo</option>
					<option value="Toledo">Toledo</option>
					<option value="Topeka">Topeka</option>
					<option value="Torshavn">Torshavn</option>
					<option value="Trenton">Trenton</option>
					<option value="Tripoli">Tripoli</option>
					<option value="Tunis">Tunis</option>
					<option value="Ulaanbataar">Ulaanbataar</option>
					<option value="Ulan Bator">Ulan Bator</option>
					<option value="Vaduz">Vaduz</option>
					<option value="Valletta">Valletta</option>
					<option value="Vienna">Vienna</option>
					<option value="Vientiane">Vientiane</option>
					<option value="Vilnius">Vilnius</option>
					<option value="Virginia Beach">Virginia Beach</option>
					<option value="W. Indies">W. Indies</option>
					<option value="Warsaw">Warsaw</option>
					<option value="Washington DC">Washington DC</option>
					<option value="Wellington">Wellington</option>
					<option value="Wichita">Wichita</option>
					<option value="Willemstad">Willemstad</option>
					<option value="Wilmington">Wilmington</option>
					<option value="Windhoek">Windhoek</option>
					<option value="Wolverhampton">Wolverhampton</option>
					<option value="Yamoussoukro">Yamoussoukro</option>
					<option value="Yangon">Yangon</option>
					<option value="Yaounde">Yaounde</option>
					<option value="Yaren">Yaren</option>
					<option value="Yerevan">Yerevan</option>
					<option value="Zagreb">Zagreb</option>

	
				</select>		
			</div>
		</div> 
		
		
		
				<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="EventTriggerType">Alert Type</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventTriggerType" name="EventTriggerType" onchange="ChangedEventTriggerType(this);">
					<option value="mean">Mean</option>
					<option value="min">Min</option>
					<option value="max">Max</option>
					<option value="count">Count</option>
					<option value="missing">Missing</option>
					<option value="error">Error</option>
					<option value="timmer">Timmer Once</option>
					<option value="timmerday">Timmer Daily</option>
					<option value="sunriseset">Sun Rise->Set</option>
					<option value="sunsetrise">Sun Set->Rise</option>
					<option value="sunriseexpires">Sun Rise->Expire Time</option>
					<option value="sunsetexpires">Sun Set->Expire Time</option>
					<option value="startsunrise">Start Time -> Sun Rise</option>
					<option value="startsunset">Start Time -> Sun Set</option>
	
				</select>		
			</div>
		</div> 
		
		
		<div class="form-group" style="width:400px; height:40px;" id="alertduration_group">	
			 <label class="control-label col-sm-2" for="EventDuration">Duration</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventDuration" name="EventDuration" onchange="ChangedEventDuration(this);">
					<option selected="selected" value="0">default</option>
					<option value="1">2min</option>
					<option value="2">5min</option>
					<option value="3">10min</option>
					<option value="4">15min</option>
					<option value="5">30min</option>
					<option value="6">1hour</option>
					<option value="7">2hour</option>
					<option value="8">3hour</option>
					<option value="9">4hour</option>
					<option value="10">5hour</option>
					<option value="11">6hour</option>
					<option value="12">7hour</option>
					<option value="13">8hour</option>
					<option value="14">9hour</option>
					<option value="15">10hour</option>
					<option value="16">11hour</option>
					<option value="17">12hour</option>
					<option value="18">1day</option>
					<option value="19">7day</option>
					<option value="20">1month</option>
				
				</select>		
			</div>
		</div>  
		
		<div class="form-group" style="width:400px; height:40px;" id="alertoffset_group">		
			 <label class="control-label col-sm-2" for="EventOffset">Offset</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventOffset" name="EventOffset" onchange="ChangedEventOffset(this);">
					<option value="0">-1day</option>
					<option value="1">-12hour</option>
					<option value="2">-11hour</option>
					<option value="3">-10hour</option>
					<option value="4">-8hour</option>					
					<option value="5">-7hour</option>			
					<option value="6">-6hour</option>
					<option value="7">-5hour</option>
					<option value="8">-4hour</option>					
					<option value="9">-3hour</option>					
					<option value="10">-2hour</option>				
					<option value="11">-1hour</option>					
					<option value="12">-30min</option>					
					<option value="13">-15min</option>					
					<option value="14">-10min</option>					
					<option value="15">-5min</option>					
					<option value="16">-2min</option>					
					<option selected="selected" value="17">default</option>
					<option value="18">2min</option>
					<option value="19">5min</option>
					<option value="20">10min</option>
					<option value="21">15min</option>
					<option value="22">30min</option>
					<option value="23">1hour</option>
					<option value="24">2hour</option>
					<option value="25">3hour</option>
					<option value="26">4hour</option>
					<option value="27">5hour</option>
					<option value="28">6hour</option>
					<option value="29">7hour</option>
					<option value="30">8hour</option>
					<option value="31">9hour</option>
					<option value="32">10hour</option>
					<option value="33">11hour</option>
					<option value="34">12hour</option>
					<option value="35">1day</option>
					<option value="36">7day</option>
					<option value="37">1month</option>
				</select>		
			</div>
		</div> 
		
		<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="EventRemoteMode">Remote Mode</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventRemoteMode" name="EventRemoteMode" onchange="ChangeEventRemoteMode(this);">
					<option value="singleevent">Single Event</option>
					<option value="dailytimmertable">Daily Timmer Table</option>

				</select>		
			</div>
		</div>  
		
			<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="EventInterval">Interval</label> 
			 <div class="col-sm-6"> 
					<select class="form-control "  id="EventInterval" name="EventInterval" onchange="ChangedEventInterval(this);">
					<option value="0">1min</option>
					<option value="1">2min</option>
					<option value="2">5min</option>
					<option value="3">10min</option>
					<option value="4">15min</option>
					<option value="5">30min</option>
					<option value="6">1hour</option>
					<option value="7">4hour</option>
					<option value="8">6hour</option>
					<option value="9">8hour</option>
					<option value="10">12hour</option>
					<option value="11">1day</option>
					<option value="12">7day</option>
					<option value="13">1month</option>
					<option value="255">Once</option>
				</select>		
			</div>
		</div>  
		
		
	
		
			<div class="form-group" style="width:400px; height:40px;" >	
			 <label class="control-label col-sm-2" for="EventName">Subject</label> 
			 <div class="col-sm-5"> 
			<input type="text" class="form-control" id="EventName" placeholder="">	
			</div>
		</div>  
		
					 

		
					<div class="form-group" style="width:400px; height:40px; margin-top:20px;">
				
			<div class="col-sm-offset-4 col-sm-4">
				<button id="btnSettingsEventSave" name="btnValue" value="Save" class="btn btn-primary" onclick="UpdateLogAlert();">Save</button>
				<button id="btnSettingsEventDelete" name="btnValue" value="Delete" class="btn btn-primary" onclick="DeleteAlert();">Delete</button>
				<button id="btnTimmerDisable" name="btnValue" value="Disable" class="btn btn-primary" onclick="DisableTimmer();">Disable Timer</button>	
				<button name="btnValue" value="Cancel" class="btn btn-default cancel">Cancel</button>
			
			</div>
		</div>
		
		
					<div class="form-group" style="width:400px; height:40px; margin-top:80px;">
		
		</div>
		
		
		
		</div>
</form>
<!--
		<link href="{{ url_for('static', filename='css/timepicker.less') }}" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-timepicker.js') }} " ></script> -->

  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap-datetimepicker.css') }}"/> 
<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-datetimepicker.js') }} " ></script>  

	<script type="text/javascript" src="{{ url_for('static', filename='js/pick-a-color-1.1.8.min.js') }}" type="text/javascript"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/tinycolor-0.9.15.min.js') }}" type="text/javascript"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-slider.min.js') }}"></script>
	
  <script type="text/javascript">
     //       $('#timepickerlow').timepicker();
	//		    $('#timepickerhigh').timepicker();
		var ds = new Date();
		var de = new Date();
		//ds.setUTCHours(0, 0, 0);
		//de.setUTCHours(23, 59, 59);
		ds.setHours(0, 0, 0);
		de.setHours(23, 59, 59);
				
		  $('.alertstart').datetimepicker({

		//initialDate: new Date().yyyymmddhhmmss(),
		initialDate: ds,
		//format:'hh:ii:ss',
		//startDate:ds,
		//endDate:de,
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 0,
		maxView: 4,
		forceParse: 0,
        showMeridian: 0
    });	
	
		$('.alertend').datetimepicker({

		//initialDate: new Date().yyyymmddhhmmss(),
		initialDate: de,
		//format:'hh:ii:ss',
		//startDate:ds,
		//endDate:de,
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 0,
		maxView: 4,
		forceParse: 0,
        showMeridian: 0
    });		
				
				
		dimmer = $("#LEDdimmer").slider();
	
		$("#LEDdimmer").on("slideStop", function(slideEvt) {
		$("#LEDdimmervalue").text(slideEvt.value);
			gDimmerValue = Math.floor((slideEvt.value));
			setDimmerButtonColorbySlider(gDimmerValue);
			
			
		});
		
		
		dimmerDefault = $("#LEDdimmerDefault").slider();
	
		$("#LEDdimmerDefault").on("slideStop", function(slideEvt) {
		$("#LEDdimmerDefaultvalue").text(slideEvt.value);
			gDimmerDefaultValue = Math.floor((slideEvt.value));
			
			setDefaultDimmerButtonColorbySlider(gDimmerDefaultValue);
			
		});
				
			$(".pick-a-color").pickAColor({
			  showSpectrum            : true,
				showSavedColors         : true,
				saveColorsPerElement    : true,
				fadeMenuToggle          : true,
				showAdvanced			: true,
				showBasicColors         : true,
				showHexInput            : true,
				allowBlank				: true,
				inlineDropdown			: false
			});
			
	
					$("#LEDcolor").on("change", function () {
    //console.log($(this).val());
	updateDimmerColor($(this).val())
	});			
				
        </script>


</div>
		
    

<!-- GEOFENCE TAB> ###################################################   -->
<div class="tab-pane" id="tabGeoFence">
		
	<div class="form-horizontal">
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }


</style>

			
	<Table class="alerttable" id="GeoReportSelect" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
		 <td style="width:220px;"> Start</td>
  
          <td style="width:100px;"> Span</td>    
          <td style="width:80px;"> Interval</td>
		  <td style="width:80px;"> Source</td>
		     <td style="width:80px;"> Marker</td>
		            <td style="width:80px;"> Limit</td>
				<td style="width:80px;"> Range</td>	
	      <!--  <td style="width:80px;"> Range</td>	-->
		
         <!-- <th class="control-label col-sm-2"> Get  </th> -->

			   </TR>
      </thead>
      <tbody class="alerttbody">
	  

		<div class="form-group">
		<input size="12" style="width:200px;" type="text"  id="GeoReportStart" readonly class="form_datetime" onchange="ChangedGeoReportStartDate();">
		<input type="hidden" id="GeoReportStartDate" onchange="ChangedGeoReportStartDate();" />

	   
	  
				
				


			
		
					<select style="width:100px;" class="form-control "  id="GeoReportRollup" name="GeoReportRollup" onchange="ChangedGeoReportRollup(this);">
					  <option value="1">1min</option>
					  <option value="2">2min</option>					  
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1440">1day</option>
					  <option value="2880">2day</option>
					  <option value="4320">3day</option>
					  <option value="5760">4day</option>
					  <option value="7200">5day</option>
					  <option value="8640">6day</option>
					  <option value="10080">1week</option>
					  <option value="20160">2weeks</option>
					  <option value="30240">3weeks</option>
					  <option value="1m">1month</option>
					  <option value="2m">2months</option>
					  <option value="2m">3months</option>
					  <option value="4m">4months</option>
					  <option value="5m">5months</option>
					  <option value="6m">6months</option>
				</select>		
			
		
			
			
			
					<select style="width:100px;" class="form-control "  id="GeoReportInterval" name="GeoReportInterval" onchange="ChangedGeoReportInterval(this);">
					  <option value="1">1min</option>
					  <option value="2">2min</option>					  
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1441">1day</option>
					  <option value="2881">2day</option>
					  <option value="4321">3day</option>
					  <option value="5761">4day</option>
					  <option value="7201">5day</option>
					  <option value="8641">6day</option>
					  <option value="10081">1week</option>
					  <option value="20161">2weeks</option>
					  <option value="30241">3weeks</option>
					  <option value="40321">4weeks</option>
  
				</select>	
				
			<select style="width:70px;" class="form-control "  id="GeoAlarmSource" name="GeoAlarmSource" onchange="ChangedGeoAlarmSource(this);">
					  <option value="*">any</option>
					  <option value="00">00</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1441">1day</option>
					  <option value="2881">2day</option>
					  <option value="4321">3day</option>
					  <option value="5761">4day</option>
					  <option value="7201">5day</option>
					  <option value="8641">6day</option>
					  <option value="10081">1week</option>
					  <option value="20161">2weeks</option>
					  <option value="30241">3weeks</option>
					  <option value="40321">4weeks</option>
  
				</select>	
				
					<select style="width:100px;" class="form-control "  id="GeoReportMarker" name="GeoReportMarker" onchange="ChangedGeoReportMarker(this);">
					  <option value="0">none</option>
					  <option value="1">Index</option>
					  <option value="2">Speed - calculated</option>
					  <option value="3">Speed - SOG</option>
					  <option value="4">Wind Speed - true</option>
					  <option value="5">Wind Speed - apparent</option>
					  <option value="6">Depth</option>
					  <option value="7">Temp - water</option>
					  <option value="8">Temp - air</option>
					  <option value="9">Temp - engine port</option>
					  <option value="10">Temp - engine strbd</option>
					  <option value="11">RPM - engine port</option>
					  <option value="12">RPM - engine strbd</option>
  
				</select>	
				
				<select class="form-control " id="GPSLimit" name="GPSLimit" size ="1"  style="width: 100px;" onchange="SetGPSLimitOptionList(this);">
				<option value="1000000"> 10,000 mph</option>
                <option value="100000">  1,000 mph</option>
				<option value="20000">  200 mph</option>
                <option value="10000">  100 mph</option>
				<option value="5000">  50 mph</option>
				<option value="2500">  25 mph</option>
                <option value="1000">  10 mph</option>
                <option value="100">  1.0 mph</option>				
                <option value="10">  0.1 mph</option>
                <option value="1">  0.01 mph</option>
                <option value=".1">  0.001 mph</option>
          </select>
		  
		  
		  <select style="width:100px;" class="form-control"  id="GeoReportRange" name="GeoReportRange" onchange="ChangedGeoReportRange(this);">
					  <option value="inside">Inside</option>
					  <option value="outside">Outside</option>
	
				</select>
		  
	
				<button id="btnGeoReportGet" name="btnValue" value="Get" class="btn btn-primary" "width:70px;" onclick="GetGeoReport();">Get</button>
				

			</div> <!-- form group -->
	  
	  
	  </tbody>
      
    </Table>
			
			
	
	    <div id="map_canvas" style="width:800px; height:600px; padding: 10px 10px 10px 10px;"  ></div>
		


</div> <!-- form-horizontal -->

<script>
	$(function () {
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabGeoFence')
				setTimeout(initializeMaps, 10);	//Workaround for Bootstrap tabs and google maps center bug.
		});
	});
</script>
<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-datetimepicker.js') }} " ></script>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap-datetimepicker.css') }}"/> 	

<script type="text/javascript">

    $('.form_datetime').datetimepicker({

		initialDate: new Date().yyyymmddhhmmss(),
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		forceParse: 0,
        showMeridian: 0
    });
	

</script>
</div>
	
<!-- GEOFENCE TAB> ###################################################   -->


<!-- Report TAB> ###################################################   -->
	<div class="tab-pane" id="tabGeoFenceReport">
		<div class="form-horizontal">
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }



</style>

			
			    <Table class="alerttable" id="ReportSelect" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
		
          <td style="width:300px;"> Event</td>
          <td style="width:100px;"> Span</td>    
          <td style="width:100px;"> Interval</td>
	
         <!-- <th class="control-label col-sm-2"> Get  </th> -->

			   </TR>
      </thead>
      <tbody class="alerttbody">
	  
	  
	  
				<div class="form-group">

				
				<select style="width:300px;" class="form-control" class="col-sm-5"" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="ReportsID" name="ReportsID" onchange="ChangedReportsID(this);">
				<option value="None"> ** No Events ** </option>
				</select>
			
	

					<select style="width:100px;" class="form-control "  id="ReportRollup" name="ReportRollup" onchange="ChangedReportRollup(this);">
					  <option value="1">1min</option>
					  <option value="2">2min</option>					  
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1440">1day</option>
					  <option value="2880">2day</option>
					  <option value="4320">3day</option>
					  <option value="5760">4day</option>
					  <option value="7200">5day</option>
					  <option value="8640">6day</option>
					  <option value="10080">1week</option>
					  <option value="20160">2weeks</option>
					  <option value="30240">3weeks</option>
					  <option value="1m">1month</option>
					  <option value="2m">2months</option>
					  <option value="2m">3months</option>
					  <option value="4m">4months</option>
					  <option value="5m">5months</option>
					  <option value="6m">6months</option>
				</select>		
	

					<select style="width:100px;" class="form-control "  id="ReportInterval" name="ReportInterval" onchange="ChangedReportInterval(this);">
					  <option value="1">1min</option>
					  <option value="2">2min</option>					  
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1441">1day</option>
					  <option value="2881">2day</option>
					  <option value="4321">3day</option>
					  <option value="5761">4day</option>
					  <option value="7201">5day</option>
					  <option value="8641">6day</option>
					  <option value="10081">1week</option>
					  <option value="20161">2weeks</option>
					  <option value="30241">3weeks</option>
					  <option value="40321">4weeks</option>
  
				</select>		
			

		  
				<button id="btnSettingsEventSave" name="btnValue" value="Save" class="btn btn-primary" onclick="GetReport();">Get Report</button>
				
			
	
	  
	  
	  </tbody>
      
    </Table>
			
			</div>		
			
	

		<div class="form-group text-center text-info" style="margin-top:10px;"  >
			<div class="alertdiv" id="report_data" style="width:100%; height:10%; display: block">


			<Table class="alerttable" id="ReportData" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

			  <thead class="alertthead">
				<TR>
				  <th> Timestamp</th>
				  <th> Source </th>
				  <th> Mean</th>    
				  <th> Min</th>
				  <th> Max  </th>
				  <th> Delta </th>
				  <th> Count </th>
				  <th>Status</th>
					   </TR>
			  </thead>
			  <tbody class="alerttbody"></tbody>
			  
			</Table>
    
			</div>
		</div>
		



	</div><!-- Form Horzinal> ###################################################   -->	

<!-- Report TAB> ###################################################   -->	
	</div>
	
	

	
	
</div>


</body>

</html>

